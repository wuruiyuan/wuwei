/*! Chat.53KF - 0.0.1 - 2017-09-19 01:27:03 */
Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){var c;if(null==this)throw new TypeError('"this" is null or not defined');var d=Object(this),e=d.length>>>0;if(0===e)return-1;var f=+b||0;if(Math.abs(f)===1/0&&(f=0),f>=e)return-1;for(c=Math.max(f>=0?f:e-Math.abs(f),0);e>c;){if(c in d&&d[c]===a)return c;c++}return-1}),function(){if(!Date.prototype.format){var a=function(){var b=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,c=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,d=/[^-+\dA-Z]/g,e=function(a,b){for(a=String(a),b=b||2;a.length<b;)a="0"+a;return a};return function(f,g,h){var i=a;if(1!=arguments.length||"[object String]"!=Object.prototype.toString.call(f)||/\d/.test(f)||(g=f,f=void 0),f=f?new Date(f):new Date,isNaN(f))throw SyntaxError("invalid date");g=String(i.masks[g]||g||i.masks["default"]),"UTC:"==g.slice(0,4)&&(g=g.slice(4),h=!0);var j=h?"getUTC":"get",k=f[j+"Date"](),l=f[j+"Day"](),m=f[j+"Month"](),n=f[j+"FullYear"](),o=f[j+"Hours"](),p=f[j+"Minutes"](),q=f[j+"Seconds"](),r=f[j+"Milliseconds"](),s=h?0:f.getTimezoneOffset(),t={d:k,dd:e(k),ddd:i.i18n.dayNames[l],dddd:i.i18n.dayNames[l+7],m:m+1,mm:e(m+1),mmm:i.i18n.monthNames[m],mmmm:i.i18n.monthNames[m+12],yy:String(n).slice(2),yyyy:n,h:o%12||12,hh:e(o%12||12),H:o,HH:e(o),M:p,MM:e(p),s:q,ss:e(q),l:e(r,3),L:e(r>99?Math.round(r/10):r),t:12>o?"a":"p",tt:12>o?"am":"pm",T:12>o?"A":"P",TT:12>o?"AM":"PM",Z:h?"UTC":(String(f).match(c)||[""]).pop().replace(d,""),o:(s>0?"-":"+")+e(100*Math.floor(Math.abs(s)/60)+Math.abs(s)%60,4),S:["th","st","nd","rd"][k%10>3?0:(k%100-k%10!=10)*k%10]};return g.replace(b,function(a){return a in t?t[a]:a.slice(1,a.length-1)})}}();a.masks={"default":"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"},a.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]},Date.prototype.format=function(b,c){return a(this,b,c)}}}(),String.prototype.format||(String.prototype.format=function(){var a=arguments;return this.replace(/{(\d+)}/g,function(b,c){return"undefined"!=typeof a[c]?a[c]:b})}),function(a){"use strict";function b(){if(arguments.length<2)throw"define arguments error";var a,b,c=arguments[0];if(2==arguments.length?a=arguments[1]:(b=arguments[1],a=arguments[2]),"undefined"!=typeof d[c])throw new Error(c+" already exsists");"undefined"==typeof b?b=[]:"[object Array]"!=Object.prototype.toString.apply(b)&&(b=[b]);for(var f=[],g=0;g<b.length;g++){var h=b[g];if("string"!=typeof h)f.push(h);else{if("undefined"==typeof d[h])throw new Error("dependency ["+h+"] not found");f.push(d[h])}}"function"==typeof a?d[c]=a.apply(e,f):d[c]=a}function c(a,b,c){"undefined"==typeof a?a=[]:"[object Array]"!=Object.prototype.toString.apply(a)&&(a=[a]);for(var e=[],f=0;f<a.length;f++){var g=a[f];if("string"!=typeof g)e.push(g);else{if("undefined"==typeof d[g])throw new Error("module ["+g+"] not found");e.push(d[g])}}"string"==typeof c&&"undefined"!=typeof d[c]&&(c=d[c]),b.apply(c||this,e)}var d={},e={require:function(a){return d[a]},define:b,use:c,modules:d};b.hz6d=1,a.define=a.define||b,a.use=a.use||c}(window),/*!
 * jQuery JavaScript Library v1.11.3
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2015-04-28T16:19Z
 */
function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:"function"==typeof define&&define.hz6d?define("jQuery",function(){return b(a,!0)}):b(a)}("undefined"!=typeof window?window:this,function(a,b){function c(a){var b="length"in a&&a.length,c=ea.type(a);return"function"===c||ea.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}function d(a,b,c){if(ea.isFunction(b))return ea.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return ea.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(ma.test(b))return ea.filter(b,a,c);b=ea.filter(b,a)}return ea.grep(a,function(a){return ea.inArray(a,b)>=0!==c})}function e(a,b){do a=a[b];while(a&&1!==a.nodeType);return a}function f(a){var b=ua[a]={};return ea.each(a.match(ta)||[],function(a,c){b[c]=!0}),b}function g(){oa.addEventListener?(oa.removeEventListener("DOMContentLoaded",h,!1),a.removeEventListener("load",h,!1)):(oa.detachEvent("onreadystatechange",h),a.detachEvent("onload",h))}function h(){(oa.addEventListener||"load"===event.type||"complete"===oa.readyState)&&(g(),ea.ready())}function i(a,b,c){if(void 0===c&&1===a.nodeType){var d="data-"+b.replace(za,"-$1").toLowerCase();if(c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:ya.test(c)?ea.parseJSON(c):c}catch(e){}ea.data(a,b,c)}else c=void 0}return c}function j(a){var b;for(b in a)if(("data"!==b||!ea.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;return!0}function k(a,b,c,d){if(ea.acceptData(a)){var e,f,g=ea.expando,h=a.nodeType,i=h?ea.cache:a,j=h?a[g]:a[g]&&g;if(j&&i[j]&&(d||i[j].data)||void 0!==c||"string"!=typeof b)return j||(j=h?a[g]=W.pop()||ea.guid++:g),i[j]||(i[j]=h?{}:{toJSON:ea.noop}),("object"==typeof b||"function"==typeof b)&&(d?i[j]=ea.extend(i[j],b):i[j].data=ea.extend(i[j].data,b)),f=i[j],d||(f.data||(f.data={}),f=f.data),void 0!==c&&(f[ea.camelCase(b)]=c),"string"==typeof b?(e=f[b],null==e&&(e=f[ea.camelCase(b)])):e=f,e}}function l(a,b,c){if(ea.acceptData(a)){var d,e,f=a.nodeType,g=f?ea.cache:a,h=f?a[ea.expando]:ea.expando;if(g[h]){if(b&&(d=c?g[h]:g[h].data)){ea.isArray(b)?b=b.concat(ea.map(b,ea.camelCase)):b in d?b=[b]:(b=ea.camelCase(b),b=b in d?[b]:b.split(" ")),e=b.length;for(;e--;)delete d[b[e]];if(c?!j(d):!ea.isEmptyObject(d))return}(c||(delete g[h].data,j(g[h])))&&(f?ea.cleanData([a],!0):ca.deleteExpando||g!=g.window?delete g[h]:g[h]=null)}}}function m(){return!0}function n(){return!1}function o(){try{return oa.activeElement}catch(a){}}function p(a){var b=Ka.split("|"),c=a.createDocumentFragment();if(c.createElement)for(;b.length;)c.createElement(b.pop());return c}function q(a,b){var c,d,e=0,f=typeof a.getElementsByTagName!==xa?a.getElementsByTagName(b||"*"):typeof a.querySelectorAll!==xa?a.querySelectorAll(b||"*"):void 0;if(!f)for(f=[],c=a.childNodes||a;null!=(d=c[e]);e++)!b||ea.nodeName(d,b)?f.push(d):ea.merge(f,q(d,b));return void 0===b||b&&ea.nodeName(a,b)?ea.merge([a],f):f}function r(a){Ea.test(a.type)&&(a.defaultChecked=a.checked)}function s(a,b){return ea.nodeName(a,"table")&&ea.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function t(a){return a.type=(null!==ea.find.attr(a,"type"))+"/"+a.type,a}function u(a){var b=Va.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function v(a,b){for(var c,d=0;null!=(c=a[d]);d++)ea._data(c,"globalEval",!b||ea._data(b[d],"globalEval"))}function w(a,b){if(1===b.nodeType&&ea.hasData(a)){var c,d,e,f=ea._data(a),g=ea._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h)for(d=0,e=h[c].length;e>d;d++)ea.event.add(b,c,h[c][d])}g.data&&(g.data=ea.extend({},g.data))}}function x(a,b){var c,d,e;if(1===b.nodeType){if(c=b.nodeName.toLowerCase(),!ca.noCloneEvent&&b[ea.expando]){e=ea._data(b);for(d in e.events)ea.removeEvent(b,d,e.handle);b.removeAttribute(ea.expando)}"script"===c&&b.text!==a.text?(t(b).text=a.text,u(b)):"object"===c?(b.parentNode&&(b.outerHTML=a.outerHTML),ca.html5Clone&&a.innerHTML&&!ea.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)):"input"===c&&Ea.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):"option"===c?b.defaultSelected=b.selected=a.defaultSelected:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}}function y(b,c){var d,e=ea(c.createElement(b)).appendTo(c.body),f=a.getDefaultComputedStyle&&(d=a.getDefaultComputedStyle(e[0]))?d.display:ea.css(e[0],"display");return e.detach(),f}function z(a){var b=oa,c=_a[a];return c||(c=y(a,b),"none"!==c&&c||($a=($a||ea("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=($a[0].contentWindow||$a[0].contentDocument).document,b.write(),b.close(),c=y(a,b),$a.detach()),_a[a]=c),c}function A(a,b){return{get:function(){var c=a();if(null!=c)return c?void delete this.get:(this.get=b).apply(this,arguments)}}}function B(a,b){if(b in a)return b;for(var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,e=mb.length;e--;)if(b=mb[e]+c,b in a)return b;return d}function C(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=ea._data(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&Ca(d)&&(f[g]=ea._data(d,"olddisplay",z(d.nodeName)))):(e=Ca(d),(c&&"none"!==c||!e)&&ea._data(d,"olddisplay",e?c:ea.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}function D(a,b,c){var d=ib.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function E(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=ea.css(a,c+Ba[f],!0,e)),d?("content"===c&&(g-=ea.css(a,"padding"+Ba[f],!0,e)),"margin"!==c&&(g-=ea.css(a,"border"+Ba[f]+"Width",!0,e))):(g+=ea.css(a,"padding"+Ba[f],!0,e),"padding"!==c&&(g+=ea.css(a,"border"+Ba[f]+"Width",!0,e)));return g}function F(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=ab(a),g=ca.boxSizing&&"border-box"===ea.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=bb(a,b,f),(0>e||null==e)&&(e=a.style[b]),db.test(e))return e;d=g&&(ca.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+E(a,b,c||(g?"border":"content"),d,f)+"px"}function G(a,b,c,d,e){return new G.prototype.init(a,b,c,d,e)}function H(){return setTimeout(function(){nb=void 0}),nb=ea.now()}function I(a,b){var c,d={height:a},e=0;for(b=b?1:0;4>e;e+=2-b)c=Ba[e],d["margin"+c]=d["padding"+c]=a;return b&&(d.opacity=d.width=a),d}function J(a,b,c){for(var d,e=(tb[b]||[]).concat(tb["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function K(a,b,c){var d,e,f,g,h,i,j,k,l=this,m={},n=a.style,o=a.nodeType&&Ca(a),p=ea._data(a,"fxshow");c.queue||(h=ea._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,l.always(function(){l.always(function(){h.unqueued--,ea.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[n.overflow,n.overflowX,n.overflowY],j=ea.css(a,"display"),k="none"===j?ea._data(a,"olddisplay")||z(a.nodeName):j,"inline"===k&&"none"===ea.css(a,"float")&&(ca.inlineBlockNeedsLayout&&"inline"!==z(a.nodeName)?n.zoom=1:n.display="inline-block")),c.overflow&&(n.overflow="hidden",ca.shrinkWrapBlocks()||l.always(function(){n.overflow=c.overflow[0],n.overflowX=c.overflow[1],n.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],pb.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(o?"hide":"show")){if("show"!==e||!p||void 0===p[d])continue;o=!0}m[d]=p&&p[d]||ea.style(a,d)}else j=void 0;if(ea.isEmptyObject(m))"inline"===("none"===j?z(a.nodeName):j)&&(n.display=j);else{p?"hidden"in p&&(o=p.hidden):p=ea._data(a,"fxshow",{}),f&&(p.hidden=!o),o?ea(a).show():l.done(function(){ea(a).hide()}),l.done(function(){var b;ea._removeData(a,"fxshow");for(b in m)ea.style(a,b,m[b])});for(d in m)g=J(o?p[d]:0,d,l),d in p||(p[d]=g.start,o&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function L(a,b){var c,d,e,f,g;for(c in a)if(d=ea.camelCase(c),e=b[d],f=a[c],ea.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=ea.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function M(a,b,c){var d,e,f=0,g=sb.length,h=ea.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=nb||H(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:ea.extend({},b),opts:ea.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:nb||H(),duration:c.duration,tweens:[],createTween:function(b,c){var d=ea.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(L(k,j.opts.specialEasing);g>f;f++)if(d=sb[f].call(j,a,k,j.opts))return d;return ea.map(k,J,j),ea.isFunction(j.opts.start)&&j.opts.start.call(a,j),ea.fx.timer(ea.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}function N(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(ta)||[];if(ea.isFunction(c))for(;d=f[e++];)"+"===d.charAt(0)?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function O(a,b,c,d){function e(h){var i;return f[h]=!0,ea.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||g||f[j]?g?!(i=j):void 0:(b.dataTypes.unshift(j),e(j),!1)}),i}var f={},g=a===Rb;return e(b.dataTypes[0])||!f["*"]&&e("*")}function P(a,b){var c,d,e=ea.ajaxSettings.flatOptions||{};for(d in b)void 0!==b[d]&&((e[d]?a:c||(c={}))[d]=b[d]);return c&&ea.extend(!0,a,c),a}function Q(a,b,c){for(var d,e,f,g,h=a.contents,i=a.dataTypes;"*"===i[0];)i.shift(),void 0===e&&(e=a.mimeType||b.getResponseHeader("Content-Type"));if(e)for(g in h)if(h[g]&&h[g].test(e)){i.unshift(g);break}if(i[0]in c)f=i[0];else{for(g in c){if(!i[0]||a.converters[g+" "+i[0]]){f=g;break}d||(d=g)}f=f||d}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function R(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];for(f=k.shift();f;)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}function S(a,b,c,d){var e;if(ea.isArray(b))ea.each(b,function(b,e){c||Vb.test(a)?d(a,e):S(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==ea.type(b))d(a,b);else for(e in b)S(a+"["+e+"]",b[e],c,d)}function T(){try{return new a.XMLHttpRequest}catch(b){}}function U(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}function V(a){return ea.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}var W=[],X=W.slice,Y=W.concat,Z=W.push,$=W.indexOf,_={},aa=_.toString,ba=_.hasOwnProperty,ca={},da="1.11.3",ea=function(a,b){return new ea.fn.init(a,b)},fa=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ga=/^-ms-/,ha=/-([\da-z])/gi,ia=function(a,b){return b.toUpperCase()};ea.fn=ea.prototype={jquery:da,constructor:ea,selector:"",length:0,toArray:function(){return X.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:X.call(this)},pushStack:function(a){var b=ea.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return ea.each(this,a,b)},map:function(a){return this.pushStack(ea.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(X.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:Z,sort:W.sort,splice:W.splice},ea.extend=ea.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||ea.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(e=arguments[h]))for(d in e)a=g[d],c=e[d],g!==c&&(j&&c&&(ea.isPlainObject(c)||(b=ea.isArray(c)))?(b?(b=!1,f=a&&ea.isArray(a)?a:[]):f=a&&ea.isPlainObject(a)?a:{},g[d]=ea.extend(j,f,c)):void 0!==c&&(g[d]=c));return g},ea.extend({expando:"jQuery"+(da+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===ea.type(a)},isArray:Array.isArray||function(a){return"array"===ea.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!ea.isArray(a)&&a-parseFloat(a)+1>=0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},isPlainObject:function(a){var b;if(!a||"object"!==ea.type(a)||a.nodeType||ea.isWindow(a))return!1;try{if(a.constructor&&!ba.call(a,"constructor")&&!ba.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}if(ca.ownLast)for(b in a)return ba.call(a,b);for(b in a);return void 0===b||ba.call(a,b)},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?_[aa.call(a)]||"object":typeof a},globalEval:function(b){b&&ea.trim(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(ga,"ms-").replace(ha,ia)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,d){var e,f=0,g=a.length,h=c(a);if(d){if(h)for(;g>f&&(e=b.apply(a[f],d),e!==!1);f++);else for(f in a)if(e=b.apply(a[f],d),e===!1)break}else if(h)for(;g>f&&(e=b.call(a[f],f,a[f]),e!==!1);f++);else for(f in a)if(e=b.call(a[f],f,a[f]),e===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(fa,"")},makeArray:function(a,b){var d=b||[];return null!=a&&(c(Object(a))?ea.merge(d,"string"==typeof a?[a]:a):Z.call(d,a)),d},inArray:function(a,b,c){var d;if(b){if($)return $.call(b,a,c);for(d=b.length,c=c?0>c?Math.max(0,d+c):c:0;d>c;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;)a[e++]=b[d++];if(c!==c)for(;void 0!==b[d];)a[e++]=b[d++];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,d){var e,f=0,g=a.length,h=c(a),i=[];if(h)for(;g>f;f++)e=b(a[f],f,d),null!=e&&i.push(e);else for(f in a)e=b(a[f],f,d),null!=e&&i.push(e);return Y.apply([],i)},guid:1,proxy:function(a,b){var c,d,e;return"string"==typeof b&&(e=a[b],b=a,a=e),ea.isFunction(a)?(c=X.call(arguments,2),d=function(){return a.apply(b||this,c.concat(X.call(arguments)))},d.guid=a.guid=a.guid||ea.guid++,d):void 0},now:function(){return+new Date},support:ca}),ea.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){_["[object "+b+"]"]=b.toLowerCase()});var ja=/*!
 * Sizzle CSS Selector Engine v2.2.0-pre
 * http://sizzlejs.com/
 *
 * Copyright 2008, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-12-16
 */
function(a){function b(a,b,c,d){var e,f,g,h,i,j,l,n,o,p;if((b?b.ownerDocument||b:O)!==G&&F(b),b=b||G,c=c||[],h=b.nodeType,"string"!=typeof a||!a||1!==h&&9!==h&&11!==h)return c;if(!d&&I){if(11!==h&&(e=sa.exec(a)))if(g=e[1]){if(9===h){if(f=b.getElementById(g),!f||!f.parentNode)return c;if(f.id===g)return c.push(f),c}else if(b.ownerDocument&&(f=b.ownerDocument.getElementById(g))&&M(b,f)&&f.id===g)return c.push(f),c}else{if(e[2])return $.apply(c,b.getElementsByTagName(a)),c;if((g=e[3])&&v.getElementsByClassName)return $.apply(c,b.getElementsByClassName(g)),c}if(v.qsa&&(!J||!J.test(a))){if(n=l=N,o=b,p=1!==h&&a,1===h&&"object"!==b.nodeName.toLowerCase()){for(j=z(a),(l=b.getAttribute("id"))?n=l.replace(ua,"\\$&"):b.setAttribute("id",n),n="[id='"+n+"'] ",i=j.length;i--;)j[i]=n+m(j[i]);o=ta.test(a)&&k(b.parentNode)||b,p=j.join(",")}if(p)try{return $.apply(c,o.querySelectorAll(p)),c}catch(q){}finally{l||b.removeAttribute("id")}}}return B(a.replace(ia,"$1"),b,c,d)}function c(){function a(c,d){return b.push(c+" ")>w.cacheLength&&delete a[b.shift()],a[c+" "]=d}var b=[];return a}function d(a){return a[N]=!0,a}function e(a){var b=G.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function f(a,b){for(var c=a.split("|"),d=a.length;d--;)w.attrHandle[c[d]]=b}function g(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||V)-(~a.sourceIndex||V);if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function h(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function i(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function j(a){return d(function(b){return b=+b,d(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function k(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}function l(){}function m(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function n(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=Q++;return b.first?function(b,c,f){for(;b=b[d];)if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j=[P,f];if(g){for(;b=b[d];)if((1===b.nodeType||e)&&a(b,c,g))return!0}else for(;b=b[d];)if(1===b.nodeType||e){if(i=b[N]||(b[N]={}),(h=i[d])&&h[0]===P&&h[1]===f)return j[2]=h[2];if(i[d]=j,j[2]=a(b,c,g))return!0}}}function o(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function p(a,c,d){for(var e=0,f=c.length;f>e;e++)b(a,c[e],d);return d}function q(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function r(a,b,c,e,f,g){return e&&!e[N]&&(e=r(e)),f&&!f[N]&&(f=r(f,g)),d(function(d,g,h,i){var j,k,l,m=[],n=[],o=g.length,r=d||p(b||"*",h.nodeType?[h]:h,[]),s=!a||!d&&b?r:q(r,m,a,h,i),t=c?f||(d?a:o||e)?[]:g:s;if(c&&c(s,t,h,i),e)for(j=q(t,n),e(j,[],h,i),k=j.length;k--;)(l=j[k])&&(t[n[k]]=!(s[n[k]]=l));if(d){if(f||a){if(f){for(j=[],k=t.length;k--;)(l=t[k])&&j.push(s[k]=l);f(null,t=[],j,i)}for(k=t.length;k--;)(l=t[k])&&(j=f?aa(d,l):m[k])>-1&&(d[j]=!(g[j]=l))}}else t=q(t===g?t.splice(o,t.length):t),f?f(null,g,t,i):$.apply(g,t)})}function s(a){for(var b,c,d,e=a.length,f=w.relative[a[0].type],g=f||w.relative[" "],h=f?1:0,i=n(function(a){return a===b},g,!0),j=n(function(a){return aa(b,a)>-1},g,!0),k=[function(a,c,d){var e=!f&&(d||c!==C)||((b=c).nodeType?i(a,c,d):j(a,c,d));return b=null,e}];e>h;h++)if(c=w.relative[a[h].type])k=[n(o(k),c)];else{if(c=w.filter[a[h].type].apply(null,a[h].matches),c[N]){for(d=++h;e>d&&!w.relative[a[d].type];d++);return r(h>1&&o(k),h>1&&m(a.slice(0,h-1).concat({value:" "===a[h-2].type?"*":""})).replace(ia,"$1"),c,d>h&&s(a.slice(h,d)),e>d&&s(a=a.slice(d)),e>d&&m(a))}k.push(c)}return o(k)}function t(a,c){var e=c.length>0,f=a.length>0,g=function(d,g,h,i,j){var k,l,m,n=0,o="0",p=d&&[],r=[],s=C,t=d||f&&w.find.TAG("*",j),u=P+=null==s?1:Math.random()||.1,v=t.length;for(j&&(C=g!==G&&g);o!==v&&null!=(k=t[o]);o++){if(f&&k){for(l=0;m=a[l++];)if(m(k,g,h)){i.push(k);break}j&&(P=u)}e&&((k=!m&&k)&&n--,d&&p.push(k))}if(n+=o,e&&o!==n){for(l=0;m=c[l++];)m(p,r,g,h);if(d){if(n>0)for(;o--;)p[o]||r[o]||(r[o]=Y.call(i));r=q(r)}$.apply(i,r),j&&!d&&r.length>0&&n+c.length>1&&b.uniqueSort(i)}return j&&(P=u,C=s),p};return e?d(g):g}var u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N="sizzle"+1*new Date,O=a.document,P=0,Q=0,R=c(),S=c(),T=c(),U=function(a,b){return a===b&&(E=!0),0},V=1<<31,W={}.hasOwnProperty,X=[],Y=X.pop,Z=X.push,$=X.push,_=X.slice,aa=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},ba="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ca="[\\x20\\t\\r\\n\\f]",da="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ea=da.replace("w","w#"),fa="\\["+ca+"*("+da+")(?:"+ca+"*([*^$|!~]?=)"+ca+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ea+"))|)"+ca+"*\\]",ga=":("+da+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+fa+")*)|.*)\\)|)",ha=new RegExp(ca+"+","g"),ia=new RegExp("^"+ca+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ca+"+$","g"),ja=new RegExp("^"+ca+"*,"+ca+"*"),ka=new RegExp("^"+ca+"*([>+~]|"+ca+")"+ca+"*"),la=new RegExp("="+ca+"*([^\\]'\"]*?)"+ca+"*\\]","g"),ma=new RegExp(ga),na=new RegExp("^"+ea+"$"),oa={ID:new RegExp("^#("+da+")"),CLASS:new RegExp("^\\.("+da+")"),TAG:new RegExp("^("+da.replace("w","w*")+")"),ATTR:new RegExp("^"+fa),PSEUDO:new RegExp("^"+ga),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ca+"*(even|odd|(([+-]|)(\\d*)n|)"+ca+"*(?:([+-]|)"+ca+"*(\\d+)|))"+ca+"*\\)|)","i"),bool:new RegExp("^(?:"+ba+")$","i"),needsContext:new RegExp("^"+ca+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ca+"*((?:-\\d)?\\d*)"+ca+"*\\)|)(?=[^-]|$)","i")},pa=/^(?:input|select|textarea|button)$/i,qa=/^h\d$/i,ra=/^[^{]+\{\s*\[native \w/,sa=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ta=/[+~]/,ua=/'|\\/g,va=new RegExp("\\\\([\\da-f]{1,6}"+ca+"?|("+ca+")|.)","ig"),wa=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},xa=function(){F()};try{$.apply(X=_.call(O.childNodes),O.childNodes),X[O.childNodes.length].nodeType}catch(ya){$={apply:X.length?function(a,b){Z.apply(a,_.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}v=b.support={},y=b.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},F=b.setDocument=function(a){var b,c,d=a?a.ownerDocument||a:O;return d!==G&&9===d.nodeType&&d.documentElement?(G=d,H=d.documentElement,c=d.defaultView,c&&c!==c.top&&(c.addEventListener?c.addEventListener("unload",xa,!1):c.attachEvent&&c.attachEvent("onunload",xa)),I=!y(d),v.attributes=e(function(a){return a.className="i",!a.getAttribute("className")}),v.getElementsByTagName=e(function(a){return a.appendChild(d.createComment("")),!a.getElementsByTagName("*").length}),v.getElementsByClassName=ra.test(d.getElementsByClassName),v.getById=e(function(a){return H.appendChild(a).id=N,!d.getElementsByName||!d.getElementsByName(N).length}),v.getById?(w.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&I){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},w.filter.ID=function(a){var b=a.replace(va,wa);return function(a){return a.getAttribute("id")===b}}):(delete w.find.ID,w.filter.ID=function(a){var b=a.replace(va,wa);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}}),w.find.TAG=v.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):v.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){for(;c=f[e++];)1===c.nodeType&&d.push(c);return d}return f},w.find.CLASS=v.getElementsByClassName&&function(a,b){return I?b.getElementsByClassName(a):void 0},K=[],J=[],(v.qsa=ra.test(d.querySelectorAll))&&(e(function(a){H.appendChild(a).innerHTML="<a id='"+N+"'></a><select id='"+N+"-\f]' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&J.push("[*^$]="+ca+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||J.push("\\["+ca+"*(?:value|"+ba+")"),a.querySelectorAll("[id~="+N+"-]").length||J.push("~="),a.querySelectorAll(":checked").length||J.push(":checked"),a.querySelectorAll("a#"+N+"+*").length||J.push(".#.+[+~]")}),e(function(a){var b=d.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&J.push("name"+ca+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||J.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),J.push(",.*:")})),(v.matchesSelector=ra.test(L=H.matches||H.webkitMatchesSelector||H.mozMatchesSelector||H.oMatchesSelector||H.msMatchesSelector))&&e(function(a){v.disconnectedMatch=L.call(a,"div"),L.call(a,"[s!='']:x"),K.push("!=",ga)}),J=J.length&&new RegExp(J.join("|")),K=K.length&&new RegExp(K.join("|")),b=ra.test(H.compareDocumentPosition),M=b||ra.test(H.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},U=b?function(a,b){if(a===b)return E=!0,0;var c=!a.compareDocumentPosition-!b.compareDocumentPosition;return c?c:(c=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&c||!v.sortDetached&&b.compareDocumentPosition(a)===c?a===d||a.ownerDocument===O&&M(O,a)?-1:b===d||b.ownerDocument===O&&M(O,b)?1:D?aa(D,a)-aa(D,b):0:4&c?-1:1)}:function(a,b){if(a===b)return E=!0,0;var c,e=0,f=a.parentNode,h=b.parentNode,i=[a],j=[b];if(!f||!h)return a===d?-1:b===d?1:f?-1:h?1:D?aa(D,a)-aa(D,b):0;if(f===h)return g(a,b);for(c=a;c=c.parentNode;)i.unshift(c);for(c=b;c=c.parentNode;)j.unshift(c);for(;i[e]===j[e];)e++;return e?g(i[e],j[e]):i[e]===O?-1:j[e]===O?1:0},d):G},b.matches=function(a,c){return b(a,null,null,c)},b.matchesSelector=function(a,c){if((a.ownerDocument||a)!==G&&F(a),c=c.replace(la,"='$1']"),v.matchesSelector&&I&&(!K||!K.test(c))&&(!J||!J.test(c)))try{var d=L.call(a,c);if(d||v.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return b(c,G,null,[a]).length>0},b.contains=function(a,b){return(a.ownerDocument||a)!==G&&F(a),M(a,b)},b.attr=function(a,b){(a.ownerDocument||a)!==G&&F(a);var c=w.attrHandle[b.toLowerCase()],d=c&&W.call(w.attrHandle,b.toLowerCase())?c(a,b,!I):void 0;return void 0!==d?d:v.attributes||!I?a.getAttribute(b):(d=a.getAttributeNode(b))&&d.specified?d.value:null},b.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},b.uniqueSort=function(a){var b,c=[],d=0,e=0;if(E=!v.detectDuplicates,D=!v.sortStable&&a.slice(0),a.sort(U),E){for(;b=a[e++];)b===a[e]&&(d=c.push(e));for(;d--;)a.splice(c[d],1)}return D=null,a},x=b.getText=function(a){var b,c="",d=0,e=a.nodeType;if(e){if(1===e||9===e||11===e){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=x(a)}else if(3===e||4===e)return a.nodeValue}else for(;b=a[d++];)c+=x(b);return c},w=b.selectors={cacheLength:50,createPseudo:d,match:oa,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(va,wa),a[3]=(a[3]||a[4]||a[5]||"").replace(va,wa),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||b.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&b.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return oa.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&ma.test(c)&&(b=z(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(va,wa).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=R[a+" "];return b||(b=new RegExp("(^|"+ca+")"+a+"("+ca+"|$)"))&&R(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,c,d){return function(e){var f=b.attr(e,a);return null==f?"!="===c:c?(f+="","="===c?f===d:"!="===c?f!==d:"^="===c?d&&0===f.indexOf(d):"*="===c?d&&f.indexOf(d)>-1:"$="===c?d&&f.slice(-d.length)===d:"~="===c?(" "+f.replace(ha," ")+" ").indexOf(d)>-1:"|="===c?f===d||f.slice(0,d.length+1)===d+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){for(;p;){for(l=b;l=l[p];)if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){for(k=q[N]||(q[N]={}),j=k[a]||[],n=j[0]===P&&j[1],m=j[0]===P&&j[2],l=n&&q.childNodes[n];l=++n&&l&&l[p]||(m=n=0)||o.pop();)if(1===l.nodeType&&++m&&l===b){k[a]=[P,n,m];break}}else if(s&&(j=(b[N]||(b[N]={}))[a])&&j[0]===P)m=j[1];else for(;(l=++n&&l&&l[p]||(m=n=0)||o.pop())&&((h?l.nodeName.toLowerCase()!==r:1!==l.nodeType)||!++m||(s&&((l[N]||(l[N]={}))[a]=[P,m]),l!==b)););return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,c){var e,f=w.pseudos[a]||w.setFilters[a.toLowerCase()]||b.error("unsupported pseudo: "+a);return f[N]?f(c):f.length>1?(e=[a,a,"",c],w.setFilters.hasOwnProperty(a.toLowerCase())?d(function(a,b){for(var d,e=f(a,c),g=e.length;g--;)d=aa(a,e[g]),a[d]=!(b[d]=e[g])}):function(a){return f(a,0,e)}):f}},pseudos:{not:d(function(a){var b=[],c=[],e=A(a.replace(ia,"$1"));return e[N]?d(function(a,b,c,d){for(var f,g=e(a,null,d,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,d,f){return b[0]=a,e(b,null,f,c),b[0]=null,!c.pop()}}),has:d(function(a){return function(c){return b(a,c).length>0}}),contains:d(function(a){return a=a.replace(va,wa),function(b){return(b.textContent||b.innerText||x(b)).indexOf(a)>-1}}),lang:d(function(a){return na.test(a||"")||b.error("unsupported lang: "+a),a=a.replace(va,wa).toLowerCase(),function(b){var c;do if(c=I?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===H},focus:function(a){return a===G.activeElement&&(!G.hasFocus||G.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!w.pseudos.empty(a)},header:function(a){return qa.test(a.nodeName)},input:function(a){return pa.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:j(function(){return[0]}),last:j(function(a,b){return[b-1]}),eq:j(function(a,b,c){return[0>c?c+b:c]}),even:j(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:j(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:j(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:j(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},w.pseudos.nth=w.pseudos.eq;for(u in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[u]=h(u);for(u in{submit:!0,reset:!0})w.pseudos[u]=i(u);return l.prototype=w.filters=w.pseudos,w.setFilters=new l,z=b.tokenize=function(a,c){var d,e,f,g,h,i,j,k=S[a+" "];if(k)return c?0:k.slice(0);for(h=a,i=[],j=w.preFilter;h;){(!d||(e=ja.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),d=!1,(e=ka.exec(h))&&(d=e.shift(),f.push({value:d,type:e[0].replace(ia," ")}),h=h.slice(d.length));for(g in w.filter)!(e=oa[g].exec(h))||j[g]&&!(e=j[g](e))||(d=e.shift(),f.push({value:d,type:g,matches:e}),h=h.slice(d.length));if(!d)break}return c?h.length:h?b.error(a):S(a,i).slice(0)},A=b.compile=function(a,b){var c,d=[],e=[],f=T[a+" "];if(!f){for(b||(b=z(a)),c=b.length;c--;)f=s(b[c]),f[N]?d.push(f):e.push(f);f=T(a,t(e,d)),f.selector=a}return f},B=b.select=function(a,b,c,d){var e,f,g,h,i,j="function"==typeof a&&a,l=!d&&z(a=j.selector||a);if(c=c||[],1===l.length){if(f=l[0]=l[0].slice(0),f.length>2&&"ID"===(g=f[0]).type&&v.getById&&9===b.nodeType&&I&&w.relative[f[1].type]){if(b=(w.find.ID(g.matches[0].replace(va,wa),b)||[])[0],!b)return c;j&&(b=b.parentNode),a=a.slice(f.shift().value.length)}for(e=oa.needsContext.test(a)?0:f.length;e--&&(g=f[e],!w.relative[h=g.type]);)if((i=w.find[h])&&(d=i(g.matches[0].replace(va,wa),ta.test(f[0].type)&&k(b.parentNode)||b))){if(f.splice(e,1),a=d.length&&m(f),!a)return $.apply(c,d),c;break}}return(j||A(a,l))(d,b,!I,c,ta.test(a)&&k(b.parentNode)||b),c},v.sortStable=N.split("").sort(U).join("")===N,v.detectDuplicates=!!E,F(),v.sortDetached=e(function(a){return 1&a.compareDocumentPosition(G.createElement("div"))}),e(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||f("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),v.attributes&&e(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||f("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),e(function(a){return null==a.getAttribute("disabled")})||f(ba,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),b}(a);ea.find=ja,ea.expr=ja.selectors,ea.expr[":"]=ea.expr.pseudos,ea.unique=ja.uniqueSort,ea.text=ja.getText,ea.isXMLDoc=ja.isXML,ea.contains=ja.contains;var ka=ea.expr.match.needsContext,la=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ma=/^.[^:#\[\.,]*$/;ea.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?ea.find.matchesSelector(d,a)?[d]:[]:ea.find.matches(a,ea.grep(b,function(a){return 1===a.nodeType}))},ea.fn.extend({find:function(a){var b,c=[],d=this,e=d.length;if("string"!=typeof a)return this.pushStack(ea(a).filter(function(){for(b=0;e>b;b++)if(ea.contains(d[b],this))return!0}));for(b=0;e>b;b++)ea.find(a,d[b],c);return c=this.pushStack(e>1?ea.unique(c):c),c.selector=this.selector?this.selector+" "+a:a,c},filter:function(a){return this.pushStack(d(this,a||[],!1))},not:function(a){return this.pushStack(d(this,a||[],!0))},is:function(a){return!!d(this,"string"==typeof a&&ka.test(a)?ea(a):a||[],!1).length}});var na,oa=a.document,pa=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,qa=ea.fn.init=function(a,b){var c,d;if(!a)return this;if("string"==typeof a){if(c="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3?[null,a,null]:pa.exec(a),!c||!c[1]&&b)return!b||b.jquery?(b||na).find(a):this.constructor(b).find(a);if(c[1]){if(b=b instanceof ea?b[0]:b,ea.merge(this,ea.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:oa,!0)),la.test(c[1])&&ea.isPlainObject(b))for(c in b)ea.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c]);return this}if(d=oa.getElementById(c[2]),d&&d.parentNode){if(d.id!==c[2])return na.find(a);this.length=1,this[0]=d}return this.context=oa,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):ea.isFunction(a)?"undefined"!=typeof na.ready?na.ready(a):a(ea):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),ea.makeArray(a,this))};qa.prototype=ea.fn,na=ea(oa);var ra=/^(?:parents|prev(?:Until|All))/,sa={children:!0,contents:!0,next:!0,prev:!0};ea.extend({dir:function(a,b,c){for(var d=[],e=a[b];e&&9!==e.nodeType&&(void 0===c||1!==e.nodeType||!ea(e).is(c));)1===e.nodeType&&d.push(e),e=e[b];return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}}),ea.fn.extend({has:function(a){var b,c=ea(a,this),d=c.length;return this.filter(function(){for(b=0;d>b;b++)if(ea.contains(this,c[b]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=ka.test(a)||"string"!=typeof a?ea(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&ea.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?ea.unique(f):f)},index:function(a){return a?"string"==typeof a?ea.inArray(this[0],ea(a)):ea.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(ea.unique(ea.merge(this.get(),ea(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}}),ea.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return ea.dir(a,"parentNode")},parentsUntil:function(a,b,c){return ea.dir(a,"parentNode",c)},next:function(a){return e(a,"nextSibling")},prev:function(a){return e(a,"previousSibling")},nextAll:function(a){return ea.dir(a,"nextSibling")},prevAll:function(a){return ea.dir(a,"previousSibling")},nextUntil:function(a,b,c){return ea.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return ea.dir(a,"previousSibling",c)},siblings:function(a){return ea.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return ea.sibling(a.firstChild)},contents:function(a){return ea.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:ea.merge([],a.childNodes)}},function(a,b){ea.fn[a]=function(c,d){var e=ea.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=ea.filter(d,e)),this.length>1&&(sa[a]||(e=ea.unique(e)),ra.test(a)&&(e=e.reverse())),this.pushStack(e)}});var ta=/\S+/g,ua={};ea.Callbacks=function(a){a="string"==typeof a?ua[a]||f(a):ea.extend({},a);var b,c,d,e,g,h,i=[],j=!a.once&&[],k=function(f){for(c=a.memory&&f,d=!0,g=h||0,h=0,e=i.length,b=!0;i&&e>g;g++)if(i[g].apply(f[0],f[1])===!1&&a.stopOnFalse){c=!1;break}b=!1,i&&(j?j.length&&k(j.shift()):c?i=[]:l.disable())},l={add:function(){if(i){var d=i.length;!function f(b){ea.each(b,function(b,c){var d=ea.type(c);"function"===d?a.unique&&l.has(c)||i.push(c):c&&c.length&&"string"!==d&&f(c)})}(arguments),b?e=i.length:c&&(h=d,k(c))}return this},remove:function(){return i&&ea.each(arguments,function(a,c){for(var d;(d=ea.inArray(c,i,d))>-1;)i.splice(d,1),b&&(e>=d&&e--,g>=d&&g--)}),this},has:function(a){return a?ea.inArray(a,i)>-1:!(!i||!i.length)},empty:function(){return i=[],e=0,this},disable:function(){return i=j=c=void 0,this},disabled:function(){return!i},lock:function(){return j=void 0,c||l.disable(),this},locked:function(){return!j},fireWith:function(a,c){return!i||d&&!j||(c=c||[],c=[a,c.slice?c.slice():c],b?j.push(c):k(c)),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!d}};return l},ea.extend({Deferred:function(a){var b=[["resolve","done",ea.Callbacks("once memory"),"resolved"],["reject","fail",ea.Callbacks("once memory"),"rejected"],["notify","progress",ea.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return ea.Deferred(function(c){ea.each(b,function(b,f){var g=ea.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&ea.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?ea.extend(a,d):d}},e={};return d.pipe=d.then,ea.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b,c,d,e=0,f=X.call(arguments),g=f.length,h=1!==g||a&&ea.isFunction(a.promise)?g:0,i=1===h?a:ea.Deferred(),j=function(a,c,d){return function(e){c[a]=this,d[a]=arguments.length>1?X.call(arguments):e,d===b?i.notifyWith(c,d):--h||i.resolveWith(c,d)}};if(g>1)for(b=new Array(g),c=new Array(g),d=new Array(g);g>e;e++)f[e]&&ea.isFunction(f[e].promise)?f[e].promise().done(j(e,d,f)).fail(i.reject).progress(j(e,c,b)):--h;return h||i.resolveWith(d,f),i.promise()}});var va;ea.fn.ready=function(a){return ea.ready.promise().done(a),this},ea.extend({isReady:!1,readyWait:1,holdReady:function(a){a?ea.readyWait++:ea.ready(!0)},ready:function(a){if(a===!0?!--ea.readyWait:!ea.isReady){if(!oa.body)return setTimeout(ea.ready);ea.isReady=!0,a!==!0&&--ea.readyWait>0||(va.resolveWith(oa,[ea]),ea.fn.triggerHandler&&(ea(oa).triggerHandler("ready"),ea(oa).off("ready")))}}}),ea.ready.promise=function(b){if(!va)if(va=ea.Deferred(),"complete"===oa.readyState)setTimeout(ea.ready);else if(oa.addEventListener)oa.addEventListener("DOMContentLoaded",h,!1),a.addEventListener("load",h,!1);else{oa.attachEvent("onreadystatechange",h),a.attachEvent("onload",h);var c=!1;try{c=null==a.frameElement&&oa.documentElement}catch(d){}c&&c.doScroll&&!function e(){if(!ea.isReady){try{c.doScroll("left")}catch(a){return setTimeout(e,50)}g(),ea.ready()}}()}return va.promise(b)};var wa,xa="undefined";for(wa in ea(ca))break;ca.ownLast="0"!==wa,ca.inlineBlockNeedsLayout=!1,ea(function(){var a,b,c,d;c=oa.getElementsByTagName("body")[0],c&&c.style&&(b=oa.createElement("div"),d=oa.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),typeof b.style.zoom!==xa&&(b.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",ca.inlineBlockNeedsLayout=a=3===b.offsetWidth,a&&(c.style.zoom=1)),c.removeChild(d))}),function(){var a=oa.createElement("div");if(null==ca.deleteExpando){ca.deleteExpando=!0;try{delete a.test}catch(b){ca.deleteExpando=!1}}a=null}(),ea.acceptData=function(a){var b=ea.noData[(a.nodeName+" ").toLowerCase()],c=+a.nodeType||1;return 1!==c&&9!==c?!1:!b||b!==!0&&a.getAttribute("classid")===b};var ya=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,za=/([A-Z])/g;ea.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(a){return a=a.nodeType?ea.cache[a[ea.expando]]:a[ea.expando],!!a&&!j(a)},data:function(a,b,c){return k(a,b,c)},removeData:function(a,b){return l(a,b)},_data:function(a,b,c){return k(a,b,c,!0)},_removeData:function(a,b){return l(a,b,!0)}}),ea.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=ea.data(f),1===f.nodeType&&!ea._data(f,"parsedAttrs"))){for(c=g.length;c--;)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=ea.camelCase(d.slice(5)),i(f,d,e[d])));ea._data(f,"parsedAttrs",!0)}return e}return"object"==typeof a?this.each(function(){ea.data(this,a)}):arguments.length>1?this.each(function(){ea.data(this,a,b)}):f?i(f,a,ea.data(f,a)):void 0},removeData:function(a){return this.each(function(){ea.removeData(this,a)})}}),ea.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=ea._data(a,b),c&&(!d||ea.isArray(c)?d=ea._data(a,b,ea.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=ea.queue(a,b),d=c.length,e=c.shift(),f=ea._queueHooks(a,b),g=function(){ea.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return ea._data(a,c)||ea._data(a,c,{empty:ea.Callbacks("once memory").add(function(){ea._removeData(a,b+"queue"),ea._removeData(a,c)})})}}),ea.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?ea.queue(this[0],a):void 0===b?this:this.each(function(){var c=ea.queue(this,a,b);ea._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&ea.dequeue(this,a)})},dequeue:function(a){return this.each(function(){ea.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=ea.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};for("string"!=typeof a&&(b=a,a=void 0),a=a||"fx";g--;)c=ea._data(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var Aa=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ba=["Top","Right","Bottom","Left"],Ca=function(a,b){return a=b||a,"none"===ea.css(a,"display")||!ea.contains(a.ownerDocument,a)},Da=ea.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===ea.type(c)){e=!0;for(h in c)ea.access(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,ea.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(ea(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},Ea=/^(?:checkbox|radio)$/i;!function(){var a=oa.createElement("input"),b=oa.createElement("div"),c=oa.createDocumentFragment();if(b.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",ca.leadingWhitespace=3===b.firstChild.nodeType,ca.tbody=!b.getElementsByTagName("tbody").length,ca.htmlSerialize=!!b.getElementsByTagName("link").length,ca.html5Clone="<:nav></:nav>"!==oa.createElement("nav").cloneNode(!0).outerHTML,a.type="checkbox",a.checked=!0,c.appendChild(a),ca.appendChecked=a.checked,b.innerHTML="<textarea>x</textarea>",ca.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue,c.appendChild(b),b.innerHTML="<input type='radio' checked='checked' name='t'/>",ca.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,ca.noCloneEvent=!0,b.attachEvent&&(b.attachEvent("onclick",function(){ca.noCloneEvent=!1}),b.cloneNode(!0).click()),null==ca.deleteExpando){ca.deleteExpando=!0;try{delete b.test}catch(d){ca.deleteExpando=!1}}}(),function(){var b,c,d=oa.createElement("div");for(b in{submit:!0,change:!0,focusin:!0})c="on"+b,(ca[b+"Bubbles"]=c in a)||(d.setAttribute(c,"t"),ca[b+"Bubbles"]=d.attributes[c].expando===!1);d=null}();var Fa=/^(?:input|select|textarea)$/i,Ga=/^key/,Ha=/^(?:mouse|pointer|contextmenu)|click/,Ia=/^(?:focusinfocus|focusoutblur)$/,Ja=/^([^.]*)(?:\.(.+)|)$/;ea.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=ea._data(a);if(q){for(c.handler&&(i=c,c=i.handler,e=i.selector),c.guid||(c.guid=ea.guid++),(g=q.events)||(g=q.events={}),(k=q.handle)||(k=q.handle=function(a){return typeof ea===xa||a&&ea.event.triggered===a.type?void 0:ea.event.dispatch.apply(k.elem,arguments)},k.elem=a),b=(b||"").match(ta)||[""],h=b.length;h--;)f=Ja.exec(b[h])||[],n=p=f[1],o=(f[2]||"").split(".").sort(),n&&(j=ea.event.special[n]||{},n=(e?j.delegateType:j.bindType)||n,j=ea.event.special[n]||{},l=ea.extend({type:n,origType:p,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&ea.expr.match.needsContext.test(e),namespace:o.join(".")},i),(m=g[n])||(m=g[n]=[],m.delegateCount=0,j.setup&&j.setup.call(a,d,o,k)!==!1||(a.addEventListener?a.addEventListener(n,k,!1):a.attachEvent&&a.attachEvent("on"+n,k))),j.add&&(j.add.call(a,l),l.handler.guid||(l.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,l):m.push(l),ea.event.global[n]=!0);a=null}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=ea.hasData(a)&&ea._data(a);if(q&&(k=q.events)){for(b=(b||"").match(ta)||[""],j=b.length;j--;)if(h=Ja.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n){for(l=ea.event.special[n]||{},n=(d?l.delegateType:l.bindType)||n,m=k[n]||[],h=h[2]&&new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"),
i=f=m.length;f--;)g=m[f],!e&&p!==g.origType||c&&c.guid!==g.guid||h&&!h.test(g.namespace)||d&&d!==g.selector&&("**"!==d||!g.selector)||(m.splice(f,1),g.selector&&m.delegateCount--,l.remove&&l.remove.call(a,g));i&&!m.length&&(l.teardown&&l.teardown.call(a,o,q.handle)!==!1||ea.removeEvent(a,n,q.handle),delete k[n])}else for(n in k)ea.event.remove(a,n+b[j],c,d,!0);ea.isEmptyObject(k)&&(delete q.handle,ea._removeData(a,"events"))}},trigger:function(b,c,d,e){var f,g,h,i,j,k,l,m=[d||oa],n=ba.call(b,"type")?b.type:b,o=ba.call(b,"namespace")?b.namespace.split("."):[];if(h=k=d=d||oa,3!==d.nodeType&&8!==d.nodeType&&!Ia.test(n+ea.event.triggered)&&(n.indexOf(".")>=0&&(o=n.split("."),n=o.shift(),o.sort()),g=n.indexOf(":")<0&&"on"+n,b=b[ea.expando]?b:new ea.Event(n,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=o.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:ea.makeArray(c,[b]),j=ea.event.special[n]||{},e||!j.trigger||j.trigger.apply(d,c)!==!1)){if(!e&&!j.noBubble&&!ea.isWindow(d)){for(i=j.delegateType||n,Ia.test(i+n)||(h=h.parentNode);h;h=h.parentNode)m.push(h),k=h;k===(d.ownerDocument||oa)&&m.push(k.defaultView||k.parentWindow||a)}for(l=0;(h=m[l++])&&!b.isPropagationStopped();)b.type=l>1?i:j.bindType||n,f=(ea._data(h,"events")||{})[b.type]&&ea._data(h,"handle"),f&&f.apply(h,c),f=g&&h[g],f&&f.apply&&ea.acceptData(h)&&(b.result=f.apply(h,c),b.result===!1&&b.preventDefault());if(b.type=n,!e&&!b.isDefaultPrevented()&&(!j._default||j._default.apply(m.pop(),c)===!1)&&ea.acceptData(d)&&g&&d[n]&&!ea.isWindow(d)){k=d[g],k&&(d[g]=null),ea.event.triggered=n;try{d[n]()}catch(p){}ea.event.triggered=void 0,k&&(d[g]=k)}return b.result}},dispatch:function(a){a=ea.event.fix(a);var b,c,d,e,f,g=[],h=X.call(arguments),i=(ea._data(this,"events")||{})[a.type]||[],j=ea.event.special[a.type]||{};if(h[0]=a,a.delegateTarget=this,!j.preDispatch||j.preDispatch.call(this,a)!==!1){for(g=ea.event.handlers.call(this,a,i),b=0;(e=g[b++])&&!a.isPropagationStopped();)for(a.currentTarget=e.elem,f=0;(d=e.handlers[f++])&&!a.isImmediatePropagationStopped();)(!a.namespace_re||a.namespace_re.test(d.namespace))&&(a.handleObj=d,a.data=d.data,c=((ea.event.special[d.origType]||{}).handle||d.handler).apply(e.elem,h),void 0!==c&&(a.result=c)===!1&&(a.preventDefault(),a.stopPropagation()));return j.postDispatch&&j.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||"click"!==a.type))for(;i!=this;i=i.parentNode||this)if(1===i.nodeType&&(i.disabled!==!0||"click"!==a.type)){for(e=[],f=0;h>f;f++)d=b[f],c=d.selector+" ",void 0===e[c]&&(e[c]=d.needsContext?ea(c,this).index(i)>=0:ea.find(c,this,null,[i]).length),e[c]&&e.push(d);e.length&&g.push({elem:i,handlers:e})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},fix:function(a){if(a[ea.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];for(g||(this.fixHooks[e]=g=Ha.test(e)?this.mouseHooks:Ga.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new ea.Event(f),b=d.length;b--;)c=d[b],a[c]=f[c];return a.target||(a.target=f.srcElement||oa),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,g.filter?g.filter(a,f):a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button,g=b.fromElement;return null==a.pageX&&null!=b.clientX&&(d=a.target.ownerDocument||oa,e=d.documentElement,c=d.body,a.pageX=b.clientX+(e&&e.scrollLeft||c&&c.scrollLeft||0)-(e&&e.clientLeft||c&&c.clientLeft||0),a.pageY=b.clientY+(e&&e.scrollTop||c&&c.scrollTop||0)-(e&&e.clientTop||c&&c.clientTop||0)),!a.relatedTarget&&g&&(a.relatedTarget=g===a.target?b.toElement:g),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==o()&&this.focus)try{return this.focus(),!1}catch(a){}},delegateType:"focusin"},blur:{trigger:function(){return this===o()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return ea.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(a){return ea.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=ea.extend(new ea.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?ea.event.trigger(e,null,b):ea.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},ea.removeEvent=oa.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){var d="on"+b;a.detachEvent&&(typeof a[d]===xa&&(a[d]=null),a.detachEvent(d,c))},ea.Event=function(a,b){return this instanceof ea.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?m:n):this.type=a,b&&ea.extend(this,b),this.timeStamp=a&&a.timeStamp||ea.now(),void(this[ea.expando]=!0)):new ea.Event(a,b)},ea.Event.prototype={isDefaultPrevented:n,isPropagationStopped:n,isImmediatePropagationStopped:n,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=m,a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=m,a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=m,a&&a.stopImmediatePropagation&&a.stopImmediatePropagation(),this.stopPropagation()}},ea.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){ea.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!ea.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),ca.submitBubbles||(ea.event.special.submit={setup:function(){return ea.nodeName(this,"form")?!1:void ea.event.add(this,"click._submit keypress._submit",function(a){var b=a.target,c=ea.nodeName(b,"input")||ea.nodeName(b,"button")?b.form:void 0;c&&!ea._data(c,"submitBubbles")&&(ea.event.add(c,"submit._submit",function(a){a._submit_bubble=!0}),ea._data(c,"submitBubbles",!0))})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&ea.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){return ea.nodeName(this,"form")?!1:void ea.event.remove(this,"._submit")}}),ca.changeBubbles||(ea.event.special.change={setup:function(){return Fa.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(ea.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),ea.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1),ea.event.simulate("change",this,a,!0)})),!1):void ea.event.add(this,"beforeactivate._change",function(a){var b=a.target;Fa.test(b.nodeName)&&!ea._data(b,"changeBubbles")&&(ea.event.add(b,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||ea.event.simulate("change",this.parentNode,a,!0)}),ea._data(b,"changeBubbles",!0))})},handle:function(a){var b=a.target;return this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type?a.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return ea.event.remove(this,"._change"),!Fa.test(this.nodeName)}}),ca.focusinBubbles||ea.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){ea.event.simulate(b,a.target,ea.event.fix(a),!0)};ea.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=ea._data(d,b);e||d.addEventListener(a,c,!0),ea._data(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=ea._data(d,b)-1;e?ea._data(d,b,e):(d.removeEventListener(a,c,!0),ea._removeData(d,b))}}}),ea.fn.extend({on:function(a,b,c,d,e){var f,g;if("object"==typeof a){"string"!=typeof b&&(c=c||b,b=void 0);for(f in a)this.on(f,b,c,a[f],e);return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&("string"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),d===!1)d=n;else if(!d)return this;return 1===e&&(g=d,d=function(a){return ea().off(a),g.apply(this,arguments)},d.guid=g.guid||(g.guid=ea.guid++)),this.each(function(){ea.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,ea(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return(b===!1||"function"==typeof b)&&(c=b,b=void 0),c===!1&&(c=n),this.each(function(){ea.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){ea.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?ea.event.trigger(a,b,c,!0):void 0}});var Ka="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",La=/ jQuery\d+="(?:null|\d+)"/g,Ma=new RegExp("<(?:"+Ka+")[\\s/>]","i"),Na=/^\s+/,Oa=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Pa=/<([\w:]+)/,Qa=/<tbody/i,Ra=/<|&#?\w+;/,Sa=/<(?:script|style|link)/i,Ta=/checked\s*(?:[^=]|=\s*.checked.)/i,Ua=/^$|\/(?:java|ecma)script/i,Va=/^true\/(.*)/,Wa=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Xa={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ca.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Ya=p(oa),Za=Ya.appendChild(oa.createElement("div"));Xa.optgroup=Xa.option,Xa.tbody=Xa.tfoot=Xa.colgroup=Xa.caption=Xa.thead,Xa.th=Xa.td,ea.extend({clone:function(a,b,c){var d,e,f,g,h,i=ea.contains(a.ownerDocument,a);if(ca.html5Clone||ea.isXMLDoc(a)||!Ma.test("<"+a.nodeName+">")?f=a.cloneNode(!0):(Za.innerHTML=a.outerHTML,Za.removeChild(f=Za.firstChild)),!(ca.noCloneEvent&&ca.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||ea.isXMLDoc(a)))for(d=q(f),h=q(a),g=0;null!=(e=h[g]);++g)d[g]&&x(e,d[g]);if(b)if(c)for(h=h||q(a),d=d||q(f),g=0;null!=(e=h[g]);g++)w(e,d[g]);else w(a,f);return d=q(f,"script"),d.length>0&&v(d,!i&&q(a,"script")),d=h=e=null,f},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,k,l=a.length,m=p(b),n=[],o=0;l>o;o++)if(f=a[o],f||0===f)if("object"===ea.type(f))ea.merge(n,f.nodeType?[f]:f);else if(Ra.test(f)){for(h=h||m.appendChild(b.createElement("div")),i=(Pa.exec(f)||["",""])[1].toLowerCase(),k=Xa[i]||Xa._default,h.innerHTML=k[1]+f.replace(Oa,"<$1></$2>")+k[2],e=k[0];e--;)h=h.lastChild;if(!ca.leadingWhitespace&&Na.test(f)&&n.push(b.createTextNode(Na.exec(f)[0])),!ca.tbody)for(f="table"!==i||Qa.test(f)?"<table>"!==k[1]||Qa.test(f)?0:h:h.firstChild,e=f&&f.childNodes.length;e--;)ea.nodeName(j=f.childNodes[e],"tbody")&&!j.childNodes.length&&f.removeChild(j);for(ea.merge(n,h.childNodes),h.textContent="";h.firstChild;)h.removeChild(h.firstChild);h=m.lastChild}else n.push(b.createTextNode(f));for(h&&m.removeChild(h),ca.appendChecked||ea.grep(q(n,"input"),r),o=0;f=n[o++];)if((!d||-1===ea.inArray(f,d))&&(g=ea.contains(f.ownerDocument,f),h=q(m.appendChild(f),"script"),g&&v(h),c))for(e=0;f=h[e++];)Ua.test(f.type||"")&&c.push(f);return h=null,m},cleanData:function(a,b){for(var c,d,e,f,g=0,h=ea.expando,i=ea.cache,j=ca.deleteExpando,k=ea.event.special;null!=(c=a[g]);g++)if((b||ea.acceptData(c))&&(e=c[h],f=e&&i[e])){if(f.events)for(d in f.events)k[d]?ea.event.remove(c,d):ea.removeEvent(c,d,f.handle);i[e]&&(delete i[e],j?delete c[h]:typeof c.removeAttribute!==xa?c.removeAttribute(h):c[h]=null,W.push(e))}}}),ea.fn.extend({text:function(a){return Da(this,function(a){return void 0===a?ea.text(this):this.empty().append((this[0]&&this[0].ownerDocument||oa).createTextNode(a))},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=s(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=s(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?ea.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||ea.cleanData(q(c)),c.parentNode&&(b&&ea.contains(c.ownerDocument,c)&&v(q(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){for(1===a.nodeType&&ea.cleanData(q(a,!1));a.firstChild;)a.removeChild(a.firstChild);a.options&&ea.nodeName(a,"select")&&(a.options.length=0)}return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return ea.clone(this,a,b)})},html:function(a){return Da(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a)return 1===b.nodeType?b.innerHTML.replace(La,""):void 0;if("string"==typeof a&&!Sa.test(a)&&(ca.htmlSerialize||!Ma.test(a))&&(ca.leadingWhitespace||!Na.test(a))&&!Xa[(Pa.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(Oa,"<$1></$2>");try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(ea.cleanData(q(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,ea.cleanData(q(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=Y.apply([],a);var c,d,e,f,g,h,i=0,j=this.length,k=this,l=j-1,m=a[0],n=ea.isFunction(m);if(n||j>1&&"string"==typeof m&&!ca.checkClone&&Ta.test(m))return this.each(function(c){var d=k.eq(c);n&&(a[0]=m.call(this,c,d.html())),d.domManip(a,b)});if(j&&(h=ea.buildFragment(a,this[0].ownerDocument,!1,this),c=h.firstChild,1===h.childNodes.length&&(h=c),c)){for(f=ea.map(q(h,"script"),t),e=f.length;j>i;i++)d=h,i!==l&&(d=ea.clone(d,!0,!0),e&&ea.merge(f,q(d,"script"))),b.call(this[i],d,i);if(e)for(g=f[f.length-1].ownerDocument,ea.map(f,u),i=0;e>i;i++)d=f[i],Ua.test(d.type||"")&&!ea._data(d,"globalEval")&&ea.contains(g,d)&&(d.src?ea._evalUrl&&ea._evalUrl(d.src):ea.globalEval((d.text||d.textContent||d.innerHTML||"").replace(Wa,"")));h=c=null}return this}}),ea.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){ea.fn[a]=function(a){for(var c,d=0,e=[],f=ea(a),g=f.length-1;g>=d;d++)c=d===g?this:this.clone(!0),ea(f[d])[b](c),Z.apply(e,c.get());return this.pushStack(e)}});var $a,_a={};!function(){var a;ca.shrinkWrapBlocks=function(){if(null!=a)return a;a=!1;var b,c,d;return c=oa.getElementsByTagName("body")[0],c&&c.style?(b=oa.createElement("div"),d=oa.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),typeof b.style.zoom!==xa&&(b.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",b.appendChild(oa.createElement("div")).style.width="5px",a=3!==b.offsetWidth),c.removeChild(d),a):void 0}}();var ab,bb,cb=/^margin/,db=new RegExp("^("+Aa+")(?!px)[a-z%]+$","i"),eb=/^(top|right|bottom|left)$/;a.getComputedStyle?(ab=function(b){return b.ownerDocument.defaultView.opener?b.ownerDocument.defaultView.getComputedStyle(b,null):a.getComputedStyle(b,null)},bb=function(a,b,c){var d,e,f,g,h=a.style;return c=c||ab(a),g=c?c.getPropertyValue(b)||c[b]:void 0,c&&(""!==g||ea.contains(a.ownerDocument,a)||(g=ea.style(a,b)),db.test(g)&&cb.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0===g?g:g+""}):oa.documentElement.currentStyle&&(ab=function(a){return a.currentStyle},bb=function(a,b,c){var d,e,f,g,h=a.style;return c=c||ab(a),g=c?c[b]:void 0,null==g&&h&&h[b]&&(g=h[b]),db.test(g)&&!eb.test(b)&&(d=h.left,e=a.runtimeStyle,f=e&&e.left,f&&(e.left=a.currentStyle.left),h.left="fontSize"===b?"1em":g,g=h.pixelLeft+"px",h.left=d,f&&(e.left=f)),void 0===g?g:g+""||"auto"}),function(){function b(){var b,c,d,e;c=oa.getElementsByTagName("body")[0],c&&c.style&&(b=oa.createElement("div"),d=oa.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),b.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",f=g=!1,i=!0,a.getComputedStyle&&(f="1%"!==(a.getComputedStyle(b,null)||{}).top,g="4px"===(a.getComputedStyle(b,null)||{width:"4px"}).width,e=b.appendChild(oa.createElement("div")),e.style.cssText=b.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",e.style.marginRight=e.style.width="0",b.style.width="1px",i=!parseFloat((a.getComputedStyle(e,null)||{}).marginRight),b.removeChild(e)),b.innerHTML="<table><tr><td></td><td>t</td></tr></table>",e=b.getElementsByTagName("td"),e[0].style.cssText="margin:0;border:0;padding:0;display:none",h=0===e[0].offsetHeight,h&&(e[0].style.display="",e[1].style.display="none",h=0===e[0].offsetHeight),c.removeChild(d))}var c,d,e,f,g,h,i;c=oa.createElement("div"),c.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",e=c.getElementsByTagName("a")[0],d=e&&e.style,d&&(d.cssText="float:left;opacity:.5",ca.opacity="0.5"===d.opacity,ca.cssFloat=!!d.cssFloat,c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",ca.clearCloneStyle="content-box"===c.style.backgroundClip,ca.boxSizing=""===d.boxSizing||""===d.MozBoxSizing||""===d.WebkitBoxSizing,ea.extend(ca,{reliableHiddenOffsets:function(){return null==h&&b(),h},boxSizingReliable:function(){return null==g&&b(),g},pixelPosition:function(){return null==f&&b(),f},reliableMarginRight:function(){return null==i&&b(),i}}))}(),ea.swap=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};var fb=/alpha\([^)]*\)/i,gb=/opacity\s*=\s*([^)]*)/,hb=/^(none|table(?!-c[ea]).+)/,ib=new RegExp("^("+Aa+")(.*)$","i"),jb=new RegExp("^([+-])=("+Aa+")","i"),kb={position:"absolute",visibility:"hidden",display:"block"},lb={letterSpacing:"0",fontWeight:"400"},mb=["Webkit","O","Moz","ms"];ea.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=bb(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":ca.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=ea.camelCase(b),i=a.style;if(b=ea.cssProps[h]||(ea.cssProps[h]=B(i,h)),g=ea.cssHooks[b]||ea.cssHooks[h],void 0===c)return g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b];if(f=typeof c,"string"===f&&(e=jb.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(ea.css(a,b)),f="number"),null!=c&&c===c&&("number"!==f||ea.cssNumber[h]||(c+="px"),ca.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),!(g&&"set"in g&&void 0===(c=g.set(a,c,d)))))try{i[b]=c}catch(j){}}},css:function(a,b,c,d){var e,f,g,h=ea.camelCase(b);return b=ea.cssProps[h]||(ea.cssProps[h]=B(a.style,h)),g=ea.cssHooks[b]||ea.cssHooks[h],g&&"get"in g&&(f=g.get(a,!0,c)),void 0===f&&(f=bb(a,b,d)),"normal"===f&&b in lb&&(f=lb[b]),""===c||c?(e=parseFloat(f),c===!0||ea.isNumeric(e)?e||0:f):f}}),ea.each(["height","width"],function(a,b){ea.cssHooks[b]={get:function(a,c,d){return c?hb.test(ea.css(a,"display"))&&0===a.offsetWidth?ea.swap(a,kb,function(){return F(a,b,d)}):F(a,b,d):void 0},set:function(a,c,d){var e=d&&ab(a);return D(a,c,d?E(a,b,d,ca.boxSizing&&"border-box"===ea.css(a,"boxSizing",!1,e),e):0)}}}),ca.opacity||(ea.cssHooks.opacity={get:function(a,b){return gb.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=ea.isNumeric(b)?"alpha(opacity="+100*b+")":"",f=d&&d.filter||c.filter||"";c.zoom=1,(b>=1||""===b)&&""===ea.trim(f.replace(fb,""))&&c.removeAttribute&&(c.removeAttribute("filter"),""===b||d&&!d.filter)||(c.filter=fb.test(f)?f.replace(fb,e):f+" "+e)}}),ea.cssHooks.marginRight=A(ca.reliableMarginRight,function(a,b){return b?ea.swap(a,{display:"inline-block"},bb,[a,"marginRight"]):void 0}),ea.each({margin:"",padding:"",border:"Width"},function(a,b){ea.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+Ba[d]+b]=f[d]||f[d-2]||f[0];return e}},cb.test(a)||(ea.cssHooks[a+b].set=D)}),ea.fn.extend({css:function(a,b){return Da(this,function(a,b,c){var d,e,f={},g=0;if(ea.isArray(b)){for(d=ab(a),e=b.length;e>g;g++)f[b[g]]=ea.css(a,b[g],!1,d);return f}return void 0!==c?ea.style(a,b,c):ea.css(a,b)},a,b,arguments.length>1)},show:function(){return C(this,!0)},hide:function(){return C(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){Ca(this)?ea(this).show():ea(this).hide()})}}),ea.Tween=G,G.prototype={constructor:G,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(ea.cssNumber[c]?"":"px")},cur:function(){var a=G.propHooks[this.prop];return a&&a.get?a.get(this):G.propHooks._default.get(this)},run:function(a){var b,c=G.propHooks[this.prop];return this.options.duration?this.pos=b=ea.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):G.propHooks._default.set(this),this}},G.prototype.init.prototype=G.prototype,G.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=ea.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){ea.fx.step[a.prop]?ea.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[ea.cssProps[a.prop]]||ea.cssHooks[a.prop])?ea.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},G.propHooks.scrollTop=G.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},ea.easing={def:"easeOutQuad",linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},swing:function(a,b,c,d,e){return ea.easing[ea.easing.def](a,b,c,d,e)},easeInQuad:function(a,b,c,d,e){return d*(b/=e)*b+c},easeOutQuad:function(a,b,c,d,e){return-d*(b/=e)*(b-2)+c},easeInOutQuad:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b+c:-d/2*(--b*(b-2)-1)+c},easeInCubic:function(a,b,c,d,e){return d*(b/=e)*b*b+c},easeOutCubic:function(a,b,c,d,e){return d*((b=b/e-1)*b*b+1)+c},easeInOutCubic:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b+c:d/2*((b-=2)*b*b+2)+c},easeInQuart:function(a,b,c,d,e){return d*(b/=e)*b*b*b+c},easeOutQuart:function(a,b,c,d,e){return-d*((b=b/e-1)*b*b*b-1)+c},easeInOutQuart:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b*b+c:-d/2*((b-=2)*b*b*b-2)+c},easeInQuint:function(a,b,c,d,e){return d*(b/=e)*b*b*b*b+c},easeOutQuint:function(a,b,c,d,e){return d*((b=b/e-1)*b*b*b*b+1)+c},easeInOutQuint:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b*b*b+c:d/2*((b-=2)*b*b*b*b+2)+c},easeInSine:function(a,b,c,d,e){return-d*Math.cos(b/e*(Math.PI/2))+d+c},easeOutSine:function(a,b,c,d,e){return d*Math.sin(b/e*(Math.PI/2))+c},easeInOutSine:function(a,b,c,d,e){return-d/2*(Math.cos(Math.PI*b/e)-1)+c},easeInExpo:function(a,b,c,d,e){return 0==b?c:d*Math.pow(2,10*(b/e-1))+c},easeOutExpo:function(a,b,c,d,e){return b==e?c+d:d*(-Math.pow(2,-10*b/e)+1)+c},easeInOutExpo:function(a,b,c,d,e){return 0==b?c:b==e?c+d:(b/=e/2)<1?d/2*Math.pow(2,10*(b-1))+c:d/2*(-Math.pow(2,-10*--b)+2)+c},easeInCirc:function(a,b,c,d,e){return-d*(Math.sqrt(1-(b/=e)*b)-1)+c},easeOutCirc:function(a,b,c,d,e){return d*Math.sqrt(1-(b=b/e-1)*b)+c},easeInOutCirc:function(a,b,c,d,e){return(b/=e/2)<1?-d/2*(Math.sqrt(1-b*b)-1)+c:d/2*(Math.sqrt(1-(b-=2)*b)+1)+c},easeInElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(0==b)return c;if(1==(b/=e))return c+d;if(g||(g=.3*e),h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return-(h*Math.pow(2,10*(b-=1))*Math.sin((b*e-f)*(2*Math.PI)/g))+c},easeOutElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(0==b)return c;if(1==(b/=e))return c+d;if(g||(g=.3*e),h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return h*Math.pow(2,-10*b)*Math.sin((b*e-f)*(2*Math.PI)/g)+d+c},easeInOutElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(0==b)return c;if(2==(b/=e/2))return c+d;if(g||(g=e*(.3*1.5)),h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return 1>b?-.5*(h*Math.pow(2,10*(b-=1))*Math.sin((b*e-f)*(2*Math.PI)/g))+c:h*Math.pow(2,-10*(b-=1))*Math.sin((b*e-f)*(2*Math.PI)/g)*.5+d+c},easeInBack:function(a,b,c,d,e,f){return void 0==f&&(f=1.70158),d*(b/=e)*b*((f+1)*b-f)+c},easeOutBack:function(a,b,c,d,e,f){return void 0==f&&(f=1.70158),d*((b=b/e-1)*b*((f+1)*b+f)+1)+c},easeInOutBack:function(a,b,c,d,e,f){return void 0==f&&(f=1.70158),(b/=e/2)<1?d/2*(b*b*(((f*=1.525)+1)*b-f))+c:d/2*((b-=2)*b*(((f*=1.525)+1)*b+f)+2)+c},easeInBounce:function(a,b,c,d,e){return d-ea.easing.easeOutBounce(a,e-b,0,d,e)+c},easeOutBounce:function(a,b,c,d,e){return(b/=e)<1/2.75?d*(7.5625*b*b)+c:2/2.75>b?d*(7.5625*(b-=1.5/2.75)*b+.75)+c:2.5/2.75>b?d*(7.5625*(b-=2.25/2.75)*b+.9375)+c:d*(7.5625*(b-=2.625/2.75)*b+.984375)+c},easeInOutBounce:function(a,b,c,d,e){return e/2>b?.5*ea.easing.easeInBounce(a,2*b,0,d,e)+c:.5*ea.easing.easeOutBounce(a,2*b-e,0,d,e)+.5*d+c}},ea.fx=G.prototype.init,ea.fx.step={};var nb,ob,pb=/^(?:toggle|show|hide)$/,qb=new RegExp("^(?:([+-])=|)("+Aa+")([a-z%]*)$","i"),rb=/queueHooks$/,sb=[K],tb={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=qb.exec(b),f=e&&e[3]||(ea.cssNumber[a]?"":"px"),g=(ea.cssNumber[a]||"px"!==f&&+d)&&qb.exec(ea.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do h=h||".5",g/=h,ea.style(c.elem,a,g+f);while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};ea.Animation=ea.extend(M,{tweener:function(a,b){ea.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++)c=a[d],tb[c]=tb[c]||[],tb[c].unshift(b)},prefilter:function(a,b){b?sb.unshift(a):sb.push(a)}}),ea.speed=function(a,b,c){var d=a&&"object"==typeof a?ea.extend({},a):{complete:c||!c&&b||ea.isFunction(a)&&a,duration:a,easing:c&&b||b&&!ea.isFunction(b)&&b};return d.duration=ea.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in ea.fx.speeds?ea.fx.speeds[d.duration]:ea.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){ea.isFunction(d.old)&&d.old.call(this),d.queue&&ea.dequeue(this,d.queue)},d},ea.fn.extend({fadeTo:function(a,b,c,d){return this.filter(Ca).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=ea.isEmptyObject(a),f=ea.speed(b,c,d),g=function(){var b=M(this,ea.extend({},a),f);(e||ea._data(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=ea.timers,g=ea._data(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&rb.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));(b||!c)&&ea.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=ea._data(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=ea.timers,g=d?d.length:0;for(c.finish=!0,ea.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),ea.each(["toggle","show","hide"],function(a,b){var c=ea.fn[b];ea.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(I(b,!0),a,d,e)}}),ea.each({slideDown:I("show"),slideUp:I("hide"),slideToggle:I("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){ea.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),ea.timers=[],ea.fx.tick=function(){var a,b=ea.timers,c=0;for(nb=ea.now();c<b.length;c++)a=b[c],a()||b[c]!==a||b.splice(c--,1);b.length||ea.fx.stop(),nb=void 0},ea.fx.timer=function(a){ea.timers.push(a),a()?ea.fx.start():ea.timers.pop()},ea.fx.interval=13,ea.fx.start=function(){ob||(ob=setInterval(ea.fx.tick,ea.fx.interval))},ea.fx.stop=function(){clearInterval(ob),ob=null},ea.fx.speeds={slow:600,fast:200,_default:400},ea.fn.delay=function(a,b){return a=ea.fx?ea.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a,b,c,d,e;b=oa.createElement("div"),b.setAttribute("className","t"),b.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",d=b.getElementsByTagName("a")[0],c=oa.createElement("select"),e=c.appendChild(oa.createElement("option")),a=b.getElementsByTagName("input")[0],d.style.cssText="top:1px",ca.getSetAttribute="t"!==b.className,ca.style=/top/.test(d.getAttribute("style")),ca.hrefNormalized="/a"===d.getAttribute("href"),ca.checkOn=!!a.value,ca.optSelected=e.selected,ca.enctype=!!oa.createElement("form").enctype,c.disabled=!0,ca.optDisabled=!e.disabled,a=oa.createElement("input"),a.setAttribute("value",""),ca.input=""===a.getAttribute("value"),a.value="t",a.setAttribute("type","radio"),ca.radioValue="t"===a.value}();var ub=/\r/g;ea.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=ea.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,ea(this).val()):a,null==e?e="":"number"==typeof e?e+="":ea.isArray(e)&&(e=ea.map(e,function(a){return null==a?"":a+""})),b=ea.valHooks[this.type]||ea.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=ea.valHooks[e.type]||ea.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(ub,""):null==c?"":c)}}}),ea.extend({valHooks:{option:{get:function(a){var b=ea.find.attr(a,"value");return null!=b?b:ea.trim(ea.text(a))}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],(c.selected||i===e)&&(ca.optDisabled?!c.disabled:null===c.getAttribute("disabled"))&&(!c.parentNode.disabled||!ea.nodeName(c.parentNode,"optgroup"))){if(b=ea(c).val(),f)return b;g.push(b)}return g},set:function(a,b){for(var c,d,e=a.options,f=ea.makeArray(b),g=e.length;g--;)if(d=e[g],ea.inArray(ea.valHooks.option.get(d),f)>=0)try{
d.selected=c=!0}catch(h){d.scrollHeight}else d.selected=!1;return c||(a.selectedIndex=-1),e}}}}),ea.each(["radio","checkbox"],function(){ea.valHooks[this]={set:function(a,b){return ea.isArray(b)?a.checked=ea.inArray(ea(a).val(),b)>=0:void 0}},ca.checkOn||(ea.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var vb,wb,xb=ea.expr.attrHandle,yb=/^(?:checked|selected)$/i,zb=ca.getSetAttribute,Ab=ca.input;ea.fn.extend({attr:function(a,b){return Da(this,ea.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){ea.removeAttr(this,a)})}}),ea.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f)return typeof a.getAttribute===xa?ea.prop(a,b,c):(1===f&&ea.isXMLDoc(a)||(b=b.toLowerCase(),d=ea.attrHooks[b]||(ea.expr.match.bool.test(b)?wb:vb)),void 0===c?d&&"get"in d&&null!==(e=d.get(a,b))?e:(e=ea.find.attr(a,b),null==e?void 0:e):null!==c?d&&"set"in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+""),c):void ea.removeAttr(a,b))},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(ta);if(f&&1===a.nodeType)for(;c=f[e++];)d=ea.propFix[c]||c,ea.expr.match.bool.test(c)?Ab&&zb||!yb.test(c)?a[d]=!1:a[ea.camelCase("default-"+c)]=a[d]=!1:ea.attr(a,c,""),a.removeAttribute(zb?c:d)},attrHooks:{type:{set:function(a,b){if(!ca.radioValue&&"radio"===b&&ea.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}}),wb={set:function(a,b,c){return b===!1?ea.removeAttr(a,c):Ab&&zb||!yb.test(c)?a.setAttribute(!zb&&ea.propFix[c]||c,c):a[ea.camelCase("default-"+c)]=a[c]=!0,c}},ea.each(ea.expr.match.bool.source.match(/\w+/g),function(a,b){var c=xb[b]||ea.find.attr;xb[b]=Ab&&zb||!yb.test(b)?function(a,b,d){var e,f;return d||(f=xb[b],xb[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,xb[b]=f),e}:function(a,b,c){return c?void 0:a[ea.camelCase("default-"+b)]?b.toLowerCase():null}}),Ab&&zb||(ea.attrHooks.value={set:function(a,b,c){return ea.nodeName(a,"input")?void(a.defaultValue=b):vb&&vb.set(a,b,c)}}),zb||(vb={set:function(a,b,c){var d=a.getAttributeNode(c);return d||a.setAttributeNode(d=a.ownerDocument.createAttribute(c)),d.value=b+="","value"===c||b===a.getAttribute(c)?b:void 0}},xb.id=xb.name=xb.coords=function(a,b,c){var d;return c?void 0:(d=a.getAttributeNode(b))&&""!==d.value?d.value:null},ea.valHooks.button={get:function(a,b){var c=a.getAttributeNode(b);return c&&c.specified?c.value:void 0},set:vb.set},ea.attrHooks.contenteditable={set:function(a,b,c){vb.set(a,""===b?!1:b,c)}},ea.each(["width","height"],function(a,b){ea.attrHooks[b]={set:function(a,c){return""===c?(a.setAttribute(b,"auto"),c):void 0}}})),ca.style||(ea.attrHooks.style={get:function(a){return a.style.cssText||void 0},set:function(a,b){return a.style.cssText=b+""}});var Bb=/^(?:input|select|textarea|button|object)$/i,Cb=/^(?:a|area)$/i;ea.fn.extend({prop:function(a,b){return Da(this,ea.prop,a,b,arguments.length>1)},removeProp:function(a){return a=ea.propFix[a]||a,this.each(function(){try{this[a]=void 0,delete this[a]}catch(b){}})}}),ea.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,c){var d,e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return f=1!==g||!ea.isXMLDoc(a),f&&(b=ea.propFix[b]||b,e=ea.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=ea.find.attr(a,"tabindex");return b?parseInt(b,10):Bb.test(a.nodeName)||Cb.test(a.nodeName)&&a.href?0:-1}}}}),ca.hrefNormalized||ea.each(["href","src"],function(a,b){ea.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}}),ca.optSelected||(ea.propHooks.selected={get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}}),ea.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ea.propFix[this.toLowerCase()]=this}),ca.enctype||(ea.propFix.enctype="encoding");var Db=/[\t\r\n\f]/g;ea.fn.extend({addClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j="string"==typeof a&&a;if(ea.isFunction(a))return this.each(function(b){ea(this).addClass(a.call(this,b,this.className))});if(j)for(b=(a||"").match(ta)||[];i>h;h++)if(c=this[h],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(Db," "):" ")){for(f=0;e=b[f++];)d.indexOf(" "+e+" ")<0&&(d+=e+" ");g=ea.trim(d),c.className!==g&&(c.className=g)}return this},removeClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j=0===arguments.length||"string"==typeof a&&a;if(ea.isFunction(a))return this.each(function(b){ea(this).removeClass(a.call(this,b,this.className))});if(j)for(b=(a||"").match(ta)||[];i>h;h++)if(c=this[h],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(Db," "):"")){for(f=0;e=b[f++];)for(;d.indexOf(" "+e+" ")>=0;)d=d.replace(" "+e+" "," ");g=a?ea.trim(d):"",c.className!==g&&(c.className=g)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):ea.isFunction(a)?this.each(function(c){ea(this).toggleClass(a.call(this,c,this.className,b),b)}):this.each(function(){if("string"===c)for(var b,d=0,e=ea(this),f=a.match(ta)||[];b=f[d++];)e.hasClass(b)?e.removeClass(b):e.addClass(b);else(c===xa||"boolean"===c)&&(this.className&&ea._data(this,"__className__",this.className),this.className=this.className||a===!1?"":ea._data(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(Db," ").indexOf(b)>=0)return!0;return!1}}),ea.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){ea.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),ea.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var Eb=ea.now(),Fb=/\?/,Gb=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;ea.parseJSON=function(b){if(a.JSON&&a.JSON.parse)return a.JSON.parse(b+"");var c,d=null,e=ea.trim(b+"");return e&&!ea.trim(e.replace(Gb,function(a,b,e,f){return c&&b&&(d=0),0===d?a:(c=e||b,d+=!f-!e,"")}))?Function("return "+e)():ea.error("Invalid JSON: "+b)},ea.parseXML=function(b){var c,d;if(!b||"string"!=typeof b)return null;try{a.DOMParser?(d=new DOMParser,c=d.parseFromString(b,"text/xml")):(c=new ActiveXObject("Microsoft.XMLDOM"),c.async="false",c.loadXML(b))}catch(e){c=void 0}return c&&c.documentElement&&!c.getElementsByTagName("parsererror").length||ea.error("Invalid XML: "+b),c};var Hb,Ib,Jb=/#.*$/,Kb=/([?&])_=[^&]*/,Lb=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Mb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Nb=/^(?:GET|HEAD)$/,Ob=/^\/\//,Pb=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Qb={},Rb={},Sb="*/".concat("*");try{Ib=location.href}catch(Tb){Ib=oa.createElement("a"),Ib.href="",Ib=Ib.href}Hb=Pb.exec(Ib.toLowerCase())||[],ea.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ib,type:"GET",isLocal:Mb.test(Hb[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Sb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ea.parseJSON,"text xml":ea.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?P(P(a,ea.ajaxSettings),b):P(ea.ajaxSettings,a)},ajaxPrefilter:N(Qb),ajaxTransport:N(Rb),ajax:function(a,b){function c(a,b,c,d){var e,k,r,s,u,w=b;2!==t&&(t=2,h&&clearTimeout(h),j=void 0,g=d||"",v.readyState=a>0?4:0,e=a>=200&&300>a||304===a,c&&(s=Q(l,v,c)),s=R(l,s,v,e),e?(l.ifModified&&(u=v.getResponseHeader("Last-Modified"),u&&(ea.lastModified[f]=u),u=v.getResponseHeader("etag"),u&&(ea.etag[f]=u)),204===a||"HEAD"===l.type?w="nocontent":304===a?w="notmodified":(w=s.state,k=s.data,r=s.error,e=!r)):(r=w,(a||!w)&&(w="error",0>a&&(a=0))),v.status=a,v.statusText=(b||w)+"",e?o.resolveWith(m,[k,w,v]):o.rejectWith(m,[v,w,r]),v.statusCode(q),q=void 0,i&&n.trigger(e?"ajaxSuccess":"ajaxError",[v,l,e?k:r]),p.fireWith(m,[v,w]),i&&(n.trigger("ajaxComplete",[v,l]),--ea.active||ea.event.trigger("ajaxStop")))}"object"==typeof a&&(b=a,a=void 0),b=b||{};var d,e,f,g,h,i,j,k,l=ea.ajaxSetup({},b),m=l.context||l,n=l.context&&(m.nodeType||m.jquery)?ea(m):ea.event,o=ea.Deferred(),p=ea.Callbacks("once memory"),q=l.statusCode||{},r={},s={},t=0,u="canceled",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!k)for(k={};b=Lb.exec(g);)k[b[1].toLowerCase()]=b[2];b=k[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?g:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(l.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>t)for(b in a)q[b]=[q[b],a[b]];else v.always(a[v.status]);return this},abort:function(a){var b=a||u;return j&&j.abort(b),c(0,b),this}};if(o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,l.url=((a||l.url||Ib)+"").replace(Jb,"").replace(Ob,Hb[1]+"//"),l.type=b.method||b.type||l.method||l.type,l.dataTypes=ea.trim(l.dataType||"*").toLowerCase().match(ta)||[""],null==l.crossDomain&&(d=Pb.exec(l.url.toLowerCase()),l.crossDomain=!(!d||d[1]===Hb[1]&&d[2]===Hb[2]&&(d[3]||("http:"===d[1]?"80":"443"))===(Hb[3]||("http:"===Hb[1]?"80":"443")))),l.data&&l.processData&&"string"!=typeof l.data&&(l.data=ea.param(l.data,l.traditional)),O(Qb,l,b,v),2===t)return v;i=ea.event&&l.global,i&&0===ea.active++&&ea.event.trigger("ajaxStart"),l.type=l.type.toUpperCase(),l.hasContent=!Nb.test(l.type),f=l.url,l.hasContent||(l.data&&(f=l.url+=(Fb.test(f)?"&":"?")+l.data,delete l.data),l.cache===!1&&(l.url=Kb.test(f)?f.replace(Kb,"$1_="+Eb++):f+(Fb.test(f)?"&":"?")+"_="+Eb++)),l.ifModified&&(ea.lastModified[f]&&v.setRequestHeader("If-Modified-Since",ea.lastModified[f]),ea.etag[f]&&v.setRequestHeader("If-None-Match",ea.etag[f])),(l.data&&l.hasContent&&l.contentType!==!1||b.contentType)&&v.setRequestHeader("Content-Type",l.contentType),v.setRequestHeader("Accept",l.dataTypes[0]&&l.accepts[l.dataTypes[0]]?l.accepts[l.dataTypes[0]]+("*"!==l.dataTypes[0]?", "+Sb+"; q=0.01":""):l.accepts["*"]);for(e in l.headers)v.setRequestHeader(e,l.headers[e]);if(l.beforeSend&&(l.beforeSend.call(m,v,l)===!1||2===t))return v.abort();u="abort";for(e in{success:1,error:1,complete:1})v[e](l[e]);if(j=O(Rb,l,b,v)){v.readyState=1,i&&n.trigger("ajaxSend",[v,l]),l.async&&l.timeout>0&&(h=setTimeout(function(){v.abort("timeout")},l.timeout));try{t=1,j.send(r,c)}catch(w){if(!(2>t))throw w;c(-1,w)}}else c(-1,"No Transport");return v},getJSON:function(a,b,c){return ea.get(a,b,c,"json")},getScript:function(a,b){return ea.get(a,void 0,b,"script")}}),ea.each(["get","post"],function(a,b){ea[b]=function(a,c,d,e){return ea.isFunction(c)&&(e=e||d,d=c,c=void 0),ea.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),ea._evalUrl=function(a){return ea.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},ea.fn.extend({wrapAll:function(a){if(ea.isFunction(a))return this.each(function(b){ea(this).wrapAll(a.call(this,b))});if(this[0]){var b=ea(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return ea.isFunction(a)?this.each(function(b){ea(this).wrapInner(a.call(this,b))}):this.each(function(){var b=ea(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=ea.isFunction(a);return this.each(function(c){ea(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){ea.nodeName(this,"body")||ea(this).replaceWith(this.childNodes)}).end()}}),ea.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0||!ca.reliableHiddenOffsets()&&"none"===(a.style&&a.style.display||ea.css(a,"display"))},ea.expr.filters.visible=function(a){return!ea.expr.filters.hidden(a)};var Ub=/%20/g,Vb=/\[\]$/,Wb=/\r?\n/g,Xb=/^(?:submit|button|image|reset|file)$/i,Yb=/^(?:input|select|textarea|keygen)/i;ea.param=function(a,b){var c,d=[],e=function(a,b){b=ea.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=ea.ajaxSettings&&ea.ajaxSettings.traditional),ea.isArray(a)||a.jquery&&!ea.isPlainObject(a))ea.each(a,function(){e(this.name,this.value)});else for(c in a)S(c,a[c],b,e);return d.join("&").replace(Ub,"+")},ea.fn.extend({serialize:function(){return ea.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=ea.prop(this,"elements");return a?ea.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!ea(this).is(":disabled")&&Yb.test(this.nodeName)&&!Xb.test(a)&&(this.checked||!Ea.test(a))}).map(function(a,b){var c=ea(this).val();return null==c?null:ea.isArray(c)?ea.map(c,function(a){return{name:b.name,value:a.replace(Wb,"\r\n")}}):{name:b.name,value:c.replace(Wb,"\r\n")}}).get()}}),ea.ajaxSettings.xhr=void 0!==a.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&T()||U()}:T;var Zb=0,$b={},_b=ea.ajaxSettings.xhr();a.attachEvent&&a.attachEvent("onunload",function(){for(var a in $b)$b[a](void 0,!0)}),ca.cors=!!_b&&"withCredentials"in _b,_b=ca.ajax=!!_b,_b&&ea.ajaxTransport(function(a){if(!a.crossDomain||ca.cors){var b;return{send:function(c,d){var e,f=a.xhr(),g=++Zb;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(e in a.xhrFields)f[e]=a.xhrFields[e];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(e in c)void 0!==c[e]&&f.setRequestHeader(e,c[e]+"");f.send(a.hasContent&&a.data||null),b=function(c,e){var h,i,j;if(b&&(e||4===f.readyState))if(delete $b[g],b=void 0,f.onreadystatechange=ea.noop,e)4!==f.readyState&&f.abort();else{j={},h=f.status,"string"==typeof f.responseText&&(j.text=f.responseText);try{i=f.statusText}catch(k){i=""}h||!a.isLocal||a.crossDomain?1223===h&&(h=204):h=j.text?200:404}j&&d(h,i,j,f.getAllResponseHeaders())},a.async?4===f.readyState?setTimeout(b):f.onreadystatechange=$b[g]=b:b()},abort:function(){b&&b(void 0,!0)}}}}),ea.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return ea.globalEval(a),a}}}),ea.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),ea.ajaxTransport("script",function(a){if(a.crossDomain){var b,c=oa.head||ea("head")[0]||oa.documentElement;return{send:function(d,e){b=oa.createElement("script"),b.async=!0,a.scriptCharset&&(b.charset=a.scriptCharset),b.src=a.url,b.onload=b.onreadystatechange=function(a,c){(c||!b.readyState||/loaded|complete/.test(b.readyState))&&(b.onload=b.onreadystatechange=null,b.parentNode&&b.parentNode.removeChild(b),b=null,c||e(200,"success"))},c.insertBefore(b,c.firstChild)},abort:function(){b&&b.onload(void 0,!0)}}}});var ac=[],bc=/(=)\?(?=&|$)|\?\?/;ea.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=ac.pop()||ea.expando+"_"+Eb++;return this[a]=!0,a}}),ea.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(bc.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&bc.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=ea.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(bc,"$1"+e):b.jsonp!==!1&&(b.url+=(Fb.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||ea.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,ac.push(e)),g&&ea.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),ea.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||oa;var d=la.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=ea.buildFragment([a],b,e),e&&e.length&&ea(e).remove(),ea.merge([],d.childNodes))};var cc=ea.fn.load;ea.fn.load=function(a,b,c){if("string"!=typeof a&&cc)return cc.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>=0&&(d=ea.trim(a.slice(h,a.length)),a=a.slice(0,h)),ea.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(f="POST"),g.length>0&&ea.ajax({url:a,type:f,dataType:"html",data:b}).done(function(a){e=arguments,g.html(d?ea("<div>").append(ea.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,e||[a.responseText,b,a])}),this},ea.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){ea.fn[b]=function(a){return this.on(b,a)}}),ea.expr.filters.animated=function(a){return ea.grep(ea.timers,function(b){return a===b.elem}).length};var dc=a.document.documentElement;ea.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=ea.css(a,"position"),l=ea(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=ea.css(a,"top"),i=ea.css(a,"left"),j=("absolute"===k||"fixed"===k)&&ea.inArray("auto",[f,i])>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),ea.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},ea.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){ea.offset.setOffset(this,a,b)});var b,c,d={top:0,left:0},e=this[0],f=e&&e.ownerDocument;if(f)return b=f.documentElement,ea.contains(b,e)?(typeof e.getBoundingClientRect!==xa&&(d=e.getBoundingClientRect()),c=V(f),{top:d.top+(c.pageYOffset||b.scrollTop)-(b.clientTop||0),left:d.left+(c.pageXOffset||b.scrollLeft)-(b.clientLeft||0)}):d},position:function(){if(this[0]){var a,b,c={top:0,left:0},d=this[0];return"fixed"===ea.css(d,"position")?b=d.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),ea.nodeName(a[0],"html")||(c=a.offset()),c.top+=ea.css(a[0],"borderTopWidth",!0),c.left+=ea.css(a[0],"borderLeftWidth",!0)),{top:b.top-c.top-ea.css(d,"marginTop",!0),left:b.left-c.left-ea.css(d,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||dc;a&&!ea.nodeName(a,"html")&&"static"===ea.css(a,"position");)a=a.offsetParent;return a||dc})}}),ea.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c=/Y/.test(b);ea.fn[a]=function(d){return Da(this,function(a,d,e){var f=V(a);return void 0===e?f?b in f?f[b]:f.document.documentElement[d]:a[d]:void(f?f.scrollTo(c?ea(f).scrollLeft():e,c?e:ea(f).scrollTop()):a[d]=e)},a,d,arguments.length,null)}}),ea.each(["top","left"],function(a,b){ea.cssHooks[b]=A(ca.pixelPosition,function(a,c){return c?(c=bb(a,b),db.test(c)?ea(a).position()[b]+"px":c):void 0})}),ea.each({Height:"height",Width:"width"},function(a,b){ea.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){ea.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return Da(this,function(b,c,d){var e;return ea.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?ea.css(b,c,g):ea.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),ea.fn.size=function(){return this.length},ea.fn.andSelf=ea.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ea});var ec=a.jQuery,fc=a.$;return ea.noConflict=function(b){return a.$===ea&&(a.$=fc),b&&a.jQuery===ea&&(a.jQuery=ec),ea},typeof b===xa&&(a.jQuery=a.$=ea),function(a){var b;return a.event.fix=function(a){return function(b){return b=a.apply(this,arguments),(0===b.type.indexOf("copy")||0===b.type.indexOf("paste"))&&(b.clipboardData=b.originalEvent.clipboardData),b}}(a.event.fix),b={callback:a.noop,matchType:/image.*/},a.fn.pasteImageReader=function(c){return"function"==typeof c&&(c={callback:c}),c=a.extend({},b,c),this.each(function(){var b,d;return d=this,b=a(this),b.bind("paste",function(a){var b,e;return e=!1,b=a.clipboardData,Array.prototype.forEach.call(b.types,function(a,f){var g,h;if(!e)return a.match(c.matchType)||b.items[f].type.match(c.matchType)?(g=b.items[f].getAsFile(),h=new FileReader,h.onload=function(a){return c.callback.call(d,{dataURL:a.target.result,event:a,file:g,name:g.name})},h.readAsDataURL(g),e=!0):void 0})})})}}(ea),ea}),/*!
 * jQuery-ajaxTransport-XDomainRequest - v1.0.4 - 2015-03-05
 * https://github.com/MoonScript/jQuery-ajaxTransport-XDomainRequest
 * Copyright (c) 2015 Jason Moon (@JSONMOON)
 * Licensed MIT (/blob/master/LICENSE.txt)
 */
function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?module.exports=a(require("jquery")):"function"==typeof define&&define.hz6d?use("jQuery",a):a(jQuery)}(function(a){if(a.support.cors||!a.ajaxTransport||!window.XDomainRequest)return a;var b=/^(https?:)?\/\//i,c=/^get|post$/i,d=new RegExp("^(//|"+location.protocol+")","i");return a.ajaxTransport("* text html xml json",function(e,f,g){if(e.crossDomain&&e.async&&c.test(e.type)&&b.test(e.url)&&d.test(e.url)){var h=null;return{send:function(b,c){var d="",g=(f.dataType||"").toLowerCase();h=new XDomainRequest,/^\d+$/.test(f.timeout)&&(h.timeout=f.timeout),h.ontimeout=function(){c(500,"timeout")},h.onload=function(){var b="Content-Length: "+h.responseText.length+"\r\nContent-Type: "+h.contentType,d={code:200,message:"success"},e={text:h.responseText};try{if("html"===g||/text\/html/i.test(h.contentType))e.html=h.responseText;else if("json"===g||"text"!==g&&/\/json/i.test(h.contentType))try{e.json=a.parseJSON(h.responseText)}catch(f){d.code=500,d.message="parseerror"}else if("xml"===g||"text"!==g&&/\/xml/i.test(h.contentType)){var i=new ActiveXObject("Microsoft.XMLDOM");i.async=!1;try{i.loadXML(h.responseText)}catch(f){i=void 0}if(!i||!i.documentElement||i.getElementsByTagName("parsererror").length)throw d.code=500,d.message="parseerror","Invalid XML: "+h.responseText;e.xml=i}}catch(j){throw j}finally{c(d.code,d.message,e,b)}},h.onprogress=function(){},h.onerror=function(){c(500,"error",{text:h.responseText})},f.data&&(d="string"===a.type(f.data)?f.data:a.param(f.data)),h.open(e.type,e.url),h.send(d)},abort:function(){h&&h.abort()}}}}),a}),/*! jQuery UI - v1.11.3 - 2015-03-06
* http://jqueryui.com
* Includes: core.js, widget.js, mouse.js, draggable.js
* Copyright 2015 jQuery Foundation and other contributors; Licensed MIT */
function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"function"==typeof define&&define.hz6d?use("jQuery",a):a(jQuery)}(function(a){function b(b,d){var e,f,g,h=b.nodeName.toLowerCase();return"area"===h?(e=b.parentNode,f=e.name,b.href&&f&&"map"===e.nodeName.toLowerCase()?(g=a("img[usemap='#"+f+"']")[0],!!g&&c(g)):!1):(/^(input|select|textarea|button|object)$/.test(h)?!b.disabled:"a"===h?b.href||d:d)&&c(b)}function c(b){return a.expr.filters.visible(b)&&!a(b).parents().addBack().filter(function(){return"hidden"===a.css(this,"visibility")}).length}/*!
 * jQuery UI Core 1.11.3
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */
a.ui=a.ui||{},a.extend(a.ui,{version:"1.11.3",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),a.fn.extend({scrollParent:function(b){var c=this.css("position"),d="absolute"===c,e=b?/(auto|scroll|hidden)/:/(auto|scroll)/,f=this.parents().filter(function(){var b=a(this);return d&&"static"===b.css("position")?!1:e.test(b.css("overflow")+b.css("overflow-y")+b.css("overflow-x"))}).eq(0);return"fixed"!==c&&f.length?f:a(this[0].ownerDocument||document)},uniqueId:function(){var a=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++a)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&a(this).removeAttr("id")})}}),a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo(function(b){return function(c){return!!a.data(c,b)}}):function(b,c,d){return!!a.data(b,d[3])},focusable:function(c){return b(c,!isNaN(a.attr(c,"tabindex")))},tabbable:function(c){var d=a.attr(c,"tabindex"),e=isNaN(d);return(e||d>=0)&&b(c,!e)}}),a("<a>").outerWidth(1).jquery||a.each(["Width","Height"],function(b,c){function d(b,c,d,f){return a.each(e,function(){c-=parseFloat(a.css(b,"padding"+this))||0,d&&(c-=parseFloat(a.css(b,"border"+this+"Width"))||0),f&&(c-=parseFloat(a.css(b,"margin"+this))||0)}),c}var e="Width"===c?["Left","Right"]:["Top","Bottom"],f=c.toLowerCase(),g={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+c]=function(b){return void 0===b?g["inner"+c].call(this):this.each(function(){a(this).css(f,d(this,b)+"px")})},a.fn["outer"+c]=function(b,e){return"number"!=typeof b?g["outer"+c].call(this,b):this.each(function(){a(this).css(f,d(this,b,!0,e)+"px")})}}),a.fn.addBack||(a.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}),a("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(a.fn.removeData=function(b){return function(c){return arguments.length?b.call(this,a.camelCase(c)):b.call(this)}}(a.fn.removeData)),a.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),a.fn.extend({focus:function(b){return function(c,d){return"number"==typeof c?this.each(function(){var b=this;setTimeout(function(){a(b).focus(),d&&d.call(b)},c)}):b.apply(this,arguments)}}(a.fn.focus),disableSelection:function(){var a="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(a+".ui-disableSelection",function(a){a.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(b){if(void 0!==b)return this.css("zIndex",b);if(this.length)for(var c,d,e=a(this[0]);e.length&&e[0]!==document;){if(c=e.css("position"),("absolute"===c||"relative"===c||"fixed"===c)&&(d=parseInt(e.css("zIndex"),10),!isNaN(d)&&0!==d))return d;e=e.parent()}return 0}}),a.ui.plugin={add:function(b,c,d){var e,f=a.ui[b].prototype;for(e in d)f.plugins[e]=f.plugins[e]||[],f.plugins[e].push([c,d[e]])},call:function(a,b,c,d){var e,f=a.plugins[b];if(f&&(d||a.element[0].parentNode&&11!==a.element[0].parentNode.nodeType))for(e=0;e<f.length;e++)a.options[f[e][0]]&&f[e][1].apply(a.element,c)}};/*!
 * jQuery UI Widget 1.11.3
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/jQuery.widget/
 */
var d=0,e=Array.prototype.slice;a.cleanData=function(b){return function(c){var d,e,f;for(f=0;null!=(e=c[f]);f++)try{d=a._data(e,"events"),d&&d.remove&&a(e).triggerHandler("remove")}catch(g){}b(c)}}(a.cleanData),a.widget=function(b,c,d){var e,f,g,h,i={},j=b.split(".")[0];return b=b.split(".")[1],e=j+"-"+b,d||(d=c,c=a.Widget),a.expr[":"][e.toLowerCase()]=function(b){return!!a.data(b,e)},a[j]=a[j]||{},f=a[j][b],g=a[j][b]=function(a,b){return this._createWidget?void(arguments.length&&this._createWidget(a,b)):new g(a,b)},a.extend(g,f,{version:d.version,_proto:a.extend({},d),_childConstructors:[]}),h=new c,h.options=a.widget.extend({},h.options),a.each(d,function(b,d){return a.isFunction(d)?void(i[b]=function(){var a=function(){return c.prototype[b].apply(this,arguments)},e=function(a){return c.prototype[b].apply(this,a)};return function(){var b,c=this._super,f=this._superApply;return this._super=a,this._superApply=e,b=d.apply(this,arguments),this._super=c,this._superApply=f,b}}()):void(i[b]=d)}),g.prototype=a.widget.extend(h,{widgetEventPrefix:f?h.widgetEventPrefix||b:b},i,{constructor:g,namespace:j,widgetName:b,widgetFullName:e}),f?(a.each(f._childConstructors,function(b,c){var d=c.prototype;a.widget(d.namespace+"."+d.widgetName,g,c._proto)}),delete f._childConstructors):c._childConstructors.push(g),a.widget.bridge(b,g),g},a.widget.extend=function(b){for(var c,d,f=e.call(arguments,1),g=0,h=f.length;h>g;g++)for(c in f[g])d=f[g][c],f[g].hasOwnProperty(c)&&void 0!==d&&(a.isPlainObject(d)?b[c]=a.isPlainObject(b[c])?a.widget.extend({},b[c],d):a.widget.extend({},d):b[c]=d);return b},a.widget.bridge=function(b,c){var d=c.prototype.widgetFullName||b;a.fn[b]=function(f){var g="string"==typeof f,h=e.call(arguments,1),i=this;return g?this.each(function(){var c,e=a.data(this,d);return"instance"===f?(i=e,!1):e?a.isFunction(e[f])&&"_"!==f.charAt(0)?(c=e[f].apply(e,h),c!==e&&void 0!==c?(i=c&&c.jquery?i.pushStack(c.get()):c,!1):void 0):a.error("no such method '"+f+"' for "+b+" widget instance"):a.error("cannot call methods on "+b+" prior to initialization; attempted to call method '"+f+"'")}):(h.length&&(f=a.widget.extend.apply(null,[f].concat(h))),this.each(function(){var b=a.data(this,d);b?(b.option(f||{}),b._init&&b._init()):a.data(this,d,new c(f,this))})),i}},a.Widget=function(){},a.Widget._childConstructors=[],a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(b,c){c=a(c||this.defaultElement||this)[0],this.element=a(c),this.uuid=d++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=a(),this.hoverable=a(),this.focusable=a(),c!==this&&(a.data(c,this.widgetFullName,this),this._on(!0,this.element,{remove:function(a){a.target===c&&this.destroy()}}),this.document=a(c.style?c.ownerDocument:c.document||c),this.window=a(this.document[0].defaultView||this.document[0].parentWindow)),this.options=a.widget.extend({},this.options,this._getCreateOptions(),b),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:a.noop,_getCreateEventData:a.noop,_create:a.noop,_init:a.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(a.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:a.noop,widget:function(){return this.element},option:function(b,c){var d,e,f,g=b;if(0===arguments.length)return a.widget.extend({},this.options);if("string"==typeof b)if(g={},d=b.split("."),b=d.shift(),d.length){for(e=g[b]=a.widget.extend({},this.options[b]),f=0;f<d.length-1;f++)e[d[f]]=e[d[f]]||{},e=e[d[f]];if(b=d.pop(),1===arguments.length)return void 0===e[b]?null:e[b];e[b]=c}else{if(1===arguments.length)return void 0===this.options[b]?null:this.options[b];g[b]=c}return this._setOptions(g),this},_setOptions:function(a){var b;for(b in a)this._setOption(b,a[b]);return this},_setOption:function(a,b){return this.options[a]=b,"disabled"===a&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!b),b&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(b,c,d){var e,f=this;"boolean"!=typeof b&&(d=c,c=b,b=!1),d?(c=e=a(c),this.bindings=this.bindings.add(c)):(d=c,c=this.element,e=this.widget()),a.each(d,function(d,g){function h(){return b||f.options.disabled!==!0&&!a(this).hasClass("ui-state-disabled")?("string"==typeof g?f[g]:g).apply(f,arguments):void 0}"string"!=typeof g&&(h.guid=g.guid=g.guid||h.guid||a.guid++);var i=d.match(/^([\w:-]*)\s*(.*)$/),j=i[1]+f.eventNamespace,k=i[2];k?e.delegate(k,j,h):c.bind(j,h)})},_off:function(b,c){c=(c||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,b.unbind(c).undelegate(c),this.bindings=a(this.bindings.not(b).get()),this.focusable=a(this.focusable.not(b).get()),this.hoverable=a(this.hoverable.not(b).get())},_delay:function(a,b){function c(){return("string"==typeof a?d[a]:a).apply(d,arguments)}var d=this;return setTimeout(c,b||0)},_hoverable:function(b){this.hoverable=this.hoverable.add(b),this._on(b,{mouseenter:function(b){a(b.currentTarget).addClass("ui-state-hover")},mouseleave:function(b){a(b.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(b){this.focusable=this.focusable.add(b),this._on(b,{focusin:function(b){a(b.currentTarget).addClass("ui-state-focus")},focusout:function(b){a(b.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(b,c,d){var e,f,g=this.options[b];if(d=d||{},c=a.Event(c),c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase(),c.target=this.element[0],f=c.originalEvent)for(e in f)e in c||(c[e]=f[e]);return this.element.trigger(c,d),!(a.isFunction(g)&&g.apply(this.element[0],[c].concat(d))===!1||c.isDefaultPrevented())}},a.each({show:"fadeIn",hide:"fadeOut"},function(b,c){a.Widget.prototype["_"+b]=function(d,e,f){"string"==typeof e&&(e={effect:e});var g,h=e?e===!0||"number"==typeof e?c:e.effect||c:b;e=e||{},"number"==typeof e&&(e={duration:e}),g=!a.isEmptyObject(e),e.complete=f,e.delay&&d.delay(e.delay),g&&a.effects&&a.effects.effect[h]?d[b](e):h!==b&&d[h]?d[h](e.duration,e.easing,f):d.queue(function(c){a(this)[b](),f&&f.call(d[0]),c()})}});var f=(a.widget,!1);a(document).mouseup(function(){f=!1});a.widget("ui.mouse",{version:"1.11.3",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var b=this;this.element.bind("mousedown."+this.widgetName,function(a){return b._mouseDown(a)}).bind("click."+this.widgetName,function(c){return!0===a.data(c.target,b.widgetName+".preventClickEvent")?(a.removeData(c.target,b.widgetName+".preventClickEvent"),c.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(b){if(!f){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(b),this._mouseDownEvent=b;var c=this,d=1===b.which,e="string"==typeof this.options.cancel&&b.target.nodeName?a(b.target).closest(this.options.cancel).length:!1;return d&&!e&&this._mouseCapture(b)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){c.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=this._mouseStart(b)!==!1,!this._mouseStarted)?(b.preventDefault(),!0):(!0===a.data(b.target,this.widgetName+".preventClickEvent")&&a.removeData(b.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(a){return c._mouseMove(a)},this._mouseUpDelegate=function(a){return c._mouseUp(a)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),b.preventDefault(),f=!0,!0)):!0}},_mouseMove:function(b){if(this._mouseMoved){if(a.ui.ie&&(!document.documentMode||document.documentMode<9)&&!b.button)return this._mouseUp(b);if(!b.which)return this._mouseUp(b)}return(b.which||b.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(b),b.preventDefault()):(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,b)!==!1,this._mouseStarted?this._mouseDrag(b):this._mouseUp(b)),!this._mouseStarted)},_mouseUp:function(b){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,b.target===this._mouseDownEvent.target&&a.data(b.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(b)),f=!1,!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}});/*!
 * jQuery UI Draggable 1.11.3
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/draggable/
 */
a.widget("ui.draggable",a.ui.mouse,{version:"1.11.3",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(a,b){this._super(a,b),"handle"===a&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?void(this.destroyOnClear=!0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),void this._mouseDestroy())},_mouseCapture:function(b){var c=this.options;return this._blurActiveElement(b),this.helper||c.disabled||a(b.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(b),this.handle?(this._blockFrames(c.iframeFix===!0?"iframe":c.iframeFix),!0):!1)},_blockFrames:function(b){this.iframeBlocks=this.document.find(b).map(function(){var b=a(this);return a("<div>").css("position","absolute").appendTo(b.parent()).outerWidth(b.outerWidth()).outerHeight(b.outerHeight()).offset(b.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(b){var c=this.document[0];if(this.handleElement.is(b.target))try{c.activeElement&&"body"!==c.activeElement.nodeName.toLowerCase()&&a(c.activeElement).blur()}catch(d){}},_mouseStart:function(b){var c=this.options;return this.helper=this._createHelper(b),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),a.ui.ddmanager&&(a.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===a(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(b),this.originalPosition=this.position=this._generatePosition(b,!1),this.originalPageX=b.pageX,this.originalPageY=b.pageY,c.cursorAt&&this._adjustOffsetFromHelper(c.cursorAt),this._setContainment(),this._trigger("start",b)===!1?(this._clear(),!1):(this._cacheHelperProportions(),a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b),this._normalizeRightBottom(),this._mouseDrag(b,!0),a.ui.ddmanager&&a.ui.ddmanager.dragStart(this,b),!0)},_refreshOffsets:function(a){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:a.pageX-this.offset.left,top:a.pageY-this.offset.top}},_mouseDrag:function(b,c){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(b,!0),this.positionAbs=this._convertPositionTo("absolute"),!c){var d=this._uiHash();if(this._trigger("drag",b,d)===!1)return this._mouseUp({}),!1;this.position=d.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",a.ui.ddmanager&&a.ui.ddmanager.drag(this,b),!1},_mouseStop:function(b){var c=this,d=!1;return a.ui.ddmanager&&!this.options.dropBehaviour&&(d=a.ui.ddmanager.drop(this,b)),this.dropped&&(d=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!d||"valid"===this.options.revert&&d||this.options.revert===!0||a.isFunction(this.options.revert)&&this.options.revert.call(this.element,d)?a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){c._trigger("stop",b)!==!1&&c._clear()}):this._trigger("stop",b)!==!1&&this._clear(),!1},_mouseUp:function(b){return this._unblockFrames(),a.ui.ddmanager&&a.ui.ddmanager.dragStop(this,b),this.handleElement.is(b.target)&&this.element.focus(),a.ui.mouse.prototype._mouseUp.call(this,b)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(b){return this.options.handle?!!a(b.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(b){var c=this.options,d=a.isFunction(c.helper),e=d?a(c.helper.apply(this.element[0],[b])):"clone"===c.helper?this.element.clone().removeAttr("id"):this.element;return e.parents("body").length||e.appendTo("parent"===c.appendTo?this.element[0].parentNode:c.appendTo),d&&e[0]===this.element[0]&&this._setPositionRelative(),e[0]===this.element[0]||/(fixed|absolute)/.test(e.css("position"))||e.css("position","absolute"),e},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(b){"string"==typeof b&&(b=b.split(" ")),a.isArray(b)&&(b={left:+b[0],top:+b[1]||0}),"left"in b&&(this.offset.click.left=b.left+this.margins.left),"right"in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left),"top"in b&&(this.offset.click.top=b.top+this.margins.top),"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_isRootNode:function(a){return/(html|body)/i.test(a.tagName)||a===this.document[0]},_getParentOffset:function(){var b=this.offsetParent.offset(),c=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==c&&a.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(b={top:0,left:0}),{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var a=this.element.position(),b=this._isRootNode(this.scrollParent[0]);return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+(b?0:this.scrollParent.scrollTop()),left:a.left-(parseInt(this.helper.css("left"),10)||0)+(b?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b,c,d,e=this.options,f=this.document[0];return this.relativeContainer=null,e.containment?"window"===e.containment?void(this.containment=[a(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,a(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,a(window).scrollLeft()+a(window).width()-this.helperProportions.width-this.margins.left,a(window).scrollTop()+(a(window).height()||f.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===e.containment?void(this.containment=[0,0,a(f).width()-this.helperProportions.width-this.margins.left,(a(f).height()||f.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):e.containment.constructor===Array?void(this.containment=e.containment):("parent"===e.containment&&(e.containment=this.helper[0].parentNode),c=a(e.containment),d=c[0],void(d&&(b=/(scroll|auto)/.test(c.css("overflow")),this.containment=[(parseInt(c.css("borderLeftWidth"),10)||0)+(parseInt(c.css("paddingLeft"),10)||0),(parseInt(c.css("borderTopWidth"),10)||0)+(parseInt(c.css("paddingTop"),10)||0),(b?Math.max(d.scrollWidth,d.offsetWidth):d.offsetWidth)-(parseInt(c.css("borderRightWidth"),10)||0)-(parseInt(c.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(b?Math.max(d.scrollHeight,d.offsetHeight):d.offsetHeight)-(parseInt(c.css("borderBottomWidth"),10)||0)-(parseInt(c.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=c))):void(this.containment=null)},_convertPositionTo:function(a,b){b||(b=this.position);var c="absolute"===a?1:-1,d=this._isRootNode(this.scrollParent[0]);return{top:b.top+this.offset.relative.top*c+this.offset.parent.top*c-("fixed"===this.cssPosition?-this.offset.scroll.top:d?0:this.offset.scroll.top)*c,left:b.left+this.offset.relative.left*c+this.offset.parent.left*c-("fixed"===this.cssPosition?-this.offset.scroll.left:d?0:this.offset.scroll.left)*c}},_generatePosition:function(a,b){var c,d,e,f,g=this.options,h=this._isRootNode(this.scrollParent[0]),i=a.pageX,j=a.pageY;return h&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),b&&(this.containment&&(this.relativeContainer?(d=this.relativeContainer.offset(),c=[this.containment[0]+d.left,this.containment[1]+d.top,this.containment[2]+d.left,this.containment[3]+d.top]):c=this.containment,a.pageX-this.offset.click.left<c[0]&&(i=c[0]+this.offset.click.left),a.pageY-this.offset.click.top<c[1]&&(j=c[1]+this.offset.click.top),a.pageX-this.offset.click.left>c[2]&&(i=c[2]+this.offset.click.left),a.pageY-this.offset.click.top>c[3]&&(j=c[3]+this.offset.click.top)),g.grid&&(e=g.grid[1]?this.originalPageY+Math.round((j-this.originalPageY)/g.grid[1])*g.grid[1]:this.originalPageY,j=c?e-this.offset.click.top>=c[1]||e-this.offset.click.top>c[3]?e:e-this.offset.click.top>=c[1]?e-g.grid[1]:e+g.grid[1]:e,f=g.grid[0]?this.originalPageX+Math.round((i-this.originalPageX)/g.grid[0])*g.grid[0]:this.originalPageX,i=c?f-this.offset.click.left>=c[0]||f-this.offset.click.left>c[2]?f:f-this.offset.click.left>=c[0]?f-g.grid[0]:f+g.grid[0]:f),"y"===g.axis&&(i=this.originalPageX),"x"===g.axis&&(j=this.originalPageY)),{top:j-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:h?0:this.offset.scroll.top),left:i-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:h?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){"y"!==this.options.axis&&"auto"!==this.helper.css("right")&&(this.helper.width(this.helper.width()),this.helper.css("right","auto")),"x"!==this.options.axis&&"auto"!==this.helper.css("bottom")&&(this.helper.height(this.helper.height()),this.helper.css("bottom","auto"))},_trigger:function(b,c,d){return d=d||this._uiHash(),a.ui.plugin.call(this,b,[c,d,this],!0),/^(drag|start|stop)/.test(b)&&(this.positionAbs=this._convertPositionTo("absolute"),d.offset=this.positionAbs),a.Widget.prototype._trigger.call(this,b,c,d)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),a.ui.plugin.add("draggable","connectToSortable",{start:function(b,c,d){var e=a.extend({},c,{item:d.element});d.sortables=[],a(d.options.connectToSortable).each(function(){var c=a(this).sortable("instance");c&&!c.options.disabled&&(d.sortables.push(c),c.refreshPositions(),c._trigger("activate",b,e))})},stop:function(b,c,d){var e=a.extend({},c,{item:d.element});d.cancelHelperRemoval=!1,a.each(d.sortables,function(){var a=this;a.isOver?(a.isOver=0,d.cancelHelperRemoval=!0,a.cancelHelperRemoval=!1,a._storedCSS={position:a.placeholder.css("position"),top:a.placeholder.css("top"),left:a.placeholder.css("left")},a._mouseStop(b),a.options.helper=a.options._helper):(a.cancelHelperRemoval=!0,a._trigger("deactivate",b,e))})},drag:function(b,c,d){a.each(d.sortables,function(){var e=!1,f=this;f.positionAbs=d.positionAbs,f.helperProportions=d.helperProportions,f.offset.click=d.offset.click,f._intersectsWith(f.containerCache)&&(e=!0,a.each(d.sortables,function(){return this.positionAbs=d.positionAbs,this.helperProportions=d.helperProportions,this.offset.click=d.offset.click,this!==f&&this._intersectsWith(this.containerCache)&&a.contains(f.element[0],this.element[0])&&(e=!1),e})),e?(f.isOver||(f.isOver=1,f.currentItem=c.helper.appendTo(f.element).data("ui-sortable-item",!0),f.options._helper=f.options.helper,f.options.helper=function(){return c.helper[0]},b.target=f.currentItem[0],f._mouseCapture(b,!0),f._mouseStart(b,!0,!0),f.offset.click.top=d.offset.click.top,f.offset.click.left=d.offset.click.left,f.offset.parent.left-=d.offset.parent.left-f.offset.parent.left,f.offset.parent.top-=d.offset.parent.top-f.offset.parent.top,d._trigger("toSortable",b),d.dropped=f.element,a.each(d.sortables,function(){this.refreshPositions()}),d.currentItem=d.element,f.fromOutside=d),f.currentItem&&(f._mouseDrag(b),c.position=f.position)):f.isOver&&(f.isOver=0,f.cancelHelperRemoval=!0,f.options._revert=f.options.revert,f.options.revert=!1,f._trigger("out",b,f._uiHash(f)),f._mouseStop(b,!0),f.options.revert=f.options._revert,f.options.helper=f.options._helper,f.placeholder&&f.placeholder.remove(),d._refreshOffsets(b),c.position=d._generatePosition(b,!0),d._trigger("fromSortable",b),d.dropped=!1,a.each(d.sortables,function(){this.refreshPositions()}))})}}),a.ui.plugin.add("draggable","cursor",{start:function(b,c,d){var e=a("body"),f=d.options;e.css("cursor")&&(f._cursor=e.css("cursor")),e.css("cursor",f.cursor)},stop:function(b,c,d){var e=d.options;e._cursor&&a("body").css("cursor",e._cursor)}}),a.ui.plugin.add("draggable","opacity",{start:function(b,c,d){var e=a(c.helper),f=d.options;e.css("opacity")&&(f._opacity=e.css("opacity")),e.css("opacity",f.opacity)},stop:function(b,c,d){var e=d.options;e._opacity&&a(c.helper).css("opacity",e._opacity)}}),a.ui.plugin.add("draggable","scroll",{start:function(a,b,c){c.scrollParentNotHidden||(c.scrollParentNotHidden=c.helper.scrollParent(!1)),c.scrollParentNotHidden[0]!==c.document[0]&&"HTML"!==c.scrollParentNotHidden[0].tagName&&(c.overflowOffset=c.scrollParentNotHidden.offset())},drag:function(b,c,d){var e=d.options,f=!1,g=d.scrollParentNotHidden[0],h=d.document[0];g!==h&&"HTML"!==g.tagName?(e.axis&&"x"===e.axis||(d.overflowOffset.top+g.offsetHeight-b.pageY<e.scrollSensitivity?g.scrollTop=f=g.scrollTop+e.scrollSpeed:b.pageY-d.overflowOffset.top<e.scrollSensitivity&&(g.scrollTop=f=g.scrollTop-e.scrollSpeed)),e.axis&&"y"===e.axis||(d.overflowOffset.left+g.offsetWidth-b.pageX<e.scrollSensitivity?g.scrollLeft=f=g.scrollLeft+e.scrollSpeed:b.pageX-d.overflowOffset.left<e.scrollSensitivity&&(g.scrollLeft=f=g.scrollLeft-e.scrollSpeed))):(e.axis&&"x"===e.axis||(b.pageY-a(h).scrollTop()<e.scrollSensitivity?f=a(h).scrollTop(a(h).scrollTop()-e.scrollSpeed):a(window).height()-(b.pageY-a(h).scrollTop())<e.scrollSensitivity&&(f=a(h).scrollTop(a(h).scrollTop()+e.scrollSpeed))),e.axis&&"y"===e.axis||(b.pageX-a(h).scrollLeft()<e.scrollSensitivity?f=a(h).scrollLeft(a(h).scrollLeft()-e.scrollSpeed):a(window).width()-(b.pageX-a(h).scrollLeft())<e.scrollSensitivity&&(f=a(h).scrollLeft(a(h).scrollLeft()+e.scrollSpeed)))),f!==!1&&a.ui.ddmanager&&!e.dropBehaviour&&a.ui.ddmanager.prepareOffsets(d,b)}}),a.ui.plugin.add("draggable","snap",{start:function(b,c,d){var e=d.options;d.snapElements=[],a(e.snap.constructor!==String?e.snap.items||":data(ui-draggable)":e.snap).each(function(){var b=a(this),c=b.offset();this!==d.element[0]&&d.snapElements.push({item:this,width:b.outerWidth(),height:b.outerHeight(),top:c.top,left:c.left})})},drag:function(b,c,d){var e,f,g,h,i,j,k,l,m,n,o=d.options,p=o.snapTolerance,q=c.offset.left,r=q+d.helperProportions.width,s=c.offset.top,t=s+d.helperProportions.height;for(m=d.snapElements.length-1;m>=0;m--)i=d.snapElements[m].left-d.margins.left,j=i+d.snapElements[m].width,k=d.snapElements[m].top-d.margins.top,l=k+d.snapElements[m].height,i-p>r||q>j+p||k-p>t||s>l+p||!a.contains(d.snapElements[m].item.ownerDocument,d.snapElements[m].item)?(d.snapElements[m].snapping&&d.options.snap.release&&d.options.snap.release.call(d.element,b,a.extend(d._uiHash(),{snapItem:d.snapElements[m].item})),d.snapElements[m].snapping=!1):("inner"!==o.snapMode&&(e=Math.abs(k-t)<=p,f=Math.abs(l-s)<=p,g=Math.abs(i-r)<=p,h=Math.abs(j-q)<=p,e&&(c.position.top=d._convertPositionTo("relative",{top:k-d.helperProportions.height,left:0}).top),f&&(c.position.top=d._convertPositionTo("relative",{top:l,left:0}).top),g&&(c.position.left=d._convertPositionTo("relative",{top:0,left:i-d.helperProportions.width}).left),h&&(c.position.left=d._convertPositionTo("relative",{top:0,left:j}).left)),n=e||f||g||h,"outer"!==o.snapMode&&(e=Math.abs(k-s)<=p,f=Math.abs(l-t)<=p,g=Math.abs(i-q)<=p,h=Math.abs(j-r)<=p,e&&(c.position.top=d._convertPositionTo("relative",{top:k,left:0}).top),f&&(c.position.top=d._convertPositionTo("relative",{top:l-d.helperProportions.height,left:0}).top),g&&(c.position.left=d._convertPositionTo("relative",{top:0,left:i}).left),h&&(c.position.left=d._convertPositionTo("relative",{top:0,left:j-d.helperProportions.width}).left)),!d.snapElements[m].snapping&&(e||f||g||h||n)&&d.options.snap.snap&&d.options.snap.snap.call(d.element,b,a.extend(d._uiHash(),{snapItem:d.snapElements[m].item})),d.snapElements[m].snapping=e||f||g||h||n)}}),a.ui.plugin.add("draggable","stack",{start:function(b,c,d){var e,f=d.options,g=a.makeArray(a(f.stack)).sort(function(b,c){return(parseInt(a(b).css("zIndex"),10)||0)-(parseInt(a(c).css("zIndex"),10)||0)});g.length&&(e=parseInt(a(g[0]).css("zIndex"),10)||0,a(g).each(function(b){a(this).css("zIndex",e+b)}),this.css("zIndex",e+g.length))}}),a.ui.plugin.add("draggable","zIndex",{start:function(b,c,d){var e=a(c.helper),f=d.options;e.css("zIndex")&&(f._zIndex=e.css("zIndex")),e.css("zIndex",f.zIndex)},stop:function(b,c,d){var e=d.options;e._zIndex&&a(c.helper).css("zIndex",e._zIndex)}});a.ui.draggable}),/*!
 * jQuery Cookie Plugin v1.4.1
 * https://github.com/carhartl/jquery-cookie
 *
 * Copyright 2006, 2014 Klaus Hartl
 * Released under the MIT license
 */
function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?a(require("jquery")):"function"==typeof define&&define.hz6d?use("jQuery",a):a(jQuery)}(function(a){function b(a){return h.raw?a:encodeURIComponent(a)}function c(a){return h.raw?a:decodeURIComponent(a)}function d(a){return b(h.json?JSON.stringify(a):String(a))}function e(a){0===a.indexOf('"')&&(a=a.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return a=decodeURIComponent(a.replace(g," ")),h.json?JSON.parse(a):a}catch(b){}}function f(b,c){var d=h.raw?b:e(b);return a.isFunction(c)?c(d):d}var g=/\+/g,h=a.cookie=function(e,g,i){if(arguments.length>1&&!a.isFunction(g)){if(i=a.extend({},h.defaults,i),"number"==typeof i.expires){var j=i.expires,k=i.expires=new Date;k.setTime(+k+864e5*j)}return document.cookie=[b(e),"=",d(g),i.expires?"; expires="+i.expires.toUTCString():"",i.path?"; path="+i.path:"",i.domain?"; domain="+i.domain:"",i.secure?"; secure":""].join("")}for(var l=e?void 0:{},m=document.cookie?document.cookie.split("; "):[],n=0,o=m.length;o>n;n++){var p=m[n].split("="),q=c(p.shift()),r=p.join("=");if(e&&e===q){l=f(r,g);break}e||void 0===(r=f(r))||(l[q]=r)}return l};h.defaults={},a.removeCookie=function(b,c){return void 0===a.cookie(b)?!1:(a.cookie(b,"",a.extend({},c,{expires:-1})),!a.cookie(b))}}),function(a){"use strict";var b,c=a.Base64,d="2.1.5";"undefined"!=typeof module&&module.exports&&(b=require("buffer").Buffer);var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=function(a){for(var b={},c=0,d=a.length;d>c;c++)b[a.charAt(c)]=c;return b}(e),g=String.fromCharCode,h=function(a){if(a.length<2){var b=a.charCodeAt(0);return 128>b?a:2048>b?g(192|b>>>6)+g(128|63&b):g(224|b>>>12&15)+g(128|b>>>6&63)+g(128|63&b)}var b=65536+1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320);return g(240|b>>>18&7)+g(128|b>>>12&63)+g(128|b>>>6&63)+g(128|63&b)},i=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,j=function(a){return a.replace(i,h)},k=function(a){var b=[0,2,1][a.length%3],c=a.charCodeAt(0)<<16|(a.length>1?a.charCodeAt(1):0)<<8|(a.length>2?a.charCodeAt(2):0),d=[e.charAt(c>>>18),e.charAt(c>>>12&63),b>=2?"=":e.charAt(c>>>6&63),b>=1?"=":e.charAt(63&c)];return d.join("")},l=a.btoa?function(b){return a.btoa(b)}:function(a){return a.replace(/[\s\S]{1,3}/g,k)},m=b?function(a){return new b(a).toString("base64")}:function(a){return l(j(a))},n=function(a,b){return b?m(a).replace(/[+\/]/g,function(a){return"+"==a?"-":"_"}).replace(/=/g,""):m(a)},o=function(a){return n(a,!0)},p=new RegExp(["[À-ß][-¿]","[à-ï][-¿]{2}","[ð-÷][-¿]{3}"].join("|"),"g"),q=function(a){switch(a.length){case 4:var b=(7&a.charCodeAt(0))<<18|(63&a.charCodeAt(1))<<12|(63&a.charCodeAt(2))<<6|63&a.charCodeAt(3),c=b-65536;return g((c>>>10)+55296)+g((1023&c)+56320);case 3:return g((15&a.charCodeAt(0))<<12|(63&a.charCodeAt(1))<<6|63&a.charCodeAt(2));default:return g((31&a.charCodeAt(0))<<6|63&a.charCodeAt(1))}},r=function(a){return a.replace(p,q)},s=function(a){var b=a.length,c=b%4,d=(b>0?f[a.charAt(0)]<<18:0)|(b>1?f[a.charAt(1)]<<12:0)|(b>2?f[a.charAt(2)]<<6:0)|(b>3?f[a.charAt(3)]:0),e=[g(d>>>16),g(d>>>8&255),g(255&d)];return e.length-=[0,0,2,1][c],e.join("")},t=a.atob?function(b){return a.atob(b)}:function(a){return a.replace(/[\s\S]{1,4}/g,s)},u=b?function(a){return new b(a,"base64").toString()}:function(a){return r(t(a))},v=function(a){return u(a.replace(/[-_]/g,function(a){return"-"==a?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,""))},w=function(){var b=a.Base64;return a.Base64=c,b};if(a.Base64={VERSION:d,atob:t,btoa:l,fromBase64:v,toBase64:n,utob:j,encode:n,encodeURI:o,btou:r,decode:v,noConflict:w},"function"==typeof Object.defineProperty){var x=function(a){return{value:a,enumerable:!1,writable:!0,configurable:!0}};a.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",x(function(){return v(this)})),Object.defineProperty(String.prototype,"toBase64",x(function(a){return n(this,a)})),Object.defineProperty(String.prototype,"toBase64URI",x(function(){return n(this,!0)}))}}}(this),this.Meteor&&(Base64=global.Base64),"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(a){return 10>a?"0"+a:a}function quote(a){return escapable.lastIndex=0,escapable.test(a)?'"'+a.replace(escapable,function(a){var b=meta[a];return"string"==typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function str(a,b){var c,d,e,f,g,h=gap,i=b[a];switch(i&&"object"==typeof i&&"function"==typeof i.toJSON&&(i=i.toJSON(a)),"function"==typeof rep&&(i=rep.call(b,a,i)),typeof i){case"string":return quote(i);case"number":return isFinite(i)?String(i):"null";case"boolean":case"null":return String(i);case"object":if(!i)return"null";if(gap+=indent,g=[],"[object Array]"===Object.prototype.toString.apply(i)){for(f=i.length,c=0;f>c;c+=1)g[c]=str(c,i)||"null";return e=0===g.length?"[]":gap?"[\n"+gap+g.join(",\n"+gap)+"\n"+h+"]":"["+g.join(",")+"]",gap=h,e}if(rep&&"object"==typeof rep)for(f=rep.length,c=0;f>c;c+=1)"string"==typeof rep[c]&&(d=rep[c],e=str(d,i),e&&g.push(quote(d)+(gap?": ":":")+e));else for(d in i)Object.prototype.hasOwnProperty.call(i,d)&&(e=str(d,i),e&&g.push(quote(d)+(gap?": ":":")+e));return e=0===g.length?"{}":gap?"{\n"+gap+g.join(",\n"+gap)+"\n"+h+"}":"{"+g.join(",")+"}",gap=h,e}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx,escapable,gap,indent,meta,rep;"function"!=typeof JSON.stringify&&(escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(a,b,c){var d;if(gap="",indent="","number"==typeof c)for(d=0;c>d;d+=1)indent+=" ";else"string"==typeof c&&(indent=c);if(rep=b,b&&"function"!=typeof b&&("object"!=typeof b||"number"!=typeof b.length))throw new Error("JSON.stringify");return str("",{"":a})}),"function"!=typeof JSON.parse&&(cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,JSON.parse=function(text,reviver){function walk(a,b){var c,d,e=a[b];if(e&&"object"==typeof e)for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&(d=walk(e,c),void 0!==d?e[c]=d:delete e[c]);return reviver.call(a,b,e)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),/**
 *     __  ___
 *    /  |/  /___   _____ _____ ___   ____   ____ _ ___   _____
 *   / /|_/ // _ \ / ___// ___// _ \ / __ \ / __ `// _ \ / ___/
 *  / /  / //  __/(__  )(__  )/  __// / / // /_/ //  __// /
 * /_/  /_/ \___//____//____/ \___//_/ /_/ \__, / \___//_/
 *                                        /____/
 *
 * @description MessengerJS, a common cross-document communicate solution.
 * @author biqing kwok
 * @version 2.0
 * @license release under MIT license
 */
window.Messenger=function(){function a(a,b){var c="";if(arguments.length<2?c="target error - target and name are both required":"object"!=typeof a?c="target error - target itself must be window object":"string"!=typeof b&&(c="target error - target name must be string type"),c)throw new Error(c);this.target=a,this.name=b}function b(a,b){this.targets={},this.name=a,this.listenFunc=[],c=b||c,"string"!=typeof c&&(c=c.toString()),this.initListen()}var c="[PROJECT_NAME]",d="postMessage"in window;return d?a.prototype.send=function(a){this.target.postMessage(c+a,"*")}:a.prototype.send=function(a){var b=window.navigator[c+this.name];if("function"!=typeof b)throw new Error("target callback function is not defined");b(c+a,window)},b.prototype.addTarget=function(b,c){var d=new a(b,c);this.targets[c]=d},b.prototype.initListen=function(){var a=this,b=function(b){"object"==typeof b&&b.data&&(b=b.data),b=b.slice(c.length);for(var d=0;d<a.listenFunc.length;d++)a.listenFunc[d](b)};d?"addEventListener"in document?window.addEventListener("message",b,!1):"attachEvent"in document&&window.attachEvent("onmessage",b):window.navigator[c+this.name]=b},b.prototype.listen=function(a){this.listenFunc.push(a)},b.prototype.clear=function(){this.listenFunc=[]},b.prototype.send=function(a){var b,c=this.targets;for(b in c)c.hasOwnProperty(b)&&c[b].send(a)},b}(),define("utils","jQuery",function($){"use strict";function zoomImage(a){var b=$("<div></div>"),c=$('<div style="position:fixed;top:31px;left:8px;width:30px;height:30px;text-align:center;z-index:9999;color:#fff;background:rgb(222,85,63);border-radius:50%"><i style="line-height:30px" class="fa fa-times fa-2x"></i></div>'),d=$('<div style="top:0;left:0;width:100%;height:100%;position:fixed;background:#000;z-index:9997;opacity:0.40;"></div>'),e=$('<img style="max-width:500px;position:fixed;z-index:9998;top:50%;left:50%;" />'),f=e[0];f.src=a,f.onload=function(){var a=Math.min(f.width,500),b=f.height/f.width*a;e.css({marginLeft:"-"+a/2+"px",marginTop:"-"+b/2+"px",maxWidth:"",maxHeight:"",width:a})},d.click(function(){b.remove()}),c.click(function(){b.remove()});var g=function(){var a=parseInt(f.style.width),b=a+event.wheelDelta/12;return f.style.width=b+"px",f.style.marginLeft=f.width/2*-1+"px",f.style.marginTop=f.height/2*-1+"px",!1};f.addEventListener("mousewheel",g),d[0].addEventListener("mousewheel",g),b.append(c).append(d).append(e).appendTo("body")}function theType(a){return void 0===a?"[object Undefined]":null===a?"[object Null]":Object.prototype.toString.apply(a)}function isString(a){return"[object String]"==theType(a)}function isArray(a){return"[object Array]"==theType(a)}function isObject(a){return"[object Object]"==theType(a)}function isFunction(a){return"[object Function]"==theType(a)}function binarySearch(a,b){for(var c,d=0,e=a.length-1;e>d;)if(c=d+(e-d)/2,b<a[c])e=c-1;else{if(!(b>a[c]))return c;d=c+1}return-1}function getQuery(a,b){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var c=new RegExp("[\\?&]"+a+"=([^&#]*)"),d=c.exec(b?b:location.search);return null===d?"":decodeURIComponent(d[1].replace(/\+/g," "))}function parseUrl(a){var b=document.createElement("a");return b.href=a,b}function detectBrowser(){var a,b=navigator.userAgent,c=b.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(c[1])?(a=/\brv[ :]+(\d+)/g.exec(b)||[],"IE "+(a[1]||"")):"Chrome"===c[1]&&(a=b.match(/\bOPR\/(\d+)/),null!=a)?"Opera "+a[1]:(c=c[2]?[c[1],c[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(a=b.match(/version\/(\d+)/i))&&c.splice(1,1,a[1]),c.join(" "))}function detectWebkit(){var a={versions:function(){var a=navigator.userAgent;navigator.appVersion;return{trident:a.indexOf("Trident")>-1,presto:a.indexOf("Presto")>-1,webKit:a.indexOf("AppleWebKit")>-1,gecko:a.indexOf("Gecko")>-1&&-1==a.indexOf("KHTML"),mobile:!!a.match(/AppleWebKit.*Mobile.*/)||!!a.match(/AppleWebKit/),ios:!!a.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:a.indexOf("Android")>-1||a.indexOf("Linux")>-1,iPhone:a.indexOf("iPhone")>-1||a.indexOf("Mac")>-1,iPad:a.indexOf("iPad")>-1,webApp:-1==a.indexOf("Safari")}}()};return a.versions.trident?"Trident":a.versions.presto?"Presto":a.versions.webKit?"AppleWebKit":a.versions.gecko?"Gecko":"other"}function detectFlash(){var f="-",n=navigator;if(n.plugins&&n.plugins.length){for(var ii=0;ii<n.plugins.length;ii++)if(-1!=n.plugins[ii].name.indexOf("Shockwave Flash")){f=n.plugins[ii].description.split("Shockwave Flash ")[1];break}}else if(window.ActiveXObject)for(var ii=10;ii>=2;ii--)try{var fl=eval("new ActiveXObject('ShockwaveFlash.ShockwaveFlash."+ii+"');");if(fl){f=ii+".0";break}}catch(e){}return f}function detectLanguage(){return navigator.language||navigator.userLanguage}function detectOS(){var a="Unknown OS",b=navigator.userAgent.toLowerCase();if(-1!=navigator.appVersion.indexOf("Win")){a="Windows";var c=b.indexOf("windows nt 5.0")>-1||b.indexOf("windows 2000")>-1;c&&(a="win2000");var d=b.indexOf("windows nt 5.1")>-1||b.indexOf("windows xp")>-1;d&&(a="winxp");var e=b.indexOf("windows nt 5.2")>-1||b.indexOf("windows 2003")>-1;e&&(a="win2003");var f=b.indexOf("windows nt 6.1")>-1||b.indexOf("windows 2007")>-1;f&&(a="win2007");var g=b.indexOf("windows nt 10")>-1||b.indexOf("windows 2010")>-1;g&&(a="win10")}return-1!=navigator.appVersion.indexOf("Mac")&&(a="MacOS"),-1!=navigator.appVersion.indexOf("X11")&&(a="UNIX"),-1!=navigator.appVersion.indexOf("Linux")&&(a="Linux"),a}function detectResolution(){return window.screen.width+"*"+window.screen.height}function getHostUniquePart(a){var b=a.split(".");return 1==b.length||2==b.length?b[0]:3==b.length&&["com","cn","org","net"].indexOf(b[1])>=0?b[0]:b[1]}function parseKeyword(a){if(!isString(a))return"";var b=parseUrl(a),c=getHostUniquePart(b.hostname.toLowerCase());if(searchKeys.hasOwnProperty(c)){for(var d=searchKeys[c],e="",f=0;f<d.length&&(e=getQuery(d[f],a),""==e);f++);return e}return""}function parseSearchEngine(a){if(!isString(a))return{en:"",cn:""};var b=parseUrl(a),c=getHostUniquePart(b.hostname.toLowerCase());return searchEngines.hasOwnProperty(c)?searchEngines[c]:{en:"",cn:""}}function detectMobile(){return navigator.userAgent.match(/Android/i)?"Android":navigator.userAgent.match(/webOS/i)?"webOS":navigator.userAgent.match(/iPhone/i)?"iPhone":navigator.userAgent.match(/iPad/i)?"iPad":navigator.userAgent.match(/iPod/i)?"iPod":navigator.userAgent.match(/BlackBerry/i)?"BlackBerry":navigator.userAgent.match(/Windows Phone/i)?"Windows Phone":!1}function decodeDefaultFace(a,b){return a.replace(/\[([\u4e00-\u9fa5]{2})\]/g,function(a,c){var d=faceMap[c];if(!d)return a;var e=b.hasOwnProperty("staticHost")?b.staticHost:b.getStaticHost();return'<img src="//'+e+"/Image/face/"+faceMap[c]+'" class="face" />'})}function decodeCustomFace(a,b){return a.replace(/\[([^\u4e00-\u9fa5\[\]]+)\]/g,function(a,c){var d,d=wechatFaceMap[c];if(!d){var e=c.replace(/face-([^\u4e00-\u9fa5\[\]]+)\//g,function(a,b){return b});if(e!=c){var f=e.split("-"),g=b.hasOwnProperty("staticHost")?b.staticHost:b.getStaticHost();if(2==f.length)return'<img src="//'+g+"/Upload/CustomFace/"+f[0]+"/"+f[1]+'" class="face" "/>'}return a}return'<img src="//'+b.getStaticHost()+"/Upload/CustomFace/wechat/"+wechatFaceMap[c]+'" class="face" "/>'})}function decodeFace(a,b){var c=decodeDefaultFace(a,b);return decodeCustomFace(c,b)}function replaceUrl(a){var b=/((https:\/\/|http:\/\/)[\w\-]*\.[\w!~;*'()&=\+\$%\-\/\#\?:\.,\|\^]*)/gim;return a.replace(b,function(a,b){return"{0}".format(b)})}function htmlEntityDecode(a){return $("<textarea />").html(a).text()}function titleTip(a,b,c){function d(){return++g>b?(titleTip._working=!1,void(document.title=f)):(document.title=document.title==e?f:e,void setTimeout(function(){d()},600))}if(!titleTip._working){titleTip._working=!0,c=c||"prepend",b=b||3;var e="",f=document.title,g=0;"append"==c?e=f+" "+a:"prepend"==c?e=a+" "+f:"replace"==c&&(e=a),d()}}function playSound(a,b){if(1==a.setting.clientSound)try{var c="//"+a.getStaticHost();b.src=c+"/Flash/lok.wav",b.play()}catch(d){}}function printf(){var a=arguments[0],b=arguments;return"[object Array]"===Object.prototype.toString.apply(arguments[1])&&(b=arguments[1],b.unshift("")),a.replace(/{([0-9]*)}/g,function(a,c){var d=parseInt(c)+1;return b[d]})}function randomStr(a){for(var b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",c=b.length,d="kf";a--;){var e=Math.floor(Math.random()*c);d+=b.charAt(e)}return d}function ajaxRequest(a,b){var c=this,d=!0;if(a.hasOwnProperty("retry")){if(a.retried==a.retry||0==a.retry)return;a.retried=a.retried+1}else a.retry=3,a.retried=0;if(a.direct)var e=function(b){c.ajaxRequest(a)};else if(a.error)var e=function(){a.error()};else var e=function(){setTimeout(function(){c.ajaxRequest(a)},1e3)};a.hasOwnProperty("async")&&(d=a.async);var f={cache:!1,contentType:a.contentType||"text/plain; charset=utf-8",crossDomain:a.hasOwnProperty("crossDomain")?a.crossDomain:!0,async:d,type:a.type||"POST",timeout:a.timeout||3e4,url:a.url,data:a.data,dataType:a.dataType||"json",success:a.success||function(a){},error:e};a.hasOwnProperty("jsonpCallback")&&(f.jsonpCallback=a.jsonpCallback,f.crossDomain=a.crossDomain,f.cache=a.cache,f.contentType=a.contentType),a.hasOwnProperty("xhrFields")&&(f.xhrFields=a.xhrFields),$.ajax(f)}function setFixedTime(a){timeDiff=localTime-a}function setLocalTime(a){localTime=a}function getServerTime(){return new Date((new Date).getTime()-timeDiff)}function html_encode(a){var b="";return 0==a.length?"":(b=a.replace(/&/g,"&amp;"),b=b.replace(/</g,"&lt;"),b=b.replace(/>/g,"&gt;"),b=b.replace(/ /g,"&nbsp;"),b=b.replace(/\'/g,"&#39;"),b=b.replace(/\"/g,"&quot;"),b=b.replace(/\n/g,"<br>"))}function special_chars_encode(a){var b="";return 0==a.length?"":(b=a.replace(/\+/g,"%2B"),b=b.replace(/ /g,"%20"),b=b.replace(/\//g,"%2F"),b=b.replace(/\?/g,"%3F"),b=b.replace(/\%/g,"%25"),b=b.replace(/\&/g,"%26"),b=b.replace(/\=/g,"%3D"),b=b.replace(/\#/g,"%23"),b=b.replace(/\:/g,"%3A"))}function html_decode(a){var b="";return 0==a.length?"":(b=a.replace(/&lt;/g,"<"),b=b.replace(/&gt;/g,">"),b=b.replace(/&nbsp;/g," "),b=b.replace(/&#39;/g,"'"),b=b.replace(/&quot;/g,'"'))}function showBeingInput(a){$(".now-input").length<1?($(".chat-title:first").children("span").not(":first").remove(),$(".chat-title:first").append('<span class="now-input">正在输入</span>'),beingInput=setInterval(function(){$(".now-input-point").length>2&&$(".now-input-point").remove(),$(".chat-title:first").append('<span class="now-input-point">.</span>')},1e3),beingInputTimeout=setTimeout(function(){clearInterval(beingInput),$(".chat-title:first").children("span").not(":first").remove()},a)):(clearTimeout(beingInputTimeout),beingInputTimeout=setTimeout(function(){clearInterval(beingInput),$(".chat-title:first").children("span").not(":first").remove()},a))}var faceMap={"困惑":"53b_1.gif","流泪":"53b_2.gif","鬼脸":"53b_3.gif","郁闷":"53b_4.gif","傲慢":"53b_5.gif","闭嘴":"53b_6.gif","惊讶":"53b_7.gif","流汗":"53b_8.gif","疑问":"53b_9.gif","心动":"53b_10.gif","耍酷":"53b_11.gif","发怒":"53b_12.gif","难过":"53b_13.gif","高兴":"53b_14.gif","委屈":"53b_15.gif","鄙视":"53b_16.gif","瞌睡":"53b_17.gif","偷笑":"53b_18.gif","胜利":"53b_19.gif","再见":"53b_20.gif","好样":"53b_21.gif","开心":"53b_22.gif","鼓掌":"53b_23.gif","我晕":"53b_24.gif","握手":"53b_25.gif","找打":"53b_26.gif","吃饭":"53b_27.gif","得意":"53b_28.gif","好的":"53b_29.gif","有礼":"53b_30.gif","惊吓":"53b_31.gif","发财":"53b_32.gif","奋斗":"53b_33.gif","蛋糕":"53b_34.gif","鲜花":"53b_35.gif","干杯":"53b_36.gif","成交":"53b_37.gif","欢迎":"53b_38.gif","再会":"53b_39.gif","通话":"53b_40.gif"},wechatFaceMap={},formValidate=function(a,b,c,d){function e(a){var d=a.name,e=a.getAttribute("valid");if("require"==e&&!a.value)return c(!1,a,"",!0),!1;if(b.hasOwnProperty(d)){var g=b[d];if(f.hasOwnProperty(g)){var h=f[g].call(null,a);return c(h,a,g),h}throw new Error("not valid rule")}return!0}var f={require:function(a){return a.value.length>0},email:function(a){return/^\w+@[0-9a-zA-Z_]+?\.[a-zA-Z]{2,3}$/.test(a.value)||!/\S/.test(a.value)},phone:function(a){return/^1\d{10}$/.test(a.value)||!/\S/.test(a.value)},qq:function(a){return/[1-9][0-9]{4,11}/.test(a.value)||!/\S/.test(a.value)},age:function(a){return a.value>=1&&a.value<=100&&a.value==parseInt(a.value)||!/\S/.test(a.value)?!0:!1}},g=!0;if(d){var h=e(a);g=g&&h}else{for(var i=a.find("input"),j=a.find("textarea"),k=0;k<i.length;k++){var h=e(i[k]);g=g&&h}for(var k=0;k<j.length;k++){var h=e(j[k]);g=g&&h}}return g},searchKeys={baidu:["wd","word"],google:["q"],iask:["k","_searchkey","searchWord"],sina:["word","searchWord"],sogou:["query","keyword"],youdao:["q"],yahoo:["p"],lycos:["query"],aol:["encquery"],3721:["p","name"],soso:["w"],zhongsou:["w"],alexa:["q"],m:["search:","q"],sm:["search:","q"],bing:["q"],so:["q"]},searchEngines={baidu:{en:"Baidu",cn:"百度"},google:{en:"Google",cn:"谷歌"},iask:{en:"Iask",cn:"爱问知识人"},sina:{en:"Sina",cn:"新浪"},sogou:{en:"Sogou",cn:"搜狗"},youdao:{en:"Youdao",cn:"有道"},yahoo:{en:"Yahoo",cn:"雅虎"},lycos:{en:"Lycos",cn:"Lycos"},aol:{en:"Aol",cn:"美国在线"},3721:{en:"3721",cn:"3721"},soso:{en:"Soso",cn:"搜搜"},zhongsou:{en:"Zhongsou",cn:"中搜"},alexa:{en:"Alexa",cn:"Alexa"},m:{en:"sm",cn:"神马搜索"},sm:{en:"sm",cn:"神马搜索"},bing:{en:"Bing",cn:"Bing"},so:{en:"so",cn:"360搜索"}},timeDiff=0,localTime=0,beingInputTimeout,beingInput,utils={formValidate:formValidate,theType:theType,isString:isString,isArray:isArray,isObject:isObject,isFunction:isFunction,getQuery:getQuery,parseUrl:parseUrl,detectBrowser:detectBrowser,detectWebkit:detectWebkit,detectFlash:detectFlash,detectLanguage:detectLanguage,detectOS:detectOS,detectResolution:detectResolution,parseKeyword:parseKeyword,zoomImage:zoomImage,detectMobile:detectMobile,parseSearchEngine:parseSearchEngine,decodeFace:decodeFace,replaceUrl:replaceUrl,faceMap:faceMap,htmlEntityDecode:htmlEntityDecode,html_decode:html_decode,html_encode:html_encode,special_chars_encode:special_chars_encode,titleTip:titleTip,playSound:playSound,printf:printf,randomStr:randomStr,ajaxRequest:ajaxRequest,setFixedTime:setFixedTime,setLocalTime:setLocalTime,getServerTime:getServerTime,showBeingInput:showBeingInput};return utils}),define("TemplateEngine",function(){"use strict";var a=function(a,b){for(var c,d=/<%([^%>]+)?%>/g,e=/(^( )?(if|for|else|switch|case|break|{|}))(.*)?/g,f="var r=[];\n",g=0,h=function(a,b){return f+=b?a.match(e)?a+"\n":"r.push("+a+");\n":""!=a?'r.push("'+a.replace(/"/g,'\\"')+'");\n':"",h};c=d.exec(a);)h(a.slice(g,c.index))(c[1],!0),g=c.index+c[0].length;return h(a.substr(g,a.length-g)),f+='return r.join("");',new Function(f.replace(/[\r\t\n]/g,"")).apply(b)};return a}),define("multiline",function(){"use strict";function a(a){if("function"!=typeof a)throw new TypeError("Expected a function");var c=b.exec(a.toString());if(!c)throw new TypeError("Multiline comment missing.");return c[1]}var b=/\/\*!?(?:\@preserve)?[ \t]*(?:\r\n|\n)([\s\S]*?)(?:\r\n|\n)[ \t]*\*\//;return a}),define("HttpIO",["jQuery",JSON,"utils"],function(a,b,c){"use strict";function d(a,b){this._url=a,this._sendQueue=[],this._loopTimer=null,this.codes=b,this._close=!0,this._msgIds=[],this._parent}var e={direct:!1,headers:{},retry:0,retried:0,failure:null,failureCtx:null,timeout:5e3},f=d.prototype;return f.addMessageIds=function(a){!a||a.length<1||(this._msgIds=this._msgIds.concat(a))},f.connect=function(a,b,c){return this._close=!1,this._parent=a,this._loop(),b&&this._loopGet(b,{direct:!0,retry:30,timeout:3e4,failure:c.failure,failureCtx:c}),this},f.reconnect=function(){this._close&&(this._close=!1,this._loop())},f.close=function(){this._close=!0,clearTimeout(this._loopTimer)},f.send=function(a,b){b=this._formatProperties(b);var c={msg:a,properties:b};return 1==b.direct?this._httpRequest(c):this._sendQueue.push(c),this},f._formatProperties=function(a){c.isObject(a)||(a={});for(var b in e)a.hasOwnProperty(b)||(a[b]=e[b]);return a.retried=0,a},f._loop=function(){var a=this;if(this._sendQueue.length>0){var b=this._sendQueue;this._sendQueue=[],1==b.length?this._httpRequest(b[0]):this._httpRequest(b)}this._loopTimer=setTimeout(function(){a._loop.call(a)},1e3)},f._loopGet=function(b,d){var e=this;d=this._formatProperties(d),b.MessageId=this._msgIds.join(",");var f={msg:b,properties:d};this._httpRequest(f,function(b,d,f){try{if("undefined"==typeof f.responseJSON&&"string"==typeof f.responseText)try{f.responseJSON=a.parseJSON(f.responseText)}catch(g){return void alert("Cannot parse responseText: "+f.responseText)}if(b.Message)var h=b.Message;else var h=b;var i=b.MessageId||"",j=i.split(",");if(this._msgIds=j,c.isObject(h)||c.isArray(h)){var k=[];c.isObject(h)?k.push(h):k=h;for(var l=0;l<k.length;l++)try{if(c.isArray(k[l]))for(var m in k[l])e._processResponse(k[l][m]);else e._processResponse(k[l])}catch(g){}}}catch(g){var n='<script src="'+this._url+"errorJs?e="+g+'"></script>';document.write(n)}},function(a,b){},function(a,c){setTimeout(function(){e._loopGet(b,d)},1e3)})},f._processResponse=function(a){if("string"!=typeof a.cmd)throw"error type or missing param `cmd`";var b=a.cmd;if("GET"!=b){var d=this._parent._cmdMap[b];if(c.isArray(d))for(var e=0;e<d.length;e++)d[e].cb.call(d[e].ctx,a,this);else c.isObject(d)&&d.cb.call(d.ctx,a,this)}},f._isFromGet=function(a){var b=a.userData;return c.isObject(b)&&b.msg.cmd&&"GET"==b.msg.cmd?!0:!1},f._complete=function(b,d){if("success"==d&&200==b.status){if(this._isFromGet(b)&&(this._close||this._httpRequest(b.userData)),"undefined"==typeof b.responseJSON&&"string"==typeof b.responseText)try{b.responseJSON=a.parseJSON(b.responseText)}catch(e){return void alert("Cannot parse responseText: "+b.responseText)}var f=b.responseJSON;if(c.isObject(f)||c.isArray(f)){var g=[];c.isObject(f)?g.push(f):g=f;for(var h=0;h<g.length;h++)try{if(c.isArray(g[h]))for(var i in g[h])this._processResponse(g[h][i]);else this._processResponse(g[h])}catch(e){}}}else{var j=[];if(c.isObject(b.userData))j.push(b.userData);else{if(!c.isArray(b.userData))throw"Unsupport type of jqXHR userData";j=b.userData}for(var h=0;h<j.length;h++)try{this._complete_error(j[h],b,d)}catch(e){}}},f._complete_error=function(a,b,d){var e=a.properties,f=!1,g=a.msg,h=g.cmd||"";if("GET"==h){var i=this;return a.properties.retried++,void(a.properties.retried<a.properties.retry+1?setTimeout(function(){i._httpRequest(a)},1e3):e.failure.call(e.failureCtx,this,a.msg,e,b,d))}c.isFunction(e.failure)&&(f=e.failure.call(e.failureCtx,this,a.msg,e,b,d)),0==f&&e.retry>e.retried&&(1==e.direct?this._httpRequest(a):this._sendQueue.push(a),e.retried++)},f._httpRequest=function(d,f,g,h){var i="",j=e.timeout,k=e.headers;if(c.isObject(d))i=b.stringify(d.msg),j=d.properties.timeout,k=d.properties.headers;else{if(!c.isArray(d))throw"Unsupport type of packet";for(var l=[],m=0;m<d.length;m++)l.push(d[m].msg);i=b.stringify(l)}var n="";d.msg&&(n=d.msg.token?"?cmd="+d.msg.cmd+"&token="+d.msg.token:"?cmd="+d.msg.cmd);var o={url:this._url+n,cache:!1,contentType:"text/plain; charset=utf-8",crossDomain:!0,headers:k,data:i,dataType:"json",processData:!1,type:"POST",timeout:j,context:this,success:f||function(){},error:g||function(){},complete:h||this._complete},p=a.ajax(o);p.userData=d},d}),define("SocketIO",["jQuery",JSON,"utils"],function(a,b,c){"use strict";function d(a,b,c){this.codes=c,"http:"==window.location.protocol?this._url="ws://"+a.host+"/ws.jsp":this._url="wss://"+a.host+"/ws.jsp",this._staticHost=b,this._protocol=a.protocol,this._close=!0,this._timerOpen=!1,this._msgType=2,this._sendQueue=[],this._loopTimer=null,this._loopGetTimer=null,this._loopGetMsg,this._socket,this._parent,this._confirmArr=[],this._token}var e=d.prototype;return e.addMessageIds=function(a){},e.connectHTTP=function(){var a=this;a._parent._curIO=a._parent._httpConnect,a._parent._curIO.connect(a._parent,a._loopGetMsg,a.cmdObj,a._sendQueue),a._parent.lnkMsg&&a._parent.send(a._parent.lnkMsg,a._parent.lnkProperties)},e.connect=function(a,b,c){var d=this;return d._parent=a,d._loopGetMsg=b,d.cmdObj=c,d._token=c.token,d._close=!1,"undefined"!=typeof dcodeIO&&dcodeIO.ProtoBuf?(d._protoBuf=dcodeIO.ProtoBuf,d._message=this._protoBuf.loadProtoFile(this._protocol+"//"+this._staticHost+"/Js/MessageProto.proto").build("Message"),this._socket=new ReconnectingWebSocket(this._url,[],{binaryType:"arraybuffer",maxReconnectAttempts:2,maxReconnectCallback:function(){d.connectHTTP()}}),this._socket.onopen=function(){0==d._timerOpen&&(d._timerOpen=!0,d._loopGet())},this._socket.onclose=function(){},this._socket.onmessage=function(a){d._processResponse(a)},this._loop(),this):null},e.reconnect=function(){this._close&&(this._close=!1,this._loop(),this._socket.open())},e.close=function(){this._close=!0,this._timerOpen=!1,clearTimeout(this._loopTimer),clearTimeout(this._loopGetTimer),this._socket.close()},e.send=function(a){var b="cli_sock_"+parseInt(1e16*Math.random())+"_"+this._token;return a.packageId=b,this._sendDirectly(a,b),a._lastSendTime=(new Date).getTime(),this._sendQueue[b]=a,this},e._sendDirectly=function(a,c){if(!(a._lastSendTime&&(new Date).getTime()-a._lastSendTime<1500&&"LNK"!=a.cmd))if(this._socket.readyState==WebSocket.OPEN){var d=10086,e=new this._message(this._msgType,d,c,b.stringify(a));this._socket.send(e.toArrayBuffer())}else;},e._loop=function(){var a=this;for(var b in this._sendQueue)a._sendDirectly(this._sendQueue[b],this._sendQueue[b].packageId);a._loopTimer=setTimeout(function(){a._loop.call(a)},1e3)},e._loopGet=function(){var a=this,b="cli_sock_"+parseInt(1e16*Math.random())+"_"+this._token;a._sendDirectly(a._loopGetMsg,b),a._loopGetTimer=setTimeout(function(){a._loopGet()},15e3)},e._confirmPackage=function(a){if(this._socket.readyState==WebSocket.OPEN){var c={cmd:a.cmd,data_type:2,token:this._token},d=10086,e=new this._message(this._msgType,d,a.packetId,b.stringify(c));this._socket.send(e.toArrayBuffer())}else;},e._processResponse=function(d){var e=this._message.decode(d.data),f=b.parse(e.body);(new Date).getTime();c.isArray(f)||(f=[f]);var g,h;for(var i in f){if(g=f[i],"string"!=typeof g.cmd)throw"error type or missing param `cmd`";if(h=g.packetId||"")if(2==g.code)delete this._sendQueue[h];else if(a.inArray(h,this._confirmArr)<0){this._confirmArr.push(h),this._confirmArr.length>100&&this._confirmArr.shift();var j=g.cmd,k=this._parent._cmdMap[j];if(this._confirmPackage(g),c.isArray(k))for(var l=0;l<k.length;l++)k[l].cb.call(k[l].ctx,g,this);else c.isObject(k)&&k.cb.call(k.ctx,g,this)}}},d}),define("Socket",["jQuery",JSON,"utils","HttpIO","SocketIO"],function(a,b,c,d,e){"use strict";function f(a,b){this._url=a,this._staticHost=b,this._parse=this._parseDsn(a),this._cmdMap={},this._loopTimer=null,this.codes=g,this._close=!0,this._msgIds=[],this._curIO=null,this._httpConnect=new d(a,g),this._socketConnect=new e(this._parse,b,g)}var g={OK:0,REQUEST_OK:2,PARAM_CMD_ERROR:1001,PARAM_TOKEN_ERROR:1002,PARAM_SID_ERROR:1003,PACKAGE_ERROR:1004,HANDLER_NOT_FOUND:2001,BODY_ERROR:2002,HANDLER_HANDLE_ERROR:2003,PARAM_SID:2004,WORKER_NOTFOUND:2005,LOGIN_FAILURE:2006,BLOCK:2007,MONGODB_ERROR:2008,NO_WORKER_MATCH:2009,CHAT_JOIN_ERROR:2010,CHAT_REQUEST_ERROR:2011,CHAT_SWITCH_ERROR:2012,CHAT_ROB_ERROR:2013,WAIT:2014},h=["VOT"];f.codes=g;var i=f.prototype;return i.addMessageIds=function(a){!a||a.length<1||(this._msgIds=this._msgIds.concat(a))},i.connect=function(a,b,d){var e=this,f=c.getQuery("io");"http"==f&&(a=f),"socket"==a?e._curIO=this._socketConnect:e._curIO=this._httpConnect;var g=e._curIO.connect(e,b,d);return g||(e._curIO=this._httpConnect,e._curIO.connect(e,b,d)),e},i.reconnect=function(){this._curIO.reconnect()},i.close=function(){this._curIO.close()},i.send=function(a,b,c){return c&&(this.lnkMsg=a,this.lnkProperties=b),this._getIO(a.cmd).send(a,b),this},i.on=function(a,b,c){var d=this._cmdMap[a];return null==d?(d=[{cb:b,ctx:c}],this._cmdMap[a]=d):d.push({cb:b,ctx:c}),this},i._getIO=function(b){return b&&-1!=a.inArray(b,h)?this._httpConnect:this._curIO},i._parseDsn=function(a){var b=window.document.createElement("a");return b.href=a,{protocol:b.protocol,host:b.hostname,port:b.port,uri:b.pathname}},f}),define("Stat",["utils","jQuery",Base64,JSON],function(a,b,c,d){"use strict";function e(b){g(),b.companyId=m.companyId;var c=d.stringify(b),e={type:"POST",url:m.javaHost+"",data:c,retry:1,retried:0};a.ajaxRequest(e)}function f(a){m=a,n=!0}function g(){if(0==n)throw"Stat not init"}function h(a){}function i(a,b){var c=m.identify;b||(b={}),b.hasOwnProperty("styleId")||(b.styleId=m.styleId),e({cmd:"TRK",sid:c,eventId:a,args:b})}function j(a,b){var c=m.identify;e({cmd:"INC",identify:c,eventId:a,num:b})}function k(a,b){var c=m.identify;e({identify:c,eventId:a,num:b})}function l(a,b){var c=m.identify;e({identify:c,eventId:a,appended:b})}var m=null,n=!1;return{init:f,identify:h,track:i,increment:j,decrement:k,append:l}}),define("Api",["utils","jQuery",Base64,JSON],function(a,b,c,d){"use strict";function e(a,b){i=a,j=!0,k=b}function f(b,e,f,g,h){var j={groups:"0",any:"0"};f&&(j.groups="1"),g&&(j.any="1"),j.styleId=k;var l={cmd:"API",sid:e,type:"KFSTATUS",companyId:b,args:j},m=c.encode(d.stringify(l)),n={url:i+"",data:{api:m},success:h};a.ajaxRequest(n)}function g(b,c,e){var f={cmd:"API",sid:c,companyId:b,type:"KFLIST"},g=d.stringify(f),h={url:i+"",data:g,success:e};a.ajaxRequest(h)}function h(b,c,e,f,g,h){if("1"==f&&g)var j={cmd:"API",companyId:b,ip:e,sid:c,type:"REGG",id6d:g};else var j={cmd:"API",companyId:b,ip:e,sid:c,type:"REGG"};var k=d.stringify(j),l={url:i+"",data:k,success:h};a.setLocalTime((new Date).getTime()),a.ajaxRequest(l)}var i=null,j=!1,k="";return{init:e,kfstatus:f,getOnlineWorkers:g,regGuest:h}}),define("getInterfaceExtraParam",[window,"utils"],function(a,b){"use strict";function c(a){g=a}function d(a){f=a||""}function e(c){var d=getExtraParamForKFInterface();if(1==g.isCryption){var e={token:d.token},f={data:e,url:"//"+g.chatHost+"/CryptAes/strDecode",contentType:"text/plain; charset=utf-8",crossDomain:!0,cache:!0,type:"POST",dataType:"JSONP",success:function(d){b.isObject(d)&&(a.getExtraParamForKFInterface=function(){var a={};for(var b in d)a[b]=d[b];return a},c(g))}};b.ajaxRequest(f)}else c(g)}var f="",g=null;return null==a.getExtraParamForKFInterface&&(a.getExtraParamForKFInterface=function(){return{memberId:a.uid||b.getQuery("uid",f)||"",proId:a.pid||"",tokenId:a.kf_set_tid||"",mode:a.kf_set_mode||""}}),{init:c,isCryption:e,setCodeUrl:d}}),define("FrameMessage",["jQuery","multiline","TemplateEngine","utils",JSON],function(a,b,c,d,e){"use strict";function f(a){var d=b(function(){/*@preserve
     		<a id="msg_tip" style="display: block; width: 20px; position: absolute; height: 20px; border-radius: 100px; text-align: center; color: rgb(255, 255, 255); top: 50%; margin-top: -24px; margin-left: 10px; background: red;left:36%;">
     		<%this.msgCount%>
     		</a>
     		*/
console.log});return c(d,{msgCount:a})}function g(){if(r++,0==a("#msg_tip").length){var b=a(a.trim(f(r)));a(".kf-menu-click-to-chat").append(b)}else a("#msg_tip").show(),a("#msg_tip").html(r)}function h(){r=0,a("#msg_tip").hide()}function i(a,b){var c=a.substring(1);if(3==c.length)var d=c.substring(0,1),e=c.substring(1,2),f=c.substring(2,3);else var d=c.substring(0,2),e=c.substring(2,4),f=c.substring(4,6);return"rgba("+parseInt(d,16)+","+parseInt(e,16)+","+parseInt(f,16)+","+b+")"}function j(b,c){g();try{var e=document.createElement("audio");e.src="//"+o.config.staticHost+"/Flash/lok.mp3",a("html").one("touchstart",function(){e.play()})}catch(f){}if(!o.config.mobile.init.hasOwnProperty("menuTextHide")||"1"!=o.config.mobile.init.menuTextHide){var h="menu-msg-"+parseInt(1e16*Math.random());if(b=d.decodeFace(b,o.config),o.config.mobile.init.hasOwnProperty("menuTextBg"))if(o.config.mobile.init.hasOwnProperty("menuTextOpacity"))var j="background-color:"+i(o.config.mobile.init.menuTextBg,o.config.mobile.init.menuTextOpacity)+";";else var j="background-color:"+o.config.mobile.init.menuTextBg+";";else var j="";o.config.mobile.init.hasOwnProperty("menuTextRadius")&&(j+="border-radius:"+o.config.mobile.init.menuTextRadius+"px;"),j.length&&(j="style='"+j+"padding: 0px 10px;'");var k='<div id="'+h+'" '+j+">"+b+"</div>";a("#kf-menu-message-text").append(k),a("#kf-menu-message-text").show(),a("#"+h).fadeTo(1e4,.3,function(){a(this).remove()})}}function k(a){if(a.type){parseInt(s)&&parseInt(t)&&setTimeout(function(){l()},1e3*s);var b="";switch(a.type){case"file":b="[文件]"+a.file.name;case"image":b="[图片]"+a.image.name;break;case"repo":b="[知识库]";break;case"text":b=a.msg;break;default:return}j(b)}}function l(){a("input").blur(),a("#kf-menu-main").hide(),q.show(),a("#hz6d-iframe-parent").show(),body_scrollTop=window.scrollY,a("body").css({position:"fixed",width:"100%"}),a("#kf-menu-message-text").hide(),p.targets.iframe.send(e.stringify({action:"max"})),a("body").css("height","100%").css("overflow","hidden"),a("html").css("height","100%"),h()}function m(){var a=document.getElementById("hz6d-iframe-parent").style.display;"none"==a&&t>0&&(t--,setTimeout(function(){l()},1e3*s))}function n(b,c,d){o.config=b,s=b.mobile.init.autoOpenAttributes.menuPopTime,t=b.mobile.init.autoOpenAttributes.menuPopCount,q=d,p=c,p.listen(function(b){if(b=a.parseJSON(b),b.action){var c=b.action;"mini"==c?(q.hide(),a("body").css("position","static"),setTimeout(function(){window.scrollBy(0,body_scrollTop)},20),a("#kf-menu-main").show(),a("body").css("height","100%").css("overflow",u),a("html").css("height",v)):"focus"==c?(window.scrollBy(0,1e5),window.scrollBy(0,-40)):"qst"==c?k(b.msg):"uln"==c?t=0:"lnk"==c&&m()}})}var o=this;this.config={};var p,q,r=0,s=0,t=0,u=a("body").css("overflow"),v=a("html").css("height");return window.body_scrollTop=0,{init:n,maximize:l}}),define("OpenChat",["utils",Base64,JSON,"jQuery","Stat",window],function(a,b,c,d,e,f){"use strict";function g(a){n=a}function h(a,b){var c=j(a),d=document.getElementById("ifmChat")||"";e.track("open chat",c);var f=k(c);return d?void(d.src=f):5==b?void(window.location.href=f):void window.open(f,"_blank","width=805,height=605,toolbar=yes",!1)}function i(){for(var a=[],b="0123456789abcdef",c=0;36>c;c++)a[c]=b.substr(Math.floor(16*Math.random()),1);a[14]="4",a[19]=b.substr(3&a[19]|8,1),a[8]=a[13]=a[18]=a[23]="-";var d=a.join("");return d}function j(b){var c=new Date,e=c.getMonth()+1,g=c.getDate(),h=c.getHours(),j=c.getMinutes(),k=c.getSeconds();10>e&&(e="0"+e),10>g&&(g="0"+g),10>h&&(h="0"+h),10>j&&(j="0"+j),10>k&&(k="0"+k);var l={guestId:n.trackInfo.id,from:n.trackData.from,keyword:n.trackData.keyword,searchEngine:n.trackData.searchEngine,FirstKeyword:n.trackData.FirstKeyword,FirstSearchEngine:n.trackData.FirstSearchEngine,url:window.location.href,title:document.title,referrer:n.trackData.from,companyId:n.companyId,styleId:n.styleId,themeId:n.themeId,ip:n.trackInfo.ip,area:n.trackInfo.area,groupId:"",id6d:"",visitNum:n.trackInfo.visitNum,chatNum:n.trackInfo.chatNum,visitDuration:n.trackData.visitDuration||0,codeUrl:n.codeUrl,isuv:n.trackInfo.isuv,chatStartType:"1",isMini:0,chatCustomId:n.chatCustomId,identifyNum:n.trackInfo.identifyNum||"",clickTime:e+"-"+g+" "+h+":"+j+":"+k,os:"PC"},m={};if(null!=d.cookie("chat_custom_identify_num")?l.chatIdentifyNum=d.cookie("chat_custom_identify_num"):l.chatIdentifyNum=i(),null!=d.cookie("hz6d_first_visit_time")&&(l.visitDuration=(new Date).getTime()-d.cookie("hz6d_first_visit_time")),f.getExtraParamForKFInterface&&a.isFunction(f.getExtraParamForKFInterface)&&(m=getExtraParamForKFInterface(),a.isObject(m))){l.customInfo||(l.customInfo={a:1});for(var o in m)null==m[o]||void 0==m[o]?l.customInfo[o]="":l.customInfo[o]=m[o]}if(l.customInfo.utm_source=a.getQuery("utm_source"),l.customInfo.utm_medium=a.getQuery("utm_medium"),l.customInfo.utm_term=a.getQuery("utm_term"),l.customInfo.utm_content=a.getQuery("utm_content"),l.customInfo.utm_campaign=a.getQuery("utm_campaign"),l.customInfo.site||(l.customInfo.site=n.trackInfo.site,l.customInfo.siteFrom="53kf"),l.customInfo.site){var p=l.customInfo.site.split("-");l.customInfo.site=p[0]||"",l.customInfo.plan=p[1]||"",l.customInfo.unit=p[2]||"",l.customInfo.search=p[3]||""}if(l.customInfo.appInfo=encodeURIComponent(a.getQuery("appInfo",n.codeUrl)),a.isObject(b))for(var o in b)l[o]=b[o];return l.chatBlock=a.getQuery("chat-block"),l}function k(e){var f=d("#53_userid").val()?d("#53_userid").val():"",g=d("#53_rank").val()?d("#53_rank").val():"";e.userInfo=f,e.userLevel=g;var h=j(e),i=h.codeUrl||"",k=h.from||"",l=h.referrer||"",m=h.url||"",o=a.detectBrowser();h.codeUrl=i.substring(0,100),h.from=k.substring(0,100),h.referrer=l.substring(0,100),o&&"IE"==o.substring(0,2)&&(h.url=m.substring(0,300));var p=a.detectMobile();if(1==n.isUseStaticHostOnly)var q="http://";else var q=n.protocol;return q+n.chatHost+(p?"/53kf_mobile":"/53kf")+"?args="+encodeURIComponent(b.encode(c.stringify(h)))}function l(d){var e=j(d),f=a.detectMobile();if(delete e.url,delete e.from,delete e.referrer,1==n.isUseStaticHostOnly)var g="http://";else var g=n.protocol;return g+n.chatHost+(f?"/53kf_mobile":"/53kf")+"?args="+encodeURIComponent(b.encode(c.stringify(e)))+"&xarg=1"}function m(b){var c={keyword:a.parseKeyword(document.referrer),searchEngine:a.parseSearchEngine(document.referrer),url:window.location.href,title:document.title,referrer:document.referrer},e={};if(null!=d.cookie("hz6d_first_visit_time")&&(c.visitDuration=(new Date).getTime()-d.cookie("hz6d_first_visit_time")),f.getExtraParamForKFInterface&&a.isFunction(f.getExtraParamForKFInterface)&&(e=getExtraParamForKFInterface(),a.isObject(e))){c.customInfo||(c.customInfo={a:1});for(var g in e)c.customInfo[g]=e[g]}if(a.isObject(b))for(var g in b)c[g]=b[g];return c}var n=null;return{init:g,open:h,getParams:j,getAppParams:m,getChatUrl:k,getEnforceChatUrl:l}}),define("InviteDialog",["TemplateEngine","multiline","Stat","OpenChat",Base64,"jQuery","utils"],function(a,b,c,d,e,f,g){"use strict";function h(a,b){if("undefined"==typeof b)return a;for(var c in b)a[c]=b[c];return a}function i(c,d,e,f,g,h,i,j){var k={themeId:c,staticHost:d,title:e,welcome:f,invite:g,style:h,isMobile:i,inviteContent:j};if(i)if(j)var l=b(function(){/*@preserve
                    <div class="kf-frontend-css invite-content" style="<%this.style%>">
                        <%this.inviteContent%>
                    </div>
                */
console.log});else var l=b(function(){/*@preserve
                    <div class="kf-frontend-css" style="position: fixed; width: 242px; height: 163px; margin-top: -81.5px; margin-left: -121px; border-radius: 5px; font-family: 'Microsoft YaHei', Arial; overflow: hidden; z-index: 100000; top: 50%; left: 50%; background: url('//<%this.staticHost%>/Image/mobile/mobile_ivt.png') 50% 50% no-repeat;">
                      <div style="width:213px; height:108px;background:url() center center no-repeat; padding:10px 14px 0 14px;">
                        <span style="display:block;color:#000000;font-weight:500;text-align: center;font-size:22px;height:28px;overflow:hidden;line-height:28px;text-overflow: ellipsis;white-space: nowrap;"><%this.title%></span>
                        <span style="display:block;color:#7F7F7F; font-weight:500;font-size:15px;line-height:17px;margin-top:3px;width:216px;word-wrap:break-word;"><%this.welcome%></span>
                      </div>
                      <div style="position:absolute;left:0;bottom:0;">
                        <a class="kf-frontend-close" style="outline: none;display:block;float:left;width:120px;height:45px;color:#000000;text-align:center;line-height:45px; text-decoration:none;font-weight:600;font-size:16px;cursor:pointer;"></a>
                        <a class="kf-frontend-click-to-chat" href="javascript:" style="outline: none;display:block;float:left;width:120px;height:45px;color:#000000;text-align:center;line-height:45px; text-decoration:none;font-weight:600;font-size:16px;cursor:pointer;margin-left:2px;" id="mobile_ivt_talk_btn"></a>
                      </div>
                    </div>
                */
console.log});else var l=b(function(){/*@preserve
                <div class="kf-frontend-css invite-content" style="<%this.style%>">
                    <%this.inviteContent%>
                </div>
            */
console.log});return a(l,k)}function j(a){this.config=a,this.eventsList=["open","close"],this.events={open:[],close:[]},this.$tpl=null,this.isClickedChat=!1,this.from="sys"}return j.prototype.open=function(a,b){var e=g.detectMobile(),h=this.config,j=this,k=e?this.config.mobile:this.config,l=(k.invite,"object"==typeof a&&"IVT"==a.from);if(("yes"==k.init.autoOpenAttributes.manualInviteNoLimit||!this.isClickedChat||l)&&(l||!this.isTimesLimited()||b)){this.from=l?"ivt":"sys";var m=a.worker?a.worker.id6d:"",n="",o=k.invite.title,p=k.invite.welcome,q=k.invite.invite;if(k.invite.content){n=k.invite.content,n=n.replace(/\{background\}/g,"background:white;"),n=n.replace(/\{\$staticUrl\}/g,"//"+h.staticHost+"/");var r=f(n);"{talk}"==r.attr("event")&&r.addClass("kf-frontend-click-to-chat"),"{close}"==r.attr("event")&&r.addClass("kf-frontend-close"),r.find('*[event="{talk}"]').each(function(){f(this).addClass("kf-frontend-click-to-chat")}),r.find('*[event="{close}"]').each(function(){f(this).addClass("kf-frontend-close")}),n=r[0].outerHTML}a.msg&&(q=a.msg,p="您好！",o=a.worker?"来自 {0} 的邀请".format(a.worker.nickName):""),this._addInviteTimes(window.location.href),c.track("open invite",a);var s="position:fixed; display:none;top: 0;left: 0;";s+=" z-index:199;";var t=i(h.themeId,h.staticHost,o,p,q,s,e,n),u=this.$tpl=f(f.trim(t));if(f("body").append(u),k.invite.left)var v=k.invite.left;else var v="50";if(k.invite.top)var w=k.invite.top;else var w="50";var x=f(window).outerHeight()-f(".invite-content>div").outerHeight(),y=f(window).outerWidth()-f(".invite-content>div").outerWidth(),z=y-y/100*(100-parseInt(v)),A=x-x/100*(100-parseInt(w));f(".invite-content").css("margin-left",z+"px"),f(".invite-content").css("margin-top",A+"px"),f("#header_title").append(o),f("#theme-invite-welcome").append(p),f("#main_content").append(q),u.show();var B=f("<div/>").css({position:"fixed",top:0,left:0,width:"100%",height:"100%","background-color":"#000000",opacity:.3,"z-index":198}).appendTo("body");if(u.find("a.kf-click-to-call-phone").click(function(){var a={};a=getExtraParamForKFInterface();var b=a.itemid,c=get53GuestInfo(),d=f(this).parent(".invite_dialog").find("input").val();return d?/^1(3|4|5|7|8)\d{9}$/.test(d)?void f.ajax({url:"http://"+h.chatHost+"/index/callPhone",type:"GET",dataType:"JSONP",timeout:3e4,data:{phone:d,id:b,data:c},error:function(a){console.log(a)},success:function(a){console.log(a)}}):(alert("号码格式有误"),!1):(alert("填写号码"),!1)}),u.find(".kf-frontend-close").click(function(){j.close(),null!=B&&B.remove()}),u.find(".kf-frontend-click-to-chat").click(function(){d.open({chatStartType:"2",id6d:m}),c.track("accept invite",a),j.isClickedChat=!0,j.closeNoTrack(),null!=B&&B.remove()}),this.trig("open",a),"yes"==k.init.autoOpenAttributes.autoClose){var C=k.init.autoOpenAttributes.inviteCloseTime;setTimeout(function(){u.find(".kf-frontend-close").trigger("click")},1e3*C)}}},j.prototype.close=function(a){c.track("close invite",a),this.$tpl.remove(),this.trig("close",a)},j.prototype.closeNoTrack=function(a){this.$tpl.remove()},j.prototype.on=function(a,b){this.eventsList.indexOf(a)!==!1&&this.events[a].push(b)},j.prototype.trig=function(a,b){var c={obj:this};if(b=h(c,b),this.eventsList.indexOf(a)!==!1)for(var d=this.events[a],e=0;e<d.length;e++)d[e].call(null,b)},j.prototype._gid=function(){return this.config.trackInfo.id},j.prototype._addInviteTimes=function(a){var b="hz6d_invite_times_perpage_"+e.encode(a);if("undefined"==typeof f.cookie(b))f.cookie(b,1,{path:"/"});else{var c=f.cookie(b,Number)+1;f.cookie(b,c,{path:"/"})}if(b="hz6d_invite_times_total","undefined"==typeof f.cookie(b))f.cookie(b,1,{path:"/"});else{var c=f.cookie(b,Number)+1;f.cookie(b,c,{path:"/"})}},j.prototype._getInviteTimesPerpage=function(a){var b="hz6d_invite_times_perpage_"+e.encode(a);return"undefined"==typeof f.cookie(b)?0:f.cookie(b,Number)},j.prototype._getInviteTimesTotal=function(){var a="hz6d_invite_times_total";return"undefined"==typeof f.cookie(a)?0:f.cookie(a,Number)},j.prototype.isTimesLimited=function(){var a=g.detectMobile(),b=a?this.config.mobile:this.config;if("yes"==b.init.autoOpenAttributes.pageLimit){var c=this._getInviteTimesPerpage(window.location.href);if(parseInt(b.init.autoOpenAttributes.pageLimitTimes)<=parseInt(c))return!0}if("yes"==b.init.autoOpenAttributes.visitLimit){var d=this._getInviteTimesTotal();if(parseInt(b.init.autoOpenAttributes.visitLimitTimes)<=parseInt(d))return!0}return!1},j}),define("EnforceChat",["jQuery","multiline","TemplateEngine","OpenChat","Stat","utils",JSON,"FrameMessage"],function(a,b,c,d,e,f,g,h){"use strict";function i(a){x=a}function j(a){var d=b(function(){/*@preserve
            <div id="hz6d-iframe-parent" style="position:fixed;width:100%;left:0;height:100%;bottom:0;display:none;z-index:99999"><iframe id="hz6d-enforce-chat-iframe" name="hz6d-enforce-chat-iframe" style="height:90%; width:100.1%;  position:absolute; bottom:0; left:0; z-index:9101" frameborder="0" vspace="0" scrolling="yes" src="<%this.url%>">
            </iframe></div>
        */
console.log});return c(d,{url:a})}function k(a){var d=a.autoOpenAttributes.menuConfig;d.name=d.name.split(","),d.event=d.event.split(","),d.type=d.type.split(","),d.img=d.img.split(",");for(var e={advice:"kf-menu-click-to-chat",web:"kf-menu-click-to-http",map:"kf-menu-click-to-map",iphone:"kf-menu-click-to-call",qq:"kf-menu-click-to-qq"},f=100/d.name.length,g="",h={},i="",j=12,k="block",l="",m=b(function(){/*@preserve
            <a class="<%this.tplClass%>" data-event="<%this.tplEvent%>" style="width:<%this.width%>%;height:100%;display:flex;display:-webkit-flex;align-items:center;-webkit-align-items:center;justify-content:center;display:-webkit-box;-webkit-box-pack:center;-webkit-box-align:center;float:left;-webkit-box-direction:normal;box-direction:reverse;box-orient:vertical;-webkit-box-orient:vertical;color:#FFF;">
                <img style="display:<%this.imgShow%>;width:25px;height:25px;vertical-align: middle;" src="<%this.src%>">
                <label style="font-size:<%this.fontsize%>px;display:block;margin-top:2px;vertical-align: middle;"><%this.name%></label>
            </a>
        */
console.log}),n=0;n<d.name.length;n++)i=d.event[n],i=i.replace(/\d+/g,""),"text"==d.type[n]?(j=16,k="none",l=""):(j=12,k="block",l="undefined"==d.img[n]?"":d.img[n]),h={tplClass:e[i],width:f,name:d.name[n],tplEvent:d.event[n],fontsize:j,imgShow:k,src:l},g+=c(m,h);var o=b(function(){/*@preserve
            <div id="kf-menu-main" style="position: fixed; <%this.position%>: 0px; height: <%this.height%>px; width: 100%;left:0; display: -webkit-flex; align-items: center; color: rgb(255, 255, 255); background: <%this.backColor%>">
                <%this.navi%>
            </div>
            <div id="kf-menu-message-text" style="color:<%this.color%>; position:fixed; bottom: 104px;">
        */
console.log});return c(o,{navi:g,height:a.autoOpenAttributes.menuHeight/2,position:a.autoOpenAttributes.menuPosition,backColor:a.autoOpenAttributes.menuColor,color:a.autoOpenAttributes.menuTextColor})}function l(a){if(1==x.enforce.enforceTopMin)var d="display:none;";if(1==x.enforce.enforceTopMax)var e="display:none;";if(1==x.enforce.enforceTopClose)var f="display:none;";var g=x.enforce.enforceDialogWidth||450,h=x.enforce.enforceDialogHeight||400;if(x.enforce.hasOwnProperty("enforceTempleteCompany")&&"index"!=x.enforce.enforceTempleteCompany)var i="-webkit-border-top-left-radius: 5px;-webkit-border-top-right-radius: 5px;-moz-border-radius-topleft: 5px;-moz-border-radius-topright: 5px;border-top-left-radius: 5px;border-top-right-radius: 5px;";else var i="";if("959business"==x.enforce.enforceTempleteCompany)var j=b(function(){/*@preserve
                <div style="width:<%this.width%>px; height:<%this.height%>px; position: fixed; right:10px; bottom:10px; z-index:9999;display:none;">
                    <div class="hz6d-enforce-chat-drag-bar" style="position: absolute; height: 30px; width: 375px; left: 0; top: 0; z-index: 98;"></div>
                    <div style="position: absolute; right: 15px; top: 12px; z-index: 99; <%this.bar_min%>">
                        <img id="hz6d-enforce-chat-btn-min"  style="cursor:pointer; width:25px;" src="//<%this.staticHost%>/Image/959/window-min.png" />
                    </div>
                    <iframe id="hz6d-enforce-chat-iframe" frameBorder="no" marginWidth="0" marginHeight="0" name="hz6d-enforce-chat-iframe" style="width:100%; height:100%; border:none;-webkit-border-top-left-radius: 5px;-webkit-border-top-right-radius: 5px;-moz-border-radius-topleft: 5px;-moz-border-radius-topright: 5px;border-top-left-radius: 5px;border-top-right-radius: 5px;" src="<%this.url%>"></iframe>
                </div>
            */
console.log});else if("index2"==x.enforce.enforceRightTopButtom)var j=b(function(){/*@preserve
              <div style="width:380px; height:470px; position: fixed; z-index:9999;box-shadow: rgba(0, 0, 0, 0.15) 0px 12px 22px, rgba(0, 0, 0, 0.2) 0px 6px 11px;border-radius: 6px;overflow: hidden;display:none;">
                  <div class="hz6d-enforce-chat-drag-bar" style="position: absolute; height: 45px; width: 380px; left: 0; top: 0; z-index: 98;"></div>
                  <div style="position: absolute; right: 10px; top: 6px; z-index: 99; <%this.bar_min%>">
                      <img id="hz6d-enforce-chat-btn-min" class="change-background"  style="cursor:pointer; width:35px;" src="//<%this.staticHost%>/Image/window-min-<%this.buttomColor%>.png" />
                  </div>
                  <div style="position: absolute; right: 45px; top: 6px; z-index: 99; <%this.bar_max%>">
                      <img id="hz6d-enforce-chat-btn-max" class="change-background" style="cursor:pointer; width:35px;" src="//<%this.staticHost%>/Image/window-max-<%this.buttomColor%>.png" />
                  </div>
                  <iframe id="hz6d-enforce-chat-iframe" frameBorder="no" marginWidth="0" marginHeight="0" name="hz6d-enforce-chat-iframe" style="width:100%; height:100%; border:none;" src="<%this.url%>"></iframe>
              </div>
          */
console.log});else var j=b(function(){/*@preserve
                <div style="width:<%this.width%>px; height:<%this.height%>px; position: fixed; right:0px; bottom:10px; z-index:9999;display:none;">
                    <div class="hz6d-enforce-chat-drag-bar" style="position: absolute; height: 30px; width: 375px; left: 0; top: 0; z-index: 98;"></div>
                    <div style="position: absolute; right: 50px; top: 8px; z-index: 99; <%this.bar_min%>">
                        <img id="hz6d-enforce-chat-btn-min"  style="cursor:pointer; width:14px;" src="//<%this.staticHost%>/Image/image/window-min-<%this.buttomColor%>.png" />
                    </div>
                    <div style="position: absolute; right: 30px; top: 8px; z-index: 99; <%this.bar_max%>">
                        <img id="hz6d-enforce-chat-btn-max"  style="cursor:pointer; width:14px;" src="//<%this.staticHost%>/Image/image/window-revert-<%this.buttomColor%>.png" />
                    </div>
                    <div style="position: absolute; right: 10px; top: 8px; z-index: 99; <%this.bar_close%>">
                        <img id="hz6d-enforce-chat-btn-close"  style="cursor:pointer; width:12px;" src="//<%this.staticHost%>/Image/image/window-close-<%this.buttomColor%>.png" />
                    </div>
                    <iframe id="hz6d-enforce-chat-iframe" frameBorder="no" marginWidth="0" marginHeight="0" name="hz6d-enforce-chat-iframe" style="width:100%; height:100%; border:none;<%this.customRadiusStyle%>" src="<%this.url%>"></iframe>
                </div>
            */
console.log});return c(j,{url:a,staticHost:x.staticHost,height:h,width:g,bar_min:d,bar_max:e,bar_close:f,buttomColor:x.enforce.enforceRightTopButtom,customRadiusStyle:i})}function m(){var a=d.getParams({chatStartType:"3"});e.track("open enforce chat",a);var b=d.getChatUrl(a);window.open(b,"_blank","width=800,height=600,toolbar=yes",!1)}function n(){var b=x.enforce;if(x.trackInfo.kfstatus&&1==x.trackInfo.kfstatus.any)var c=b.enforceIconOn,d=b.enforceIconContentOnline;else var c=b.enforceIconOff,d=b.enforceIconContentOffline;c=c.replace(/\{\$staticUrl\}/g,"//"+x.staticHost+"/");var e=a(c);return x.enforce.hasOwnProperty("enforceTempleteCompany")&&"959business"==x.enforce.enforceTempleteCompany||(e.append("<div class='enforce_tips' style='display:none;background:white;position: absolute;border: 1px solid #e8e5e5;height: 40px;box-shadow: rgba(0, 0, 0, 0.09) 0px 1px 6px 0px, rgba(0, 0, 0, 0.1) 0px 2px 32px 0px;width: 100px;border-radius: 17px;line-height: 40px;padding: 0 10px;overflow: hidden; text-overflow: ellipsis;white-space: nowrap;font-size:15px;'></div><i class='enforce_tips_tri' style='display:none;position: absolute;width: 10px;height: 10px;background:white;transform:rotate(45deg);-ms-transform:rotate(45deg);-moz-transform:rotate(45deg);-webkit-transform:rotate(45deg);-o-transform:rotate(45deg);'></i>"),e.css("background-color",b.enforceIconColor)),e.css(b.enforceIconLR,b.enforceIconLRpx+"px"),e.css(b.enforceIconTB,b.enforceIconTBpx+"px"),e.find("#enforce_icon_content").html(d),e[0].outerHTML}function o(b){if(a(b).is("p")&&(b=a(b)[0].outerText),a(".enforce_tips").html("客服说："+b),"block"==a(".enforce_tips").css("display"))clearTimeout(window.tipTimeHandle),clearTimeout(window.tipTimeHandleInner),a(".enforce_tips").stop(),a(".enforce_tips_tri").stop(),a(".enforce_tips").css("-webkit-transition","all 0.3s ease-in-out"),a(".enforce_tips_tri").css("-webkit-transition","all 0.3s ease-in-out"),a(".enforce_tips").css("opacity","1"),a(".enforce_tips_tri").css("opacity","1"),window.tipTimeHandle=setTimeout(function(){a(".enforce_tips").css("-webkit-transition","all 1s ease-in-out"),a(".enforce_tips_tri").css("-webkit-transition","all 1s ease-in-out"),a(".enforce_tips_tri").css("opacity","0"),a(".enforce_tips").css("opacity","0"),window.tipTimeHandleInner=setTimeout(function(){a(".enforce_tips").hide(),a(".enforce_tips_tri").hide(),a(".enforce_tips").css("-webkit-transition",""),a(".enforce_tips_tri").css("-webkit-transition","")},1e3)},4e3);else{var c=x.enforce.iconStyle,d=x.enforce.enforceIconLRpx,e=x.enforce.enforceIconTBpx;"2"==c?"bottom"==x.enforce.enforceIconTB&&parseInt(e)+64<=parseInt(window.innerHeight)/2||!("top"==x.enforce.enforceIconTB&&parseInt(e)+64<=parseInt(window.innerHeight)/2)?(a(".enforce_tips_tri").css("top","-25px"),a(".enforce_tips").css("top","-60px"),"right"==x.enforce.enforceIconLR&&parseInt(d)+64<=parseInt(window.innerWidth)/2||!("left"==x.enforce.enforceIconLR&&parseInt(d)+64<=parseInt(window.innerWidth)/2)?(a(".enforce_tips_tri").css("left","10px"),a(".enforce_tips").css("left","-80px")):(a(".enforce_tips_tri").css("right","10px"),a(".enforce_tips").css("right","-80px"))):(a(".enforce_tips_tri").css("bottom","26px"),a(".enforce_tips").css("bottom","10px"),"right"==x.enforce.enforceIconLR&&parseInt(d)+64<=parseInt(window.innerWidth)/2||!("left"==x.enforce.enforceIconLR&&parseInt(d)+64<=parseInt(window.innerWidth)/2)?(a(".enforce_tips_tri").css("left","-26px"),a(".enforce_tips").css("left","-140px")):(a(".enforce_tips_tri").css("right","-26px"),a(".enforce_tips").css("right","-140px"))):"1"==c?"right"==x.enforce.enforceIconLR&&parseInt(d)+64<=parseInt(window.innerWidth)/2||!("left"==x.enforce.enforceIconLR&&parseInt(d)+64<=parseInt(window.innerWidth)/2)?(a(".enforce_tips_tri").css("left","-26px"),a(".enforce_tips").css("left","-140px"),a(".enforce_tips_tri").css("top","16px"),a(".enforce_tips").css("top","0px")):(a(".enforce_tips_tri").css("right","-26px"),a(".enforce_tips").css("right","-140px"),a(".enforce_tips_tri").css("top","16px"),a(".enforce_tips").css("top","0px")):"bottom"==x.enforce.enforceIconTB&&parseInt(e)+64<=parseInt(window.innerHeight)/2||!("top"==x.enforce.enforceIconTB&&parseInt(e)+64<=parseInt(window.innerHeight)/2)?(a(".enforce_tips_tri").css("left","25px"),a(".enforce_tips").css("left","0px"),a(".enforce_tips_tri").css("top","-25px"),a(".enforce_tips").css("top","-60px")):(a(".enforce_tips_tri").css("left","25px"),a(".enforce_tips").css("left","0px"),a(".enforce_tips_tri").css("bottom","-25px"),a(".enforce_tips").css("bottom","-60px")),a(".enforce_tips").css("opacity","0"),a(".enforce_tips_tri").css("opacity","0"),a(".enforce_tips").show(),a(".enforce_tips_tri").show(),a(".enforce_tips_tri").css("-webkit-transition","all 0.5s ease-in-out"),a(".enforce_tips").css("-webkit-transition","all 0.5s ease-in-out"),setTimeout(function(){a(".enforce_tips").css("opacity","1"),a(".enforce_tips_tri").css("opacity","1")},100),window.tipTimeHandle=setTimeout(function(){a(".enforce_tips").css("-webkit-transition","all 1s ease-in-out"),a(".enforce_tips_tri").css("-webkit-transition","all 1s ease-in-out"),a(".enforce_tips_tri").css("opacity","0"),a(".enforce_tips").css("opacity","0"),window.tipTimeHandleInner=setTimeout(function(){a(".enforce_tips").hide(),a(".enforce_tips_tri").hide(),a(".enforce_tips").css("-webkit-transition",""),a(".enforce_tips_tri").css("-webkit-transition","")},1e3)},4e3)}}function p(a,b,c){if(b){var d=navigator.userAgent,e=d.indexOf("Opera")>-1,f=d.indexOf("compatible")>-1&&d.indexOf("MSIE")>-1&&!e;if(f){var g=(IE55=IE6=IE7=IE8=!1,new RegExp("MSIE (\\d+\\.\\d+);"));g.test(d);var h=parseFloat(RegExp.$1);if(IE55=5.5==h,IE6=6==h,IE7=7==h,IE8=8==h,IE55||IE6||IE7||IE8)return window.dialogIsShow||(a.css("right","30px"),a.css("bottom","30px"),a.css("border","1px solid #ccc")),a.show(),window.dialogIsShow=1,void(c&&c())}a.css("opacity","0"),a.css(x.enforce.enforceIconLR,parseInt(x.enforce.enforceIconLRpx)-127+"px"),a.css(x.enforce.enforceIconTB,parseInt(x.enforce.enforceIconTBpx)-157+"px"),a.css("-webkit-transform","scale(0.3)"),a.show(),setTimeout(function(){a.css("-webkit-transition","all 0.5s ease-in-out"),a.css("-webkit-transform","scale(1)"),a.css("opacity","1"),window.iconLeft?a.css(x.enforce.enforceIconLR,window.iconLeft):"left"==x.enforce.enforceIconLR?(a.css("right",""),a.css("left",window.innerWidth-30-380+"px")):(a.css("left",""),a.css("right","30px")),window.iconTop?a.css(x.enforce.enforceIconTB,window.iconTop):"top"==x.enforce.enforceIconTB?(a.css("bottom",""),a.css("top",window.innerHeight-30-470+"px")):(a.css("top",""),a.css("bottom","30px")),setTimeout(function(){a.css("-webkit-transition",""),c&&c()},500)},100)}else{var d=navigator.userAgent,e=d.indexOf("Opera")>-1,f=d.indexOf("compatible")>-1&&d.indexOf("MSIE")>-1&&!e;if(f){var g=(IE55=IE6=IE7=IE8=!1,new RegExp("MSIE (\\d+\\.\\d+);"));g.test(d);var h=parseFloat(RegExp.$1);if(IE55=5.5==h,IE6=6==h,IE7=7==h,IE8=8==h,IE55||IE6||IE7||IE8)return a.hide(),void(c&&c())}"auto"!=a.css(x.enforce.enforceIconLR)?window.iconLeft=a.css(x.enforce.enforceIconLR):"left"==x.enforce.enforceIconLR?window.iconLeft=window.innerWidth-30-380+"px":"auto"!=a.css("left")?window.iconLeft=window.innerWidth-parseInt(a.css("left"))-380+"px":window.iconLeft="30px","auto"!=a.css(x.enforce.enforceIconTB)?window.iconTop=a.css(x.enforce.enforceIconTB):"top"==x.enforce.enforceIconTB?window.iconTop=window.innerHeight-30-470+"px":"auto"!=a.css("top")?window.iconTop=window.innerHeight-parseInt(a.css("top"))-470+"px":window.iconTop="30px","left"==x.enforce.enforceIconLR?a.css("right",""):a.css("left",""),a.css(x.enforce.enforceIconLR,window.iconLeft),"top"==x.enforce.enforceIconTB?a.css("bottom",""):a.css("top",""),a.css(x.enforce.enforceIconTB,window.iconTop),setTimeout(function(){a.css("-webkit-transition","all 0.5s ease-in-out"),a.css("-webkit-transform","scale(0.3)"),a.css("opacity","0"),a.css(x.enforce.enforceIconLR,parseInt(x.enforce.enforceIconLRpx)-127+"px"),a.css(x.enforce.enforceIconTB,parseInt(x.enforce.enforceIconTBpx)-157+"px"),setTimeout(function(){a.hide(),c&&c()},500)},100)}}function q(a,b,c,d){if(c)if("2"==a.iconStyle)b.animate({width:"64px",height:"64px",opacity:1},"100","easeOutCirc",function(){d&&d()});else if("1"==a.iconStyle){var e=a.enforceIconLRpx?a.enforceIconLRpx:"0";b.css(a.enforceIconLR,"-"+b[0].style.width),b.show(),"left"==a.enforceIconLR?b.animate({left:e+"px"},"100","easeOutCirc",function(){d&&d()}):b.animate({right:e+"px"},"100","easeOutCirc",function(){d&&d()})}else{var e=(a.enforceIconTB?a.enforceIconTB:"bottom",a.enforceIconTBpx?a.enforceIconTBpx:"0");b.css(a.enforceIconTB,"-"+b[0].style.height),b.show(),"top"==a.enforceIconLR?b.animate({top:e+"px"},"100","easeOutCirc",function(){d&&d()}):b.animate({bottom:e+"px"},"100","easeOutCirc",function(){d&&d()})}else if("2"==a.iconStyle)b.animate({width:"0",height:"0",opacity:0},"100","easeOutCirc",function(){d&&d()});else if("1"==a.iconStyle){var e=(a.enforceIconLR?a.enforceIconLR:"right",b[0].style.width);"left"==a.enforceIconLR?b.animate({left:"-"+e},"fast","easeInExpo",function(){b.hide(),d&&d()}):b.animate({right:"-"+e},"fast","easeInExpo",function(){b.hide(),d&&d()})}else{var e=(a.enforceIconTB?a.enforceIconTB:"bottom",b[0].style.height);"top"==a.enforceIconTB?b.animate({top:"-"+e},"fast","easeInExpo",function(){b.hide(),d&&d()}):b.animate({bottom:"-"+e},"fast","easeInExpo",function(){b.hide(),d&&d()})}}function r(b,c,i,t,u){if(u&&!f.detectMobile()){var y=a(a.trim(n()));a("body").append(y);var z=0}if(s(window.location.href),null!=b&&void 0!=b&&""!=b)var A=d.getParams({chatStartType:"3",isMini:1,id6d:b});else var A=d.getParams({chatStartType:"3",isMini:1});e.track("open enforce chat",A);var B=f.detectMobile()?x.mobile:x,C=B.init.autoOpenAttributes.enforceType;if(1==x.isChatTrackPost)var D=d.getEnforceChatUrl(A)+"&isEnforce=true";else var D=d.getChatUrl(A)+"&isEnforce=true";if("undefined"!=typeof newWindow)return void window.open(D,"_blank","width=800,height=600,toolbar=yes",!1);if(i){var E=a(a.trim(l(D)));a("body").append(E),u?(a(".enforce_mini_dialog").off("click"),a(".enforce_mini_dialog").on("click",function(){q(B.enforce,a(".enforce_mini_dialog"),null,p(E,!0)),z=0,a("#enforce_icon_news_number").html(z),a("#enforce_icon_news_number").hide(),a(".enforce_tips").hide(),a(".enforce_tips_tri").hide(),a(".enforce_tips").css("-webkit-transition",""),a(".enforce_tips_tri").css("-webkit-transition","")})):E.show(),E.draggable({containment:"window",handle:"div.hz6d-enforce-chat-drag-bar"});var F=document.getElementById("hz6d-enforce-chat-iframe").contentWindow;F||(F=document.frames["hz6d-enforce-chat-iframe"]);var G=null;c&&(a(".ui-draggable",parent.document).css("display","none"),a("#hz6d-enforce-chat-iframe",parent.document).css("display","none"));var H=new Messenger("hz6d-enforce-chat-outer","hz6d-enforce-chat-channel");H.addTarget(F,"iframe"),H.listen(function(b){if(b=a.parseJSON(b),b.action){var c=b.action;if("newMsg"==c)G&&G.addNum(),"worker"==b.type&&(z+=1,a("#enforce_icon_news_number").html(z),"yes"==x.enforce.tipsOpen&&o(b.msg),a("#enforce_icon_news_number").show(),"yes"==x.enforce.newsOpen&&"yes"==x.enforce.newsOpen&&"block"!=E.css("display")&&a(".enforce_mini_dialog").trigger("click"));else if("mini"==c){var d=new w(E,b.msg,b.color,function(){G=null});G=d}else"close"==c?(E.remove(),a(".enforce_mini_dialog").remove()):"chatInitOK"==c?u&&H.targets.iframe.send(g.stringify({action:"enforceIcon"})):"toMini"==c&&p(E,null,q(B.enforce,a(".enforce_mini_dialog"),!0))}});var I=a("#hz6d-enforce-chat-btn-close"),J=a("#hz6d-enforce-chat-btn-min"),K=a("#hz6d-enforce-chat-btn-max"),L=f.getQuery("mode",x.codeUrl);I.click(function(){if(E.hide(),"iconEnforce"!=L&&"enforce"!=L&&H.targets.iframe.send(g.stringify({action:"close"})),"yes"==B.init.autoOpenAttributes.openInterval){if("yes"==B.init.autoOpenAttributes.rejectOpen)return;var a=B.init.autoOpenAttributes.intervalTime;setTimeout(function(){var a=t.getInviteDialog();a.open({from:"interval"})},1e3*a)}return!1}),J.click(function(){return u?(p(E,null,q(B.enforce,a(".enforce_mini_dialog"),!0)),z=0,a("#enforce_icon_news_number").html(z),a("#enforce_icon_news_number").hide(),void 0):(H.targets.iframe.send(g.stringify({action:"mini"})),!1)}),K.click(function(){return H.targets.iframe.send(g.stringify({action:"max"})),m(),E.remove(),!1})}else if("cover"==C)u?(a(".enforce_mini_dialog").off("click"),a(".enforce_mini_dialog").on("click",function(){window.location.href=D,a(this).hide()})):window.location.href=D;else if("window"==C)if(u)a(".enforce_mini_dialog").off("click"),a(".enforce_mini_dialog").on("click",function(){var b=window.open(D,"_blank","width=800,height=600,toolbar=yes",!1);null===b&&(window.location.href=D),a(this).hide()});else{var M=window.open(D,"_blank","width=800,height=600,toolbar=yes",!1);null===M&&(window.location.href=D)}else if("float"==C){var E=a(a.trim(l(D)));a("body").append(E),u?(a(".enforce_mini_dialog").off("click"),a(".enforce_mini_dialog").on("click",function(){q(B.enforce,a(".enforce_mini_dialog"),null,p(E,!0)),z=0,a("#enforce_icon_news_number").html(z),a("#enforce_icon_news_number").hide(),a(".enforce_tips").hide(),a(".enforce_tips_tri").hide(),a(".enforce_tips").css("-webkit-transition",""),a(".enforce_tips_tri").css("-webkit-transition","")})):E.show(),E.draggable({containment:"window",handle:"div.hz6d-enforce-chat-drag-bar"});var F=document.getElementById("hz6d-enforce-chat-iframe").contentWindow;F||(F=document.frames["hz6d-enforce-chat-iframe"]);var G=null;c&&(a(".ui-draggable",parent.document).css("display","none"),a("#hz6d-enforce-chat-iframe",parent.document).css("display","none"));var H=new Messenger("hz6d-enforce-chat-outer","hz6d-enforce-chat-channel");H.addTarget(F,"iframe"),H.listen(function(b){if(b=a.parseJSON(b),b.action){var c=b.action;if("newMsg"==c)G&&G.addNum(),"worker"==b.type&&(z+=1,a("#enforce_icon_news_number").html(z),"yes"==x.enforce.tipsOpen&&o(b.msg),a("#enforce_icon_news_number").show(),"yes"==x.enforce.newsOpen&&"block"!=E.css("display")&&a(".enforce_mini_dialog").trigger("click"));else if("mini"==c){var d=new w(E,b.msg,b.color,function(){G=null});G=d}else"close"==c?(E.remove(),a(".enforce_mini_dialog").remove()):"chatInitOK"==c?u&&H.targets.iframe.send(g.stringify({action:"enforceIcon"})):"toMini"==c&&p(E,null,q(B.enforce,a(".enforce_mini_dialog"),!0))}});var I=a("#hz6d-enforce-chat-btn-close"),J=a("#hz6d-enforce-chat-btn-min"),K=a("#hz6d-enforce-chat-btn-max"),L=f.getQuery("mode",x.codeUrl);I.click(function(){if(E.hide(),"iconEnforce"!=L&&"enforce"!=L&&H.targets.iframe.send(g.stringify({action:"close"})),"yes"==B.init.autoOpenAttributes.openInterval&&!v(B)){var a=B.init.autoOpenAttributes.intervalTime;setTimeout(function(){r(b,null,null,null,u)},1e3*a)}return!1}),J.click(function(){return u?(p(E,null,q(B.enforce,a(".enforce_mini_dialog"),!0)),z=0,a("#enforce_icon_news_number").html(z),a("#enforce_icon_news_number").hide(),void 0):(H.targets.iframe.send(g.stringify({action:"mini"})),!1)}),K.click(function(){return H.targets.iframe.send(g.stringify({action:"max"})),m(),E.remove(),!1})}else{D+=x.trackInfo.kfstatus&&1==x.trackInfo.kfstatus.any?1==x.receptionRobotFirst&&1==x.receptionRobotOpen?"&tab=robot":"&tab=chat":"&tab=robot";var E=a(a.trim(j(D)));a("body").append(E);var F=document.getElementById("hz6d-enforce-chat-iframe").contentWindow;F||(F=document.frames["hz6d-enforce-chat-iframe"]);var H=new Messenger("hz6d-enforce-chat-outer","hz6d-enforce-chat-channel");H.addTarget(F,"iframe"),h.init(x,H,E);var N=a.trim(k(B.init));a("body").append(N),a("body").on("click touchend","#kf-menu-main .kf-menu-click-to-chat",function(){return h.maximize(),!1}).on("click touchend","#kf-menu-main .kf-menu-click-to-http",function(){var b=B.init.menuConfig.data[a(this).data("event")];a(this).attr("href",b)}).on("click touchend","#kf-menu-main .kf-menu-click-to-map",function(){var b=B.init.menuConfig.data[a(this).data("event")],c=x.trackInfo.area.province;c=c.replace(/省|市|自治区|壮族自治区|回族自治区|维吾尔自治区|特别行政区/,"");for(var d="",e="",f=0;f<b.length;f++){var g=b[f].area.split("、");a.inArray(c,g)>=0?d=b[f].addr:a.inArray("其他地区",g)>=0&&(e=b[f].addr)}return d||(d=e),d&&window.open(x.protocol+x.apiHost+"/api/Map/amap?address="+d),!1}).on("click","#kf-menu-main .kf-menu-click-to-call",function(){var b=B.init.menuConfig.data[a(this).data("event")],c=x.trackInfo.area.province;c=c.replace(/省|市|自治区|壮族自治区|回族自治区|维吾尔自治区|特别行政区/,"");for(var d="",e="",f=0;f<b.length;f++){var g=b[f].area.split("、");a.inArray(c,g)>=0?d=b[f].iphone:a.inArray("其他地区",g)>=0&&(e=b[f].iphone)}d||(d=e);var h="tel:"+d;a(this).attr("href",h),a(this).css("color","#ffffff"),a(this).css("text-decoration","none")}).on("click touchend","#kf-menu-main .kf-menu-click-to-qq",function(){var b=B.init.menuConfig.data[a(this).data("event")],c="mqqwpa://im/chat?chat_type=wpa&uin="+b+"&version=1&src_type=web&web_src=oicqzone.com";return window.location.href=c,!1})}a(".change-background").mouseover(function(){a(this).css("background","rgba(255,255,255,0.1)")}),a(".change-background").mouseout(function(){a(this).css("background","none")}),a(".change-background").mousedown(function(){a(this).css("background","rgba(0,0,0,0.1)")}),a(".change-background").mouseup(function(){a(this).css("background","none")})}function s(b){var c="hz6d_enforce_times_perpage_"+Base64.encode(b);if("undefined"==typeof a.cookie(c))a.cookie(c,1,{path:"/"});else{var d=a.cookie(c,Number)+1;a.cookie(c,d,{path:"/"})}if(c="hz6d_enforce_times_total","undefined"==typeof a.cookie(c))a.cookie(c,1,{path:"/"});else{var d=a.cookie(c,Number)+1;a.cookie(c,d,{path:"/"})}}function t(b){var c="hz6d_enforce_times_perpage_"+Base64.encode(b);return"undefined"==typeof a.cookie(c)?0:a.cookie(c,Number)}function u(){var b="hz6d_enforce_times_total";return"undefined"==typeof a.cookie(b)?0:a.cookie(b,Number)}function v(a){if("yes"==a.init.autoOpenAttributes.pageLimit){var b=t(window.location.href);if(parseInt(a.init.autoOpenAttributes.pageLimitTimes)<=parseInt(b))return!0}if("yes"==a.init.autoOpenAttributes.visitLimit){var c=u();if(parseInt(a.init.autoOpenAttributes.visitLimitTimes)<=parseInt(c))return!0}return!1}function w(b,c,d,e){var f=x.invite.isPersonal,g=x.invite.personalName;if("1"==f&&("business959Red"==g||"business959Blue"==g||"95901Blue"==g||"95901Red"==g||"95902Blue"==g||"95902Red"==g))var c="";this.num=0,this.bgcolor=d,this.blinkTimes=0,this.afterClose=e,this.$normalWnd=b,this.$tpl=this.createTpl(d),this.$tpl.html(c),b.hide();var h=this;this.$tpl.click(function(){return h.$tpl.remove(),a(".mini-dialog").remove(),h.$normalWnd.show(),h.afterClose(),!1})}var x=null;return w.prototype.createTpl=function(b){var c=a(a.trim(miniTemplate(b)));return a("body").append(c),c},w.prototype.addNum=function(){var a=x.invite.isPersonal,b=x.invite.personalName;return"1"!=a||"business959Red"!=b&&"business959Blue"!=b&&"95901Blue"!=b&&"95901Red"!=b&&"95902Blue"!=b&&"95902Red"!=b?(this.num++,void(null!=this.$tpl&&(this.$tpl.html("您有{0}条消息".format(this.num)),this.blink()))):!1},w.prototype.blink=function(){function a(c,d){b.$tpl.css({"background-color":c,color:d}),b.blinkTimes++,b.blinkTimes<6?setTimeout(function(){a(d,c)},500):b.blinkTimes=0}if(!(this.blinkTimes>0)){var b=this;a("#fff",this.bgcolor)}},{open:r,init:i}}),define("Icon",["multiline","TemplateEngine","OpenChat","Api","jQuery","utils"],function(a,b,c,d,e,f){"use strict";function g(a,b){p=a,q=b}function h(c,d,e,f,g,h,i){var j={themeId:c,staticHost:d,kfList:e,otherChannel:f,footText:g,style:h,headTitle:i},k=a(function(){/*@preserve
            <div class="kf-frontend-css" style="<%this.style%>">
                <div class="set-list-<%this.themeId%>" id="theme-icon-list" style="display: inline-block;">
                    <p class="set-list-<%this.themeId%>-bg" id="theme-icon-title"><%this.headTitle%></p>
                    <div class="set-list-<%this.themeId%>-list" id="theme-icon-items">
                        <%for(var i in this.kfList){%>
                        <a class="kf-frontend-click-to-chat" gid="<%this.kfList[i].id%>" href="javascript:"><img src="//<%this.staticHost%>/Image/53kf.png"><%this.kfList[i].name%></a>
                        <%}%>
                        <%for(var i in this.otherChannel){%>
                            <%if(this.otherChannel[i].type == "qq"){%>
                                <a target="_blank" href="//wpa.qq.com/msgrd?v=3&uin=<%this.otherChannel[i].value%>&site=qq&menu=yes"><img src="//<%this.staticHost%>/Image/qq.png"><%this.otherChannel[i].name%></a>
                            <%}else if(this.otherChannel[i].type == "wangwang"){%>
                                <a target="_blank" href="//amos.im.alisoft.com/msg.aw?v=2&uid=<%this.otherChannel[i].value%>&site=cntaobao&s=1&charset=utf-8"><img src="//<%this.staticHost%>/Image/wangwang.png"><%this.otherChannel[i].name%></a>
                            <%}%>
                        <%}%>
                    </div>
                    <div class="set-list-<%this.themeId%>-copyright" id="theme-icon-foot"><%this.footText%></div>
                </div>
            </div>
        */
console.log});return b(k,j)}function i(c,d,e,f,g,h,i,j,k){var l={themeId:c,staticHost:d,imgsrc:e,style:f,themeColor:g,isMobile:h,title:i,iconSize:j||"",icon_view:p.icon_view,iconContent:k};if(h)if(k)var m=a(function(){/*@preserve
                <div style="<%this.style%>">
                    <%this.iconContent%>
                </div>
                */
console.log});else var m=a(function(){/*@preserve
                <div style="<%this.style%>">
                    <a class="kf-frontend-click-to-chat" href="javascript:" style="<%this.iconSize%>;">
                    <img class="img-click-to-chat" style="float:left;position: absolute;border:none;width:100%;height:100%;" src="<%this.imgsrc%>" <%this.title%> />
                    <div class="input-click-to-chat" style="width:100%;height:100%;background-color:<%this.themeColor%>;border:none; " disabled="disabled"></div>
                    </a>
                </div>
                */
console.log});else if(k)var m=a(function(){/*@preserve
                    <div style="<%this.style%>">
                        <div style="display:inline-block;position:relative;">
                            <%this.iconContent%>
                        </div>
                    </div>
                */
console.log});else if(p.icon&&1==p.icon.icon_personal&&p.icon_view)var m=a(function(){/*@preserve
                        <div style="<%this.style%>">
                            <%this.icon_view%>
                        </div>
                    */
console.log});else var m=a(function(){/*@preserve
                        <div style="<%this.style%>">
                            <a class="kf-frontend-click-to-chat" href="javascript:">
                            <img style="border:none;" src="<%this.imgsrc%>" />
                            </a>
                        </div>
                    */
console.log});return b(m,l)}function j(c){c=c.replace(/\n/g,"<br/>");var d={title:c},e=a(function(){/*@preserve
                <div style="z-index:999999;border:1px solid; background:#FBFBFD;position:absolute;padding:3px;font-size:12px;color:#565656;display:none;">
                    <%this.title%>
                </div>
            */
console.log});return b(e,d)}function k(a){return null==q?!1:"any"==a?"1"==q.any:"groups"==a?result.groups:q}function l(a,b,c,d){if("list"==a)return r[a][b];var e=k("any");if(d){if("1"!=c.stretch_style)return r.icon[b];if(c.hasOwnProperty("stretchWidth")&&c.stretchWidth>0)return"-"+c.stretchWidth+"px";c.stretchImg}else{if(e&&c.onImgWidth)return"-"+c.onImgWidth+"px";if(!e&&c.offImgWidth)return"-"+c.offImgWidth+"px"}}function m(a,b,d){var g=f.detectMobile(),m=k("any"),n=g?p.mobile:p,q=""==n.displayType?"icon":n.displayType,r="icon"==q?n.icon:n.list,s=r.hasOwnProperty("display")?r.display:null;if(!m&&r.hasOwnProperty("offlineHiddenIcon")){if("yes"==r.offlineHiddenIcon)return}else if("yes"==r.hiddenIcon)return;if(d){if(r.hasOwnProperty("iconType")&&"1"==r.iconType)var t=m?r.themeColor:r.themeColorOff;else var t=r.themeColor;if(g)if(m)var u=r.onImgWidth,v=r.onImgHeight;else var u=r.offImgWidth,v=r.offImgHeight;var w="",x=p.themeId,y=p.staticHost,z=l(q,x,r,g);if(r.hasOwnProperty("iconType")&&"1"==r.iconType)var A=m?r.horizontal.lr:r.horizontal.lroff,B=m?r.vertical.tb:r.vertical.tboff,C=m?r.horizontal.px:r.horizontal.pxoff,D=m?r.vertical.px:r.vertical.pxoff;else var A=r.horizontal.lr,B=r.vertical.tb,C=r.horizontal.px,D=r.vertical.px;if("1"==s)w="position:absolute; "+A+":"+C+"px; "+B+":"+D+"px; ";else if("2"==s)w="position:fixed; "+A+":"+C+"px; "+B+":"+D+"px; ";else if("3"==s)w="";else if("4"==s){if("1"==r.stretch_style)if(w="position:fixed; "+A+":"+z+"; "+B+":"+D+"px; ",g)if("1"==r.iconType){var E=m?r.onlineContent:r.offlineContent;if(E){E=E.replace(/\{\$staticUrl\}/g,"//"+y+"/"),E=E.replace(/\{background\}/g,t);var F=e(E);E=F[0].outerHTML}}else var E=m?r.onlineImg:r.offlineImg;else var E=r.stretchImg;else if(g){if(g)if(w="position:fixed; min-height:135px; "+A+":"+z+"; "+B+":"+D+"px; ","1"==r.iconType){var E=m?r.onlineContent:r.offlineContent;if(E){E=E.replace(/\{\$staticUrl\}/g,"//"+y+"/"),E=E.replace(/\{background\}/g,t);var F=e(E);E=F[0].outerHTML}}else var E=m?r.onlineImg:r.offlineImg}else{w="position:fixed; min-height:135px; "+A+":"+z+"; "+B+":"+D+"px; ";var E="//"+y+"/Image/"+r.color+"_"+A+".gif"}if("left"==A){var G="right";w+="background-position:right top; padding-right: 0px;"}else{var G="left";w+="background-position:left top; padding-left: 0px;"}}"undefined"!=typeof n.icon_div_layer&&(w+="z-index:"+n.icon_div_layer+";");var H;if("icon"==q){var m=k("any"),I=m?r.onlineImg:r.offlineImg,J=m?r.onlineContent:r.offlineContent;if(J){J=J.replace(/\{\$staticUrl\}/g,"//"+y+"/"),J=J.replace(/\{background\}/g,t);var F=e(J);"{talk}"==F.attr("event")&&F.addClass("kf-frontend-click-to-chat"),F.find('*[event="{talk}"]').each(function(){e(this).addClass("kf-frontend-click-to-chat")}),J=F[0].outerHTML}var K=m?"":'title="'+r.serviceTime+'"',L="";"4"==s?(I="1"==r.stretch_style?r.stretchImg:g?m?r.stretchDefaultOnImg:r.stretchDefaultOffImg:n.icon.onlineImg,H=g?e.trim(i(x,y,I,w,t,0,K,"",null)):e.trim(i(x,y,I,w,t,0,K,"",J))):(g&&(m?(w+="width:"+r.onImgWidth+"px;",w+="height:"+r.onImgHeight+"px;",L="width:"+r.onImgWidth+"px;",L+="height:"+r.onImgHeight+"px;"):(w+="width:"+r.offImgWidth+"px;",w+="height:"+r.offImgHeight+"px;",L="width:"+r.offImgWidth+"px;",L+="height:"+r.offImgHeight+"px;")),H=e.trim(i(x,y,I,w,t,g,K,L,J)))}else"list"==q&&(H=e.trim(h(x,y,r.group,r.otherChannel,r.footText,w,r.headTitle)));var M=e(H);switch(s){case"1":e("body").append(M);break;case"2":e("body").append(M);break;case"3":var N=o.require("Frontend.BootstrapElement");e(N.parentElement).append(M);break;case"4":g?"1"==r.iconType?M.prepend("<div class='53kfTempBackgroundBtn' style='position:relative;vertical-align:top;float:"+G+"'>"+E+"</div>"):M.prepend("<input class='53kfTempBackgroundBtn' style='float:"+G+";width:"+u+"px;height:"+v+"px;background-color:"+t+";border:none; ' disabled='disabled'><img class='53kfTempBackgroundBtn' style='position: absolute;"+G+":0px;vertical-align:top;float:"+G+";width:"+u+"px;height:"+v+"px' src='"+E+"'></img>"):M.prepend("<img class='53kfTempBackgroundBtn' style='vertical-align:top;float:"+G+"' src='"+E+"'></img>"),e("body").append(M),M.hover(function(){"left"==A?e(this).animate({left:0},500,function(){e(".53kfTempBackgroundBtn").hide()}):e(this).animate({right:0},500,function(){e(".53kfTempBackgroundBtn").hide()})},function(){"left"==A?e(this).animate({left:z},500,function(){e(".53kfTempBackgroundBtn").show()}):e(this).animate({right:z},500,function(){e(".53kfTempBackgroundBtn").show()})})}if(M.find(".kf-frontend-click-to-chat").click(function(){var d=e(this).attr("gid");if("iconEnforce"==a){if(e("#hz6d-enforce-chat-iframe").length>0)return void("none"==e(".ui-draggable",parent.document).css("display")&&e(".ui-draggable",parent.document).css("display","block"));var f=b.getEnforceChat();f.open()}else c.open({groupId:d,chatStartType:"1"})}),!m&&K&&r.serviceTime){var O=e.trim(j(r.serviceTime)),P=e(O);e("body").append(P),M.find(".kf-frontend-click-to-chat").mouseenter(function(a){var b=M.offset().top,c=M.offset().left,d=e(window).width(),f=d-c-M.outerWidth(),g=P.outerHeight(!0);if(2*c>d)var h="right",i=f;else var h="left",i=c;P.css(h,i+"px"),P.css("top",b-g+"px"),P.show()}),M.find(".kf-frontend-click-to-chat").mouseleave(function(){P.hide()})}M.find("a.close_itself").click(function(){e(".main-click-to-check").hide()}),M.find("a.kf-click-to-call-phone").click(function(){var a=e(this).parent(".main-click-to-check").find("input").val(),b={};b=getExtraParamForKFInterface();var c=b.itemid,d=get53GuestInfo();return a?/^1(3|4|5|7|8)\d{9}$/.test(a)?void e.ajax({url:"http://"+n.chatHost+"/index/callPhone",type:"GET",dataType:"JSONP",timeout:3e4,data:{phone:a,id:c,data:d},error:function(a){console.log(a)},success:function(a){console.log(a)}}):(alert("号码格式有误"),!1):(alert("填写号码"),!1)})}}function n(a){var b=f.detectMobile(),c=b?p.mobile:p;return c[a]?c[a].area:""}var o=this,p=null,q=null,r={list:{2:"-139px",3:"-142px",4:"-147px",5:"-139px"},icon:{2:"-131px",3:"-108px",4:"-157px",5:"-128px"}};return{open:m,init:g,getIconCity:n}}),define("Frontend.Factory",["InviteDialog","EnforceChat","Icon","Socket"],function(a,b,c,d){"use strict";function e(){if(0==m)throw"Factory is not init"}function f(a,b){n=a,o=b,m=!0}function g(){return e(),n}function h(){if(e(),null==n)throw"config is null";return null==p&&(p=new a(n)),p}function i(){if(e(),null==n)throw"config is null";return b.init(n),b}function j(){if(e(),null==n)throw"config is null";return null==q&&(q=new d(n.javaHost,n.staticHost)),q}function k(){if(e(),null==n)throw"config is null";return c.init(n,o),c}function l(a){return c.getIconCity(a)}var m=!1,n=null,o=null,p=null,q=null;return{init:f,getConfig:g,getInviteDialog:h,getEnforceChat:i,getIcon:k,getSocket:j,getIconCity:l}}),define("Blend",["TemplateEngine","multiline","Frontend.Factory","Stat","Api","utils","OpenChat","jQuery",Base64,JSON,"getInterfaceExtraParam"],function(TE,multiline,Factory,Stat,Api,utils,OpenChat,$,Base64,JSON,ifsExtParam){"use strict";function addScript(a,b){"undefined"==typeof b&&(b=null);var c=document.createElement("script");c.type="text/javascript",c.src=a,c.onreadystatechange=b,c.onload=b,document.getElementsByTagName("head")[0].appendChild(c)}function addStyle(a){var b=document.createElement("link");b.type="text/css",b.rel="stylesheet",b.href=a,b.media="screen",document.getElementsByTagName("head")[0].appendChild(b)}function pullConfig(a,b,c,d){"string"!=typeof c&&(c="json");var e=c,f={url:a,type:"GET",contentType:"text/plain; charset=utf-8",crossDomain:!0,cache:!0,success:function(a){b(a)}};if("POST"==c){var g={from:document.referrer,url:window.location.href,referrer:document.referrer};g=Base64.encode(JSON.stringify(g));var f={url:a,data:{data:g},crossDomain:!0,xhrFields:{withCredentials:!0},success:function(a){b(a)}};e="json"}d&&(f.error=function(){d()}),"FIXED_JSONP"==c?(f.jsonpCallback="hz6d_jsonp_callback",f.dataType="JSONP"):f.dataType=e,utils.ajaxRequest(f)}function isCurIpInCity(a,b){for(var c=b.city,d=b.province,e=0;e<a.length;e++){if(a[e].name.substr(0,3)==c.substr(0,3))return!0;if(a[e].name.substr(0,3)==d.substr(0,3))return!0}return!1}function isInitOpen(a,b){var c=a.autoOpen,d=0;return"yes"==c&&(d=1,a.hasOwnProperty("city")&&!isCurIpInCity(a.city,b)&&(d=0)),d}function uuid(){for(var a=[],b="0123456789abcdef",c=0;36>c;c++)a[c]=b.substr(Math.floor(16*Math.random()),1);a[14]="4",a[19]=b.substr(3&a[19]|8,1),a[8]=a[13]=a[18]=a[23]="-";var d=a.join("");return d}function getisLnkSignature(a){LnkSignaturValue=null==$.cookie(LnkSignatur)?uuid():$.cookie(LnkSignatur);var b=(new Date).getTime()+2e4;$.cookie(LnkSignatur,LnkSignaturValue,{domain:a,path:"/",expires:new Date(b)})}function startListenServer(a){function b(a){c.send({cmd:"ACC",companyId:i.companyId,args:i,token:a,sid:i.guestId}),getisLnkSignature(f.cookieHost)}var c=Factory.getSocket(),d=Factory.getInviteDialog(),e=Factory.getEnforceChat(),f=Factory.getConfig(),g=f.trackInfo.id,h={},i=OpenChat.getParams(accTrackData);c.on("API",function(a,c){var d=a.token;this.token=d,b(d),setInterval(function(){b(d)},3e4)},h),c.on("IVT",function(a,b){if("invite"==a.type)d.open({from:"IVT",msg:a.msg,worker:a.worker});else if("force"==a.type){var c=(OpenChat.getParams({id6d:a.worker.id6d}),utils.getQuery("mode",f.codeUrl));if("iconEnforce"===c||"enforce"===c){if($("#hz6d-enforce-chat-iframe").length>0)return;c=1}else c=0;e.open(a.worker.id6d,c)}},h),c.connect(),c.send({cmd:"API",type:"REGACC",sid:g,namespace:"ACC"})}function preloadImgs(a){var b=utils.detectMobile();a.staticHost;if(b&&(a=a.mobile),"icon"==a.displayType&&"4"==a.icon.display){if(a.icon.hasOwnProperty("stretchImg")){var c=document.createElement("img");c.src=a.icon.stretchImg}if(a.icon.hasOwnProperty("stretchDefaultOffImg")){var d=document.createElement("img");d.src=a.icon.stretchDefaultOffImg}if(a.icon.hasOwnProperty("stretchDefaultOnImg")){var e=document.createElement("img");e.src=a.icon.stretchDefaultOnImg}}}function cookieTimeout(a,b){a=a||5,b=b||2;var c=(new Date).getTime()+1e3*(GET_TIMEOUT+a)*b;return new Date(c)}function isFirstVisitFn(){return null==$.cookie(firstVisitTimeKey)}function getFirstVisitTime(){return $.cookie(firstVisitTimeKey,Number)}function getFirstVisitReferrer(){return $.cookie(firstVisitReferrerKey)}function boot(config){preloadImgs(config);var callback=function(config){var companyId=config.companyId,styleId=config.styleId,themeId=config.themeId,staticHost=config.staticHost,chatHost=config.chatHost,apiHost=config.apiHost,cookieHost=chatHost.substr(chatHost.indexOf(".")+1);config.cookieHost=cookieHost,$.cookie("hz6d_company_id",companyId,{domain:cookieHost,path:"/"}),$.cookie("hz6d_style_id",styleId,{domain:cookieHost,path:"/"}),$.cookie("hz6d_theme_id",themeId,{domain:cookieHost,path:"/"}),$.cookie("hz6d_first_visit_time",(new Date).getTime()),$.cookie("hz6d_extra",JSON.stringify(config.extra),{domain:cookieHost,path:"/"});var extraParams={};if(extraParams=getExtraParamForKFInterface(),extraParams.memberId)var memberId=extraParams.memberId||"setKfDefaultMemberId";else var memberId=extraParams.client_name||"setKfDefaultMemberId";var memberObj=$.parseJSON($.cookie("hz6d_"+companyId+"_member_guest")||"{}")||{},curGId="new";memberId&&memberObj[memberId]&&(curGId=memberObj[memberId]),$.cookie("hz6d_"+companyId+"_guest_id",curGId,{domain:config.cookieHost,path:"/"});var trackParams={};trackParams.paramsHz6dExtra=$.cookie("hz6d_extra"),trackParams.paramsGuestId=curGId,trackParams.paramsMemberId=memberId,trackParams.paramsMemberGuest=$.cookie("hz6d_"+companyId+"_member_guest"),trackParams.paramsIsUv=$.cookie("hz6d_"+companyId+"_isuv"),trackParams.serverName=document.domain;var domReferrer=document.referrer||"";trackParams.firstVisitReferer=domReferrer.substring(0,200);var requestType="FIXED_JSONP";config.isChatTrackPost=1,1==config.isChatTrackPost&&(requestType="POST",trackParams.firstVisitReferer=domReferrer),trackParams.identifyNum=$.cookie("hz6d_identifyNum")||uuid(),trackParams.isMobile=utils.detectMobile()?utils.detectMobile():"pc",trackParams.keyWord=utils.parseKeyword(domReferrer),trackParams.site=utils.getQuery("site"),!config.init||"yes"!=config.init.autoOpen||"enforce"!=config.init.autoOpenAttributes.openType&&"doubleType"!=config.init.autoOpenAttributes.openType||utils.detectMobile()?trackParams.enforceFlag=0:trackParams.enforceFlag=1;var cssUrl="{0}{1}/themes/{2}/theme{3}.css".format(config.protocol,staticHost,themeId,themeId);if(addStyle(cssUrl),1==config.isUseStaticHostOnly)var trackHost=staticHost,trackEX="static.php/";else var trackHost=chatHost,trackEX="";var _gr_url="{0}{1}/{6}guest/track?companyId={2}&styleId={3}&themeId={4}&trackParams={5}".format(config.protocol,trackHost,companyId,styleId,themeId,encodeURIComponent(Base64.encode(JSON.stringify(trackParams))),trackEX);1==config.isChatTrackPost&&(requestType="POST"),pullConfig(_gr_url,function(json){config.trackInfo=json,config.trackData={};var guestId=config.trackInfo.id,trackData=config.trackData,isFirstVisit=!1,from=document.referrer,eachFrom=document.referrer,visitDuration=0,visitTime=config.trackInfo.visitTime;config.trackInfo.isFirstVisit?isFirstVisit=!0:(config.trackInfo.firstVisitReferer&&(from=config.trackInfo.firstVisitReferer),config.trackInfo.firstVisitTime&&(visitDuration=visitTime-config.trackInfo.firstVisitTime)),getisLnkSignature(config.cookieHost),trackData.workerId=extraParams.worker_id?extraParams.worker_id:"",trackData.group_id=extraParams.group_id?extraParams.group_id:"",trackData.client_name=extraParams.client_name||"";var timestamp=parseInt((new Date).getTime()/1e3);config.trackInfo.site||(config.trackInfo.site=utils.getQuery("site",from)||""),trackData.acc_time=timestamp,trackData.guestId=guestId,trackData.name=config.trackInfo.name,trackData.companyId=companyId,trackData.styleId=styleId,trackData.themeId=themeId,trackData.from=from,trackData.keyword=utils.parseKeyword(eachFrom),trackData.searchEngine=utils.parseSearchEngine(eachFrom),trackData.FirstKeyword=utils.parseKeyword(from),trackData.FirstSearchEngine=utils.parseSearchEngine(from),trackData.visitTime=(new Date).getTime(),trackData.url=window.location.href,trackData.title=document.title,trackData.referrer=document.referrer,trackData.ip=config.trackInfo.ip,trackData.area=config.trackInfo.area,trackData.lastVisitTime=config.trackInfo.lastVisitTime,trackData.visitNum=config.trackInfo.visitNum,trackData.lastChatTime=config.trackInfo.lastChatTime,trackData.chatNum=config.trackInfo.chatNum,trackData.status=GUEST_STATUS.VISIT,trackData.visitDuration=visitDuration||0,trackData.browser=utils.detectBrowser(),trackData.lang=utils.detectLanguage()||"",trackData.os=utils.detectOS(),trackData.resolution=utils.detectResolution(),trackData.isuv=config.trackInfo.isuv,trackData.identifyNum=config.trackInfo.identifyNum||"",trackData.isNewGuest=json.isNewGuest,trackData.isMobile=utils.detectMobile()?utils.detectMobile():"pc",trackData.firstVisitTime=config.trackInfo.firstVisitTime||"",Stat.init({companyId:companyId,javaHost:config.javaHost,identify:guestId,styleId:styleId});var kfstatus=json.kfstatus;accTrackData=trackData,OpenChat.init(config),window.get53GuestInfo=function(){return OpenChat.getParams(accTrackData)},Stat.track("view page",OpenChat.getParams(trackData)),Api.init(config.javaHost,config.styleId);var mode=utils.getQuery("mode",config.codeUrl);if(window.open53Enforce=function(){if(!($("#hz6d-enforce-chat-iframe").length>0)){var a=Factory.getEnforceChat();a.open(null,null,null,null,1)}},window.open53Chat=function(){var a={chatStartType:"0"};OpenChat.open(a)},"enforce"===mode){Factory.init(config,kfstatus),startListenServer(function(){});var el=utils.getQuery("el",config.codeUrl);return void(""!=el&&$("."+el).click(function(){if($("#hz6d-enforce-chat-iframe").length>0)return void("none"==$(".ui-draggable",parent.document).css("display")&&$(".ui-draggable",parent.document).css("display","block"));var a=Factory.getEnforceChat();a.open()}))}if("4"===mode)return OpenChat.open({chatStartType:"0"}),Factory.init(config,kfstatus),void startListenServer(function(){});if("5"===mode)return void OpenChat.open({chatStartType:"0"},5);var el=utils.getQuery("el",config.codeUrl);if(""!=el?(OpenChat.init(config),$("."+el).click(function(){var a,b,c=$(this).attr("chat-block"),d=$(this).attr("class").split(" "),e="";for(a in d){b=d[a];try{b&&/^style53kf/.test(b)&&(e=b.split("-")[1])}catch(f){}}var g={chatStartType:"0"};""!=e&&(g.styleId=e),c&&(g.chatBlock=c),OpenChat.open(g)}),""==mode&&(mode="2")):""==mode&&(mode="1"),"2"==mode)return Factory.init(config,kfstatus),void startListenServer(function(){});Factory.init(config,kfstatus),startListenServer(function(){});var inviteDialog=Factory.getInviteDialog(),EnforceChat=Factory.getEnforceChat(),Icon=Factory.getIcon(),IconCity=Factory.getIconCity("icon")||"",ListCity=Factory.getIconCity("list")||"",isShow=0==IconCity.length||isCurIpInCity(IconCity,config.trackInfo.area),isShowList=0==ListCity.length||isCurIpInCity(ListCity,config.trackInfo.area),isMobile=utils.detectMobile();if(isMobile&&config.mobile)var initConfig=config.mobile.init||config.init;else var initConfig=config.init;if(isInitOpen(initConfig,config.trackInfo.area)){if("invite"==initConfig.autoOpenAttributes.openType){var isNeedInvite=null!=kfstatus&&"1"==kfstatus.any||"yes"==initConfig.autoOpenAttributes.offlineInvite;if(isNeedInvite){if("yes"==initConfig.autoOpenAttributes.openInterval){var interval=initConfig.autoOpenAttributes.intervalTime;inviteDialog.on("close",function(a){if("yes"!=initConfig.autoOpenAttributes.rejectOpen){var b=a.obj;setTimeout(function(){b.open({from:"interval"})},1e3*interval)}})}else inviteDialog.on("close",function(a){});if("yes"==initConfig.autoOpenAttributes.openDelay){var delay=initConfig.autoOpenAttributes.delayTime;setTimeout(function(){inviteDialog.open({from:"delay"},!0)},1e3*delay)}else inviteDialog.open({from:"direct"},!0)}}if("enforce"==initConfig.autoOpenAttributes.openType)if(initConfig.autoOpenAttributes&&"yes"==initConfig.autoOpenAttributes.openDelay&&!isMobile){var delay=initConfig.autoOpenAttributes.delayTime;setTimeout(function(){EnforceChat.open(null,null,null,null,1)},1e3*delay)}else EnforceChat.open(null,null,null,null,1);if("doubleType"==initConfig.autoOpenAttributes.openType){var isNeedInvite=null!=kfstatus&&"1"==kfstatus.any||"yes"==initConfig.autoOpenAttributes.offlineInvite;if(isNeedInvite){if("yes"==initConfig.autoOpenAttributes.openInterval){var interval=initConfig.autoOpenAttributes.intervalTime;inviteDialog.on("close",function(a){"yes"!=initConfig.autoOpenAttributes.rejectOpen&&setTimeout(function(){EnforceChat.open(null,null,!0,Factory,1)},1e3*interval)})}else inviteDialog.on("close",function(a){EnforceChat.open(null,null,!0,Factory,1)});if("yes"==initConfig.autoOpenAttributes.openDelay){var delay=initConfig.autoOpenAttributes.delayTime;setTimeout(function(){inviteDialog.open({from:"delay"},!0)},1e3*delay)}else inviteDialog.open({from:"direct"},!0)}}}if(isShow&&isShowList)var showIcon=!0;else var showIcon=!1;"iconEnforce"==mode?Icon.open(mode,Factory,showIcon):Icon.open(null,null,showIcon),eval(json.third_party_js)},requestType)};ifsExtParam.init(config),ifsExtParam.isCryption(callback)}var GUEST_STATUS={VISIT:1,WAIT:2,INVITE:3,REFUSE:4,CHAT:5,OVER:6},GET_TIMEOUT=15,globalCodeUrl="",LnkSignatur="hz6d_lnk_Signatur",LnkSignaturValue="",accTrackData={};return function(a,b,c){var d=utils.parseUrl(c).host;d=d.replace(/:[0-9]{1,5}/,"");var e=utils.getQuery("style",c);pullConfig(a,function(a){var f=utils.getQuery("singleStaticDomain",c);f&&(d=d+"/"+f,utils.isObject(a.staticHost)&&(a.apiHost=a.apiHost.singleDomain,a.chatHost=a.chatHost.singleDomain,a.staticHost=a.staticHost.singleDomain,a.javaHost=a.javaHost.singleDomain));var g=/\/\/[^*]+$/;a.protocol=window.location.protocol+"//",a.icon&&a.icon.hasOwnProperty("offlineImg")&&a.icon.hasOwnProperty("onlineImg")&&(a.icon.offlineImg.match(g)?a.icon.offlineImg=window.location.protocol+a.icon.offlineImg.match(g)[0]:a.icon.offlineImg=window.location.protocol+a.icon.offlineImg,a.icon.onlineImg.match(g)?a.icon.onlineImg=window.location.protocol+a.icon.onlineImg.match(g)[0]:a.icon.onlineImg=window.location.protocol+a.icon.onlineImg),utils.isObject(a.staticHost)?(a.apiHost=a.apiHost[d],a.chatHost=a.chatHost[d],1==a.isUseStaticHostOnly?a.javaHost=window.location.protocol+"//"+a.staticHost[d]+"/sendmsg.jsp":a.javaHost=window.location.protocol+"//"+a.javaHost[d],a.staticHost=a.staticHost[d]):1==a.isUseStaticHostOnly?a.javaHost=window.location.protocol+"//"+a.staticHost+"/sendmsg.jsp":a.javaHost=window.location.protocol+a.javaHost.match(g)[0],a.extra=b,a.codeUrl=c,ifsExtParam.setCodeUrl(c),globalCodeUrl=c,"default"==e?pullConfig(window.location.protocol+"//"+d+"/frontend/extend.json",function(b){var d=utils.getQuery("companyId",c),e=!1;if($.each(b.extendCompany,function(a,b){b==d&&(e=!0)}),e){var f=$.extend({},a,b);boot(f)}else boot(a)},"json",function(){boot(a)}):boot(a)})}}),function(){var a=document.getElementById("53kfscript");if(!a){var b=document.getElementsByTagName("script"),a=b[b.length-1];if(!a.src.match("Js/chat/kf.min.js?")&&!a.src.match("Js/chat/kf.js?"))for(var c=b.length-1;c>=0;c--)if(b[c].src.match("Js/chat/kf.js?")||b[c].src.match("Js/chat/kf.min.js?")){a=b[c];break}}define("Frontend.BootstrapElement",a)}(),use("jQuery",function(a){a(function(){use(["Blend","Stat","utils","Frontend.BootstrapElement",Base64,JSON],function(b,c,d,e,f,g){var h=document.querySelector?e.src:e.getAttribute("src",4),i=d.parseUrl(h),j=d.getQuery("style",h),k=d.getQuery("companyId",h),l=d.getQuery("singleStaticDomain",h),m=d.getQuery("extra",h);if(""!=m)try{m=a.parseJSON(f.decode(m)),m.uid||(m=null)}catch(n){m=null}l?b(window.location.protocol+"//"+i.host+"/"+l+"/frontend/"+k+"/"+j+".json",m,h):b(window.location.protocol+"//"+i.host+"/frontend/"+k+"/"+j+".json",m,h)})})});